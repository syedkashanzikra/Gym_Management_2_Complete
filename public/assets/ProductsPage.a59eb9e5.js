import{_ as h,M as w,N as _,r as u,o as P,a as k,w as n,f as i,K as C,I as f,a5 as y,i as S,e as q,t as R}from"./index.46fdd451.js";import{Q as v}from"./QPage.701dd41d.js";import{u as g}from"./index.dbe12f27.js";import"./tag.19d681e9.js";import"./category.8d269d68.js";import"./collection.a5cbc931.js";const B={data(){return{loading:!1,loaded:!1,selected:[],pagination:{sortBy:"TITLE_ASC",descending:!1,page:1,filter:"",deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1},useProductStore:g()}},methods:{...w(g,["get"]),onRequest(e){console.func("pages/admins/products/ProductsPage:methods.onRequest()",arguments);const{page:t,rowsPerPage:m,sortBy:p,descending:o,vendor:a,category:r,tag:d,collection:c}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,vendor:a==null?void 0:a.id,category:r==null?void 0:r.id,tag:d==null?void 0:d.id,collection:c==null?void 0:c.id,direction:o?"desc":"asc"}).then(({meta:l})=>{this.pagination.rowsNumber=l.total,this.pagination.page=t,this.pagination.rowsPerPage=m,this.pagination.sortBy=p,this.pagination.descending=o,this.pagination.loaded=!0,this.pagination.from=l.from,this.pagination.to=l.to,this.loading=!1}).catch(l=>{this.$core.error(l,{title:this.$t("dialog.title.error")})})},async actionClicked(e,t){console.func("pages/admins/products/ProductsPage:methods.actionClicked()",arguments)},async toolbarClicked(e,t){console.func("pages/admins/products/ProductsPage:methods.toolbarClicked()",arguments)},async rowClicked(e,t){console.func("pages/admins/products/ProductsPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Product",params:{id:t.id},query:{action:"edit"}})}},computed:{..._(g,["rows","actions","module","columns","toolbar","filters"])},watch:{$route(){this.onRequest({pagination:this.pagination})}}},N={class:"ellipsis"};function A(e,t,m,p,o,a){const r=u("base-thumbnail"),d=u("base-btn"),c=u("base-status"),l=u("base-table"),b=u("base-section");return P(),k(v,{padding:""},{default:n(()=>[i(b,{flat:"",bordered:"","no-row":""},{default:n(()=>[i(l,{store:o.useProductStore,module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:o.loading,pagination:o.pagination,onRequest:a.onRequest,onActionClicked:a.actionClicked,onToolbarClicked:a.toolbarClicked,onRowClicked:a.rowClicked,"no-data-label":e.$t("products.noData"),"table-key":"products",selected:o.selected,"onUpdate:selected":t[1]||(t[1]=s=>o.selected=s)},{"body-cell-title":n(s=>[i(C,{class:"q-pa-none",dense:""},{default:n(()=>[i(f,{avatar:""},{default:n(()=>[i(r,{size:40,media:s.row.thumbnail},null,8,["media"])]),_:2},1024),i(f,{avatar:""},{default:n(()=>[i(d,{onClick:t[0]||(t[0]=y(()=>{},["stop"])),link:"",style:S(s.col.style),tag:"a",to:{name:"Single Product",params:{id:s.row.id},query:{action:"edit"}},align:"left"},{default:n(()=>[q("div",N,R(s.value),1)]),_:2},1032,["style","to"])]),_:2},1024)]),_:2},1024)]),"body-cell-status":n(s=>[i(c,{type:s.row.status},null,8,["type"])]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked","no-data-label","selected"])]),_:1})]),_:1})}var V=h(B,[["render",A]]);export{V as default};
