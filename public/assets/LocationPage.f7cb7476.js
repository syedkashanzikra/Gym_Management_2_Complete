import{_ as x,aE as i,M as y,r as n,o as d,a as u,w as l,e as m,f as r,h as k,t as v,J as V}from"./index.46fdd451.js";import{Q as C}from"./QPage.701dd41d.js";import{S as N}from"./SkeletonSinglePage.f05b1d90.js";import{u as D}from"./location.aec3ed16.js";import"./QSkeleton.a3e15f44.js";const p={is_active:!0},L={components:{SkeletonSinglePage:N},data(){return{default:i.exports.cloneDeep(p),location:i.exports.cloneDeep(p),loaded:!1,submited:!1}},methods:{...y(D,["store","show","update"]),onSubmit(e){console.func("pages/admins/locations/LocationPage:methods.onSubmit()",arguments),this.submited=!0,(this.creating?this.store:this.update)(this.location).then(({data:t,message:h})=>{this.submited=!1,this.$q.notify(h),this.location=t,this.default=i.exports.cloneDeep(t),this.$router.push({name:"Single Location",params:{id:t.id},query:{action:"edit"}})}).catch(t=>{this.submited=!1,this.$core.error(t,{title:this.$t("dialog.title.error")})})},onReset(e){console.func("pages/admins/locations/LocationPage:methods.onReset()",arguments),this.loaded=!1,this.$nextTick(()=>{this.location=i.exports.cloneDeep(this.default),this.loaded=!0})},onCancel(e){console.func("pages/admins/locations/LocationPage:methods.onCancel()",arguments),this.$router.go(-1)}},async mounted(){this.creating?this.loaded=!0:this.show(this.id).then(e=>{this.location=e,this.default=i.exports.cloneDeep(e),this.loaded=!0}).catch(e=>{this.$emit("error",e)})},computed:{edit(){return["add","edit"].includes(this.action)||this.id==="add"},creating(){return this.id==="add"},id(){return this.$route.params.id},action(){return this.$route.query.action},disable(){return this.default&&JSON.stringify(this.location)===JSON.stringify(this.default)},resetable(){return this.default&&JSON.stringify(this.location)!==JSON.stringify(this.default)}}},P={class:"q-gutter-md"},q={class:"col-xs-12 col-sm-12"},J={class:"col-xs-12"};function R(e,s,t,h,o,a){const f=n("base-label"),b=n("base-input"),g=n("base-section"),_=n("base-form"),S=n("skeleton-single-page");return d(),u(C,{padding:""},{default:l(()=>[o.loaded?(d(),u(_,{key:0,onSubmit:a.onSubmit,onCancel:a.onCancel,onReset:a.onReset,resetable:a.resetable,disable:a.disable,submited:o.submited},{default:l(()=>[m("div",P,[r(g,{flat:"",bordered:"",title:e.$t("generalInformation")},{default:l(()=>[m("div",q,[r(f,{required:""},{default:l(()=>[k(v(e.$t("label.label")),1)]),_:1}),r(b,{modelValue:o.location.label,"onUpdate:modelValue":s[0]||(s[0]=c=>o.location.label=c),name:"label",type:"text"},null,8,["modelValue"])]),m("div",J,[r(V,{dense:"",modelValue:o.location.is_active,"onUpdate:modelValue":s[1]||(s[1]=c=>o.location.is_active=c),label:e.$t("active"),color:"green"},null,8,["modelValue","label"])])]),_:1},8,["title"])])]),_:1},8,["onSubmit","onCancel","onReset","resetable","disable","submited"])):(d(),u(S,{key:1}))]),_:1})}var T=x(L,[["render",R]]);export{T as default};
