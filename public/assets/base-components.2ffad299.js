import{_ as W,r as X,o as u,a as S,w as d,d as C,e as q,f as s,Q as ae,g as P,F as oe,t as U,h as qe,n as re,i as yt,j as va,k as I,l as N,m as an,p as pa,q as _a,s as Sn,v as Oe,x as ul,y as B,z as We,B as ba,D as k,E as Cn,G as dl,H as ya,I as se,J as _t,K as Le,L as wn,M as ln,N as rn,u as Bt,O as tn,P as cl,R as et,S as wa,T as $o,U as zo,V as ka,W as Ft,X as Sa,Y as fl,Z as Uo,$ as Ca,a0 as hl,a1 as uo,a2 as cn,a3 as Rn,a4 as ve,a5 as lt,a6 as xa,a7 as nt,a8 as it,a9 as wt,aa as xn,ab as nn,ac as ct,ad as qa,ae as ml,af as sn,ag as Pe,ah as ut,ai as dt,aj as gl,ak as vl,al as pl,am as _l,an as bl,ao as yl,ap as wl,aq as kl,ar as xo,as as Ro,at as Qo,au as Sl,av as Da,aw as Ta,ax as Yo,ay as Cl,az as xl,aA as ql,aB as Dl,aC as Tl,aD as Bl,aE as Ve,aF as Ne,aG as Ol,aH as Pl,aI as El,aJ as Ml,aK as co,aL as Wo,aM as qo,aN as Al,aO as Il,b as Vl,aP as $l}from"./index.46fdd451.js";import{Q as Do}from"./QBadge.942c3fbf.js";import{Q as zl,F as Fl,a as Ba,b as gn,c as Zt,d as To,e as Oa,u as jl}from"./FileCard.22a9b7b0.js";import{Q as Bo,u as Nl,v as Ko,a as Ll,b as Hl,c as Ul,r as Xo,s as Rl,p as Go,d as Ql}from"./QMenu.84416a21.js";import{Q as Oo,u as Yl,a as Wl,b as Kl,c as Xl,d as Gl}from"./QColor.12e1666a.js";import{Q as kn}from"./QPopupProxy.e4ea2ef4.js";import{u as Jl}from"./QTabPanel.ecb3f794.js";import{Q as Zn}from"./QToolbarTitle.cb225f03.js";import{Q as eo}from"./QToolbar.72090c76.js";import{Q as ft}from"./QItemLabel.249954d1.js";import{Q as Qn}from"./QImg.7965eef6.js";import{a as Jo}from"./index.becf6c0c.js";import{c as Zo}from"./selection.e9a8e664.js";import{u as Zl,a as ei,b as ti,Q as ni,c as oi}from"./QTable.1702d6ef.js";import{Q as ai}from"./QInnerLoading.1459e1ed.js";import{u as li}from"./enquiry.aa47bedc.js";import{T as Pa}from"./EnquiryStatus.73cac8d7.js";import{Q as ii}from"./QForm.fcd62a44.js";import{Q as ri}from"./QBanner.bf86e8e3.js";import{c as Ea}from"./colors.8bd06824.js";import{Q as si}from"./QField.98c52be8.js";import{u as ui}from"./plan.58f50406.js";import{Q as di}from"./QSelect.37e8c679.js";import{Q as ci}from"./QChip.2eda5f32.js";import{Q as fi}from"./QDrawer.25599cf1.js";import{Q as ea}from"./QTd.d26cec80.js";import{Q as He}from"./QSkeleton.a3e15f44.js";import{Q as hi}from"./QMarkupTable.c79e7e8d.js";import{u as mi}from"./task.d65cd3de.js";import{T as gi}from"./TouchPan.ea2c677f.js";import"./QResizeObserver.b7431853.js";import"./rtl.b51694b1.js";import"./touch.3df10340.js";const vi={props:{user:{required:!0,type:Object},size:{required:!1,type:String,default:"60px"},tooltip:Boolean,rounded:Boolean,square:Boolean,overlapping:Number},computed:{styles(){const e={background:this.color};return this.isOverlapping&&(e.left=this.overlapping*25+"px"),e},isOverlapping(){return!isNaN(this.overlapping)},letters(){return(this.user.name||this.user.company_name).split(" ").slice(-2).map(e=>e.charAt(0)).join("")},color(){return this.$core.stringToHslColor(this.user.name||this.user.company_name)}}},pi=["src"];function _i(e,n,t,o,l,a){const i=X("base-tooltip");return u(),S(va,{class:re({"base-avatar":!0,overlapping:a.isOverlapping}),rounded:t.rounded,square:t.square,size:t.size,style:yt(a.styles),"text-color":"white"},{default:d(()=>[t.user.avatar?(u(),C(oe,{key:0},[q("img",{src:t.user.avatar.url},null,8,pi),["online","offline"].includes(t.user.status)?(u(),S(Do,{key:0,color:"transparent",floating:""},{default:d(()=>[s(ae,{dense:"",round:"",name:"brightness_1",color:t.user.status=="online"?"positive":"grey",size:"10px"},null,8,["color"])]),_:1})):P("",!0)],64)):t.user.name||t.user.company_name?(u(),C(oe,{key:1},[q("span",null,U(a.letters),1),["online","offline"].includes(t.user.status)?(u(),S(Do,{key:0,color:"transparent",floating:""},{default:d(()=>[s(ae,{dense:"",round:"",name:"brightness_1",color:t.user.status=="online"?"positive":"grey",size:"10px"},null,8,["color"])]),_:1})):P("",!0)],64)):P("",!0),t.tooltip?(u(),S(i,{key:2,position:"top"},{default:d(()=>[qe(U(t.user.name),1)]),_:1})):P("",!0)]),_:1},8,["class","rounded","square","size","style"])}var Ma=W(vi,[["render",_i]]),bi=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"}));const yi={props:{link:{type:[Boolean],required:!1,default:!1},icon:String,verticalMiddel:Boolean,caps:Boolean}};function wi(e,n,t,o,l,a){return u(),S(N,{color:"primary","no-caps":!t.caps,ripple:!t.link,class:re({"base-btn__no-focus btn-link":t.link,"has-icon":t.icon,"no-icon":!t.icon,"base-btn":!0,"vertical-align-middle":t.verticalMiddel}),flat:t.link,dense:t.link,icon:t.icon,size:"13px"},{default:d(()=>[I(e.$slots,"default")]),_:3},8,["no-caps","ripple","class","flat","dense","icon"])}var Aa=W(yi,[["render",wi]]),ki=Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"}));const Si=Object.keys(pa),Ci=e=>Si.reduce((n,t)=>{const o=e[t];return o!==void 0&&(n[t]=o),n},{});var to=an({name:"QBtnDropdown",props:{...pa,..._a,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:n,emit:t}){const{proxy:o}=Sn(),l=Oe(e.modelValue),a=Oe(null),i=ul(),c=B(()=>{const v={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":i,"aria-label":e.toggleAriaLabel||o.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(v["aria-disabled"]="true"),v}),h=B(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),g=B(()=>dl(e)),_=B(()=>Ci(e));We(()=>e.modelValue,v=>{a.value!==null&&a.value[v?"show":"hide"]()}),We(()=>e.split,A);function m(v){l.value=!0,t("beforeShow",v)}function b(v){t("show",v),t("update:modelValue",!0)}function M(v){l.value=!1,t("beforeHide",v)}function z(v){t("hide",v),t("update:modelValue",!1)}function $(v){t("click",v)}function R(v){ya(v),A(),t("click",v)}function pe(v){a.value!==null&&a.value.toggle(v)}function ne(v){a.value!==null&&a.value.show(v)}function A(v){a.value!==null&&a.value.hide(v)}return Object.assign(o,{show:ne,hide:A,toggle:pe}),ba(()=>{e.modelValue===!0&&ne()}),()=>{const v=[k(ae,{class:h.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&v.push(k(Bo,{ref:a,id:i,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:m,onShow:b,onBeforeHide:M,onHide:z},n.default)),e.split===!1?k(N,{class:"q-btn-dropdown q-btn-dropdown--simple",..._.value,...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:$},{default:()=>Cn(n.label,[]).concat(v),loading:n.loading}):k(zl,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...g.value,glossy:e.glossy,stretch:e.stretch},()=>[k(N,{class:"q-btn-dropdown--current",..._.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:R},{default:n.label,loading:n.loading}),k(N,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...c.value,...g.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>v)])}}});const xi={props:{link:{type:[Boolean],required:!1,default:!1}}};function qi(e,n,t,o,l,a){return u(),S(to,{color:"primary","no-caps":"",ripple:!t.link,class:re({"base-btn__no-focus btn-link":t.link,"base-btn-dropdown":!0}),flat:t.link,dense:t.link,size:"13px"},{default:d(()=>[I(e.$slots,"default")]),_:3},8,["ripple","class","flat","dense"])}var Ia=W(xi,[["render",qi]]),Di=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"}));const Ti={props:{modelValue:{required:!0},label:{required:!1,type:[String]},noInline:{type:Boolean,default:!1},readonly:Boolean,leftLabel:Boolean},emits:["update:model-value"],methods:{onChange(e){if(console.func("components/base/BaseCheckbox:methods.onChange()",arguments),this.readonly)return!1;this.$emit("update:model-value",e)}}};function Bi(e,n,t,o,l,a){return u(),S(Le,{class:re({"base-checkbox no-wrap":!0,inline:!t.noInline,readonly:t.readonly}),tag:"label",dense:""},{default:d(()=>[t.leftLabel?P("",!0):(u(),S(se,{key:0,style:{"min-width":"auto","padding-right":"0.5em"},top:"",avatar:""},{default:d(()=>[s(_t,{dense:"","model-value":t.modelValue,"onUpdate:modelValue":a.onChange},null,8,["model-value","onUpdate:modelValue"])]),_:1})),s(se,{class:"justify-start base-checkbox-label"},{default:d(()=>[I(e.$slots,"default",{},()=>[q("div",null,U(t.label),1)])]),_:3}),t.leftLabel?(u(),S(se,{key:1,style:{"min-width":"auto","padding-left":"0.5em"},top:"",side:""},{default:d(()=>[s(_t,{dense:"","model-value":t.modelValue,"onUpdate:modelValue":a.onChange},null,8,["model-value","onUpdate:modelValue"])]),_:1})):P("",!0)]),_:3},8,["class"])}var Oi=W(Ti,[["render",Bi]]),Pi=Object.freeze(Object.defineProperty({__proto__:null,default:Oi},Symbol.toStringTag,{value:"Module"}));const Ei={props:{modelValue:{},usePicker:Boolean},methods:{onChange(e){console.func("components/base/BaseColorInput:methods.onChange",arguments),this.$emit("update:model-value",e)}}};function Mi(e,n,t,o,l,a){const i=X("base-input");return u(),S(i,{readonly:"",class:re({"base-color-input":!0,"use-picker":t.usePicker}),dense:""},wn({prepend:d(()=>[s(ae,{name:"fas fa-square",style:yt({color:t.modelValue})},{default:d(()=>[s(kn,{"transition-show":"scale","transition-hide":"scale"},{default:d(()=>[s(Oo,{model:t.modelValue,"onUpdate:modelValue":a.onChange},null,8,["model","onUpdate:modelValue"])]),_:1})]),_:1},8,["style"])]),_:2},[t.usePicker?{name:"append",fn:d(()=>[s(ae,{name:"colorize",class:"cursor-pointer"},{default:d(()=>[s(kn,{"transition-show":"scale","transition-hide":"scale"},{default:d(()=>[s(Oo,{model:t.modelValue,"onUpdate:modelValue":a.onChange},null,8,["model","onUpdate:modelValue"])]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["class"])}var Ai=W(Ei,[["render",Mi]]),Ii=Object.freeze(Object.defineProperty({__proto__:null,default:Ai},Symbol.toStringTag,{value:"Module"}));const Vi={methods:{...ln(Bt,["logout"]),onLogout(){this.logout(this.$route.meta.guard).then(()=>{this.$router.push({name:"Login"})}).catch(e=>{this.$router.push({name:"Login"})})}},computed:{...rn(Bt,["user"])}},$i={class:"row items-center user-label"},zi={class:"col col-auto"},Fi={key:0,class:"q-ml-xs col"},ji={class:"ellipsis text-subtitle2"};function Ni(e,n,t,o,l,a){const i=X("base-avatar"),c=X("base-item");return u(),S(to,{"no-caps":"",class:"base-current-user base-btn-dropdown q-px-none",ripple:!1,color:"primary"},{label:d(()=>[q("div",$i,[q("div",zi,[s(i,{size:"28px",user:e.user},null,8,["user"])]),e.$q.screen.gt.xs?(u(),C("div",Fi,[q("div",ji,U(e.user.name),1)])):P("",!0)])]),default:d(()=>[s(tn,{class:"q-pa-sm"},{default:d(()=>[s(c,{dense:"","icon-color":"primary",link:"",label:e.$t("myAccount.title"),to:{name:"My Account"},icon:"fas fa-user"},null,8,["label"]),s(c,{dense:"","icon-color":"primary",link:"",label:e.$t("logout"),icon:"fas fa-sign-out",onClick:a.onLogout},null,8,["label","onClick"])]),_:1})]),_:1})}var Li=W(Vi,[["render",Ni]]),Hi=Object.freeze(Object.defineProperty({__proto__:null,default:Li},Symbol.toStringTag,{value:"Module"}));const Ui=["gregorian","persian"],Va={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ui.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},$a=["update:modelValue"];function pt(e){return e.year+"/"+et(e.month)+"/"+et(e.day)}function za(e,n){const t=B(()=>e.disable!==!0&&e.readonly!==!0),o=B(()=>t.value===!0?0:-1),l=B(()=>{const c=[];return e.color!==void 0&&c.push(`bg-${e.color}`),e.textColor!==void 0&&c.push(`text-${e.textColor}`),c.join(" ")});function a(){return e.locale!==void 0?{...n.lang.date,...e.locale}:n.lang.date}function i(c){const h=new Date,g=c===!0?null:0;if(e.calendar==="persian"){const _=cl(h);return{year:_.jy,month:_.jm,day:_.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:g,minute:g,second:g,millisecond:g}}return{editable:t,tabindex:o,headerClass:l,getLocale:a,getCurrentDate:i}}const It=20,Ri=["Calendar","Years","Months"],ta=e=>Ri.includes(e),fo=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Qt=" \u2014 ";function xt(e){return e.year+"/"+et(e.month)}var Qi=an({name:"QDate",props:{...Va,...wa,...$o,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:fo},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:fo},navigationMaxYearMonth:{type:String,validator:fo},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ta}},emits:[...$a,"rangeStart","rangeEnd","navigation"],setup(e,{slots:n,emit:t}){const{proxy:o}=Sn(),{$q:l}=o,a=zo(e,l),{getCache:i}=Jl(),{tabindex:c,headerClass:h,getLocale:g,getCurrentDate:_}=za(e,l);let m;const b=ka(e),M=Sa(b),z=Oe(null),$=Oe(Ht()),R=Oe(g()),pe=B(()=>Ht()),ne=B(()=>g()),A=B(()=>_()),v=Oe(En($.value,R.value)),F=Oe(e.defaultView),Ee=l.lang.rtl===!0?"right":"left",J=Oe(Ee.value),ce=Oe(Ee.value),_e=v.value.year,Ie=Oe(_e-_e%It-(_e<0?It:0)),ue=Oe(null),$e=B(()=>{const r=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${r} q-date--${r}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),fe=B(()=>e.color||"primary"),we=B(()=>e.textColor||"white"),he=B(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),me=B(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ge=B(()=>me.value.filter(r=>typeof r=="string").map(r=>un(r,$.value,R.value)).filter(r=>r.dateHash!==null&&r.day!==null&&r.month!==null&&r.year!==null)),De=B(()=>{const r=f=>un(f,$.value,R.value);return me.value.filter(f=>fl(f)===!0&&f.from!==void 0&&f.to!==void 0).map(f=>({from:r(f.from),to:r(f.to)})).filter(f=>f.from.dateHash!==null&&f.to.dateHash!==null&&f.from.dateHash<f.to.dateHash)}),ot=B(()=>e.calendar!=="persian"?r=>new Date(r.year,r.month-1,r.day):r=>{const f=Uo(r.year,r.month,r.day);return new Date(f.gy,f.gm-1,f.gd)}),rt=B(()=>e.calendar==="persian"?pt:(r,f,p)=>Ca(new Date(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),f===void 0?$.value:f,p===void 0?R.value:p,r.year,r.timezoneOffset)),Fe=B(()=>ge.value.length+De.value.reduce((r,f)=>r+1+hl(ot.value(f.to),ot.value(f.from)),0)),Re=B(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ue.value!==null){const p=ue.value.init,O=ot.value(p);return R.value.daysShort[O.getDay()]+", "+R.value.monthsShort[p.month-1]+" "+p.day+Qt+"?"}if(Fe.value===0)return Qt;if(Fe.value>1)return`${Fe.value} ${R.value.pluralDay}`;const r=ge.value[0],f=ot.value(r);return isNaN(f.valueOf())===!0?Qt:R.value.headerTitle!==void 0?R.value.headerTitle(f,r):R.value.daysShort[f.getDay()]+", "+R.value.monthsShort[r.month-1]+" "+r.day}),ke=B(()=>ge.value.concat(De.value.map(f=>f.from)).sort((f,p)=>f.year-p.year||f.month-p.month)[0]),Ke=B(()=>ge.value.concat(De.value.map(f=>f.to)).sort((f,p)=>p.year-f.year||p.month-f.month)[0]),Te=B(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(Fe.value===0)return Qt;if(Fe.value>1){const r=ke.value,f=Ke.value,p=R.value.monthsShort;return p[r.month-1]+(r.year!==f.year?" "+r.year+Qt+p[f.month-1]+" ":r.month!==f.month?Qt+p[f.month-1]:"")+" "+f.year}return ge.value[0].year}),Xe=B(()=>{const r=[l.iconSet.datetime.arrowLeft,l.iconSet.datetime.arrowRight];return l.lang.rtl===!0?r.reverse():r}),Ct=B(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):R.value.firstDayOfWeek),w=B(()=>{const r=R.value.daysShort,f=Ct.value;return f>0?r.slice(f,7).concat(r.slice(0,f)):r}),x=B(()=>{const r=v.value;return e.calendar!=="persian"?new Date(r.year,r.month,0).getDate():uo(r.year,r.month)}),Z=B(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),G=B(()=>{if(e.navigationMinYearMonth===void 0)return null;const r=e.navigationMinYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),de=B(()=>{if(e.navigationMaxYearMonth===void 0)return null;const r=e.navigationMaxYearMonth.split("/");return{year:parseInt(r[0],10),month:parseInt(r[1],10)}}),Ot=B(()=>{const r={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return G.value!==null&&G.value.year>=v.value.year&&(r.year.prev=!1,G.value.year===v.value.year&&G.value.month>=v.value.month&&(r.month.prev=!1)),de.value!==null&&de.value.year<=v.value.year&&(r.year.next=!1,de.value.year===v.value.year&&de.value.month<=v.value.month&&(r.month.next=!1)),r}),jt=B(()=>{const r={};return ge.value.forEach(f=>{const p=xt(f);r[p]===void 0&&(r[p]=[]),r[p].push(f.day)}),r}),Tn=B(()=>{const r={};return De.value.forEach(f=>{const p=xt(f.from),O=xt(f.to);if(r[p]===void 0&&(r[p]=[]),r[p].push({from:f.from.day,to:p===O?f.to.day:void 0,range:f}),p<O){let E;const{year:le,month:V}=f.from,K=V<12?{year:le,month:V+1}:{year:le+1,month:1};for(;(E=xt(K))<=O;)r[E]===void 0&&(r[E]=[]),r[E].push({from:void 0,to:E===O?f.to.day:void 0,range:f}),K.month++,K.month>12&&(K.year++,K.month=1)}}),r}),Pt=B(()=>{if(ue.value===null)return;const{init:r,initHash:f,final:p,finalHash:O}=ue.value,[E,le]=f<=O?[r,p]:[p,r],V=xt(E),K=xt(le);if(V!==Qe.value&&K!==Qe.value)return;const be={};return V===Qe.value?(be.from=E.day,be.includeFrom=!0):be.from=1,K===Qe.value?(be.to=le.day,be.includeTo=!0):be.to=x.value,be}),Qe=B(()=>xt(v.value)),ao=B(()=>{const r={};if(e.options===void 0){for(let p=1;p<=x.value;p++)r[p]=!0;return r}const f=typeof e.options=="function"?e.options:p=>e.options.includes(p);for(let p=1;p<=x.value;p++){const O=Qe.value+"/"+et(p);r[p]=f(O)}return r}),lo=B(()=>{const r={};if(e.events===void 0)for(let f=1;f<=x.value;f++)r[f]=!1;else{const f=typeof e.events=="function"?e.events:p=>e.events.includes(p);for(let p=1;p<=x.value;p++){const O=Qe.value+"/"+et(p);r[p]=f(O)===!0&&Z.value(O)}}return r}),Nt=B(()=>{let r,f;const{year:p,month:O}=v.value;if(e.calendar!=="persian")r=new Date(p,O-1,1),f=new Date(p,O-1,0).getDate();else{const E=Uo(p,O,1);r=new Date(E.gy,E.gm-1,E.gd);let le=O-1,V=p;le===0&&(le=12,V--),f=uo(V,le)}return{days:r.getDay()-Ct.value-1,endDay:f}}),Et=B(()=>{const r=[],{days:f,endDay:p}=Nt.value,O=f<0?f+7:f;if(O<6)for(let V=p-O;V<=p;V++)r.push({i:V,fill:!0});const E=r.length;for(let V=1;V<=x.value;V++){const K={i:V,event:lo.value[V],classes:[]};ao.value[V]===!0&&(K.in=!0,K.flat=!0),r.push(K)}if(jt.value[Qe.value]!==void 0&&jt.value[Qe.value].forEach(V=>{const K=E+V-1;Object.assign(r[K],{selected:!0,unelevated:!0,flat:!1,color:fe.value,textColor:we.value})}),Tn.value[Qe.value]!==void 0&&Tn.value[Qe.value].forEach(V=>{if(V.from!==void 0){const K=E+V.from-1,be=E+(V.to||x.value)-1;for(let dn=K;dn<=be;dn++)Object.assign(r[dn],{range:V.range,unelevated:!0,color:fe.value,textColor:we.value});Object.assign(r[K],{rangeFrom:!0,flat:!1}),V.to!==void 0&&Object.assign(r[be],{rangeTo:!0,flat:!1})}else if(V.to!==void 0){const K=E+V.to-1;for(let be=E;be<=K;be++)Object.assign(r[be],{range:V.range,unelevated:!0,color:fe.value,textColor:we.value});Object.assign(r[K],{flat:!1,rangeTo:!0})}else{const K=E+x.value-1;for(let be=E;be<=K;be++)Object.assign(r[be],{range:V.range,unelevated:!0,color:fe.value,textColor:we.value})}}),Pt.value!==void 0){const V=E+Pt.value.from-1,K=E+Pt.value.to-1;for(let be=V;be<=K;be++)r[be].color=fe.value,r[be].editRange=!0;Pt.value.includeFrom===!0&&(r[V].editRangeFrom=!0),Pt.value.includeTo===!0&&(r[K].editRangeTo=!0)}v.value.year===A.value.year&&v.value.month===A.value.month&&(r[E+A.value.day-1].today=!0);const le=r.length%7;if(le>0){const V=7-le;for(let K=1;K<=V;K++)r.push({i:K,fill:!0})}return r.forEach(V=>{let K="q-date__calendar-item ";V.fill===!0?K+="q-date__calendar-item--fill":(K+=`q-date__calendar-item--${V.in===!0?"in":"out"}`,V.range!==void 0&&(K+=` q-date__range${V.rangeTo===!0?"-to":V.rangeFrom===!0?"-from":""}`),V.editRange===!0&&(K+=` q-date__edit-range${V.editRangeFrom===!0?"-from":""}${V.editRangeTo===!0?"-to":""}`),(V.range!==void 0||V.editRange===!0)&&(K+=` text-${V.color}`)),V.classes=K}),r}),Lt=B(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});We(()=>e.modelValue,r=>{if(m===r)m=0;else{const f=En($.value,R.value);Be(f.year,f.month,f)}}),We(F,()=>{z.value!==null&&o.$el.contains(document.activeElement)===!0&&z.value.focus()}),We(()=>v.value.year+"|"+v.value.month,()=>{t("navigation",{year:v.value.year,month:v.value.month})}),We(pe,r=>{Ho(r,R.value,"mask"),$.value=r}),We(ne,r=>{Ho($.value,r,"locale"),R.value=r});function Bn(){const{year:r,month:f,day:p}=A.value,O={...v.value,year:r,month:f,day:p},E=jt.value[xt(O)];(E===void 0||E.includes(O.day)===!1)&&io(O),Mt(O.year,O.month)}function On(r){ta(r)===!0&&(F.value=r)}function Pn(r,f){["month","year"].includes(r)&&(r==="month"?D:j)(f===!0?-1:1)}function Mt(r,f){F.value="Calendar",Be(r,f)}function At(r,f){if(e.range===!1||!r){ue.value=null;return}const p=Object.assign({...v.value},r),O=f!==void 0?Object.assign({...v.value},f):p;ue.value={init:p,initHash:pt(p),final:O,finalHash:pt(O)},Mt(p.year,p.month)}function Ht(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function un(r,f,p){return cn(r,f,p,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function En(r,f){const p=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(p.length===0)return y();const O=p[p.length-1],E=un(O.from!==void 0?O.from:O,r,f);return E.dateHash===null?y():E}function y(){let r,f;if(e.defaultYearMonth!==void 0){const p=e.defaultYearMonth.split("/");r=parseInt(p[0],10),f=parseInt(p[1],10)}else{const p=A.value!==void 0?A.value:_();r=p.year,f=p.month}return{year:r,month:f,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:r+"/"+et(f)+"/01"}}function D(r){let f=v.value.year,p=Number(v.value.month)+r;p===13?(p=1,f++):p===0&&(p=12,f--),Be(f,p),he.value===!0&&Ut("month")}function j(r){const f=Number(v.value.year)+r;Be(f,v.value.month),he.value===!0&&Ut("year")}function ee(r){Be(r,v.value.month),F.value=e.defaultView==="Years"?"Months":"Calendar",he.value===!0&&Ut("year")}function Se(r){Be(v.value.year,r),F.value="Calendar",he.value===!0&&Ut("month")}function Ge(r,f){const p=jt.value[f];(p!==void 0&&p.includes(r.day)===!0?ro:io)(r)}function Q(r){return{year:r.year,month:r.month,day:r.day}}function Be(r,f,p){if(G.value!==null&&r<=G.value.year&&((f<G.value.month||r<G.value.year)&&(f=G.value.month),r=G.value.year),de.value!==null&&r>=de.value.year&&((f>de.value.month||r>de.value.year)&&(f=de.value.month),r=de.value.year),p!==void 0){const{hour:E,minute:le,second:V,millisecond:K,timezoneOffset:be,timeHash:dn}=p;Object.assign(v.value,{hour:E,minute:le,second:V,millisecond:K,timezoneOffset:be,timeHash:dn})}const O=r+"/"+et(f)+"/01";O!==v.value.dateHash&&(J.value=v.value.dateHash<O==(l.lang.rtl!==!0)?"left":"right",r!==v.value.year&&(ce.value=J.value),Rn(()=>{Ie.value=r-r%It-(r<0?It:0),Object.assign(v.value,{year:r,month:f,day:1,dateHash:O})}))}function ht(r,f,p){const O=r!==null&&r.length===1&&e.multiple===!1?r[0]:r;m=O;const{reason:E,details:le}=Mn(f,p);t("update:modelValue",O,E,le)}function Ut(r){const f=ge.value[0]!==void 0&&ge.value[0].dateHash!==null?{...ge.value[0]}:{...v.value};Rn(()=>{f.year=v.value.year,f.month=v.value.month;const p=e.calendar!=="persian"?new Date(f.year,f.month,0).getDate():uo(f.year,f.month);f.day=Math.min(Math.max(1,f.day),p);const O=Rt(f);m=O;const{details:E}=Mn("",f);t("update:modelValue",O,r,E)})}function Mn(r,f){return f.from!==void 0?{reason:`${r}-range`,details:{...Q(f.target),from:Q(f.from),to:Q(f.to)}}:{reason:`${r}-day`,details:Q(f)}}function Rt(r,f,p){return r.from!==void 0?{from:rt.value(r.from,f,p),to:rt.value(r.to,f,p)}:rt.value(r,f,p)}function io(r){let f;if(e.multiple===!0)if(r.from!==void 0){const p=pt(r.from),O=pt(r.to),E=ge.value.filter(V=>V.dateHash<p||V.dateHash>O),le=De.value.filter(({from:V,to:K})=>K.dateHash<p||V.dateHash>O);f=E.concat(le).concat(r).map(V=>Rt(V))}else{const p=me.value.slice();p.push(Rt(r)),f=p}else f=Rt(r);ht(f,"add",r)}function ro(r){if(e.noUnset===!0)return;let f=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const p=Rt(r);r.from!==void 0?f=e.modelValue.filter(O=>O.from!==void 0?O.from!==p.from&&O.to!==p.to:!0):f=e.modelValue.filter(O=>O!==p),f.length===0&&(f=null)}ht(f,"remove",r)}function Ho(r,f,p){const O=ge.value.concat(De.value).map(E=>Rt(E,r,f)).filter(E=>E.from!==void 0?E.from.dateHash!==null&&E.to.dateHash!==null:E.dateHash!==null);t("update:modelValue",(e.multiple===!0?O:O[0])||null,p)}function ll(){if(e.minimal!==!0)return k("div",{class:"q-date__header "+h.value},[k("div",{class:"relative-position"},[k(Ft,{name:"q-transition--fade"},()=>k("div",{key:"h-yr-"+Te.value,class:"q-date__header-subtitle q-date__header-link "+(F.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...i("vY",{onClick(){F.value="Years"},onKeyup(r){r.keyCode===13&&(F.value="Years")}})},[Te.value]))]),k("div",{class:"q-date__header-title relative-position flex no-wrap"},[k("div",{class:"relative-position col"},[k(Ft,{name:"q-transition--fade"},()=>k("div",{key:"h-sub"+Re.value,class:"q-date__header-title-label q-date__header-link "+(F.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:c.value,...i("vC",{onClick(){F.value="Calendar"},onKeyup(r){r.keyCode===13&&(F.value="Calendar")}})},[Re.value]))]),e.todayBtn===!0?k(N,{class:"q-date__header-today self-start",icon:l.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:c.value,onClick:Bn}):null])])}function so({label:r,type:f,key:p,dir:O,goTo:E,boundaries:le,cls:V}){return[k("div",{class:"row items-center q-date__arrow"},[k(N,{round:!0,dense:!0,size:"sm",flat:!0,icon:Xe.value[0],tabindex:c.value,disable:le.prev===!1,...i("go-#"+f,{onClick(){E(-1)}})})]),k("div",{class:"relative-position overflow-hidden flex flex-center"+V},[k(Ft,{name:"q-transition--jump-"+O},()=>k("div",{key:p},[k(N,{flat:!0,dense:!0,noCaps:!0,label:r,tabindex:c.value,...i("view#"+f,{onClick:()=>{F.value=f}})})]))]),k("div",{class:"row items-center q-date__arrow"},[k(N,{round:!0,dense:!0,size:"sm",flat:!0,icon:Xe.value[1],tabindex:c.value,disable:le.next===!1,...i("go+#"+f,{onClick(){E(1)}})})])]}const il={Calendar:()=>[k("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[k("div",{class:"q-date__navigation row items-center no-wrap"},so({label:R.value.months[v.value.month-1],type:"Months",key:v.value.month,dir:J.value,goTo:D,boundaries:Ot.value.month,cls:" col"}).concat(so({label:v.value.year,type:"Years",key:v.value.year,dir:ce.value,goTo:j,boundaries:Ot.value.year,cls:""}))),k("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},w.value.map(r=>k("div",{class:"q-date__calendar-item"},[k("div",r)]))),k("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[k(Ft,{name:"q-transition--slide-"+J.value},()=>k("div",{key:Qe.value,class:"q-date__calendar-days fit"},Et.value.map(r=>k("div",{class:r.classes},[r.in===!0?k(N,{class:r.today===!0?"q-date__today":"",dense:!0,flat:r.flat,unelevated:r.unelevated,color:r.color,textColor:r.textColor,label:r.i,tabindex:c.value,...i("day#"+r.i,{onClick:()=>{rl(r.i)},onMouseover:()=>{sl(r.i)}})},r.event!==!1?()=>k("div",{class:"q-date__event bg-"+r.event}):null):k("div",""+r.i)]))))])])],Months(){const r=v.value.year===A.value.year,f=O=>G.value!==null&&v.value.year===G.value.year&&G.value.month>O||de.value!==null&&v.value.year===de.value.year&&de.value.month<O,p=R.value.monthsShort.map((O,E)=>{const le=v.value.month===E+1;return k("div",{class:"q-date__months-item flex flex-center"},[k(N,{class:r===!0&&A.value.month===E+1?"q-date__today":null,flat:le!==!0,label:O,unelevated:le,color:le===!0?fe.value:null,textColor:le===!0?we.value:null,tabindex:c.value,disable:f(E+1),...i("month#"+E,{onClick:()=>{Se(E+1)}})})])});return e.yearsInMonthView===!0&&p.unshift(k("div",{class:"row no-wrap full-width"},[so({label:v.value.year,type:"Years",key:v.value.year,dir:ce.value,goTo:j,boundaries:Ot.value.year,cls:" col"})])),k("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},p)},Years(){const r=Ie.value,f=r+It,p=[],O=E=>G.value!==null&&G.value.year>E||de.value!==null&&de.value.year<E;for(let E=r;E<=f;E++){const le=v.value.year===E;p.push(k("div",{class:"q-date__years-item flex flex-center"},[k(N,{key:"yr"+E,class:A.value.year===E?"q-date__today":null,flat:!le,label:E,dense:!0,unelevated:le,color:le===!0?fe.value:null,textColor:le===!0?we.value:null,tabindex:c.value,disable:O(E),...i("yr#"+E,{onClick:()=>{ee(E)}})})]))}return k("div",{class:"q-date__view q-date__years flex flex-center"},[k("div",{class:"col-auto"},[k(N,{round:!0,dense:!0,flat:!0,icon:Xe.value[0],tabindex:c.value,disable:O(r),...i("y-",{onClick:()=>{Ie.value-=It}})})]),k("div",{class:"q-date__years-content col self-stretch row items-center"},p),k("div",{class:"col-auto"},[k(N,{round:!0,dense:!0,flat:!0,icon:Xe.value[1],tabindex:c.value,disable:O(f),...i("y+",{onClick:()=>{Ie.value+=It}})})])])}};function rl(r){const f={...v.value,day:r};if(e.range===!1){Ge(f,Qe.value);return}if(ue.value===null){const p=Et.value.find(E=>E.fill!==!0&&E.i===r);if(e.noUnset!==!0&&p.range!==void 0){ro({target:f,from:p.range.from,to:p.range.to});return}if(p.selected===!0){ro(f);return}const O=pt(f);ue.value={init:f,initHash:O,final:f,finalHash:O},t("rangeStart",Q(f))}else{const p=ue.value.initHash,O=pt(f),E=p<=O?{from:ue.value.init,to:f}:{from:f,to:ue.value.init};ue.value=null,io(p===O?f:{target:f,...E}),t("rangeEnd",{from:Q(E.from),to:Q(E.to)})}}function sl(r){if(ue.value!==null){const f={...v.value,day:r};Object.assign(ue.value,{final:f,finalHash:pt(f)})}}return Object.assign(o,{setToday:Bn,setView:On,offsetCalendar:Pn,setCalendarTo:Mt,setEditingRange:At}),()=>{const r=[k("div",{class:"q-date__content col relative-position"},[k(Ft,{name:"q-transition--fade"},il[F.value])])],f=Cn(n.default);return f!==void 0&&r.push(k("div",{class:"q-date__actions"},f)),e.name!==void 0&&e.disable!==!0&&M(r,"push"),k("div",{class:$e.value,...Lt.value},[ll(),k("div",{ref:z,class:"q-date__main col column",tabindex:-1},r)])}}});const Yi={props:{modelValue:[String,Object],readonly:Boolean,disable:Boolean,noRange:Boolean,manualEmit:Boolean,debounce:{type:[Number,String],default:"0"},mask:{type:String,default:"DD/MM/YYYY"},onlyFuture:Boolean},data(){return{range:!1,date:this.modelValue}},emits:["update:model-value"],methods:{onChange(e){if(console.func("components/base/BaseDateInput:methods.onChange",arguments),this.manualEmit)return;const n=()=>this.$emit("update:model-value",e);this.$core.debounce(n,this.debounce)},onManualEmit(){console.func("components/base/BaseDateInput:methods.onManualEmit",arguments),!(!this.manualEmit||this.noChange)&&this.$emit("update:model-value",this.date)},onClear(){console.func("components/base/BaseDateInput:methods.onClear",arguments),this.date&&(this.date=void 0,this.range=!1,this.$emit("update:model-value",void 0))},options(e){return this.onlyFuture?e>this.$core.formatDate(new Date,"YYYY/MM/DD"):!0}},computed:{selected(){if(!this.modelValue)return"";if(typeof this.modelValue=="object"&&"from"in this.modelValue){const e=this.$core.formatDate(this.modelValue.from,this.mask),n=this.$core.formatDate(this.modelValue.to,this.mask);return`${e} - ${n}`}return this.$core.formatDate(this.modelValue,this.mask)},noChange(){return this.date===this.modelValue}}},Wi={class:"row items-center justify-end q-gutter-sm"},Ki={key:0};function Xi(e,n,t,o,l,a){return u(),S(wt,{class:"base-input base-date-input",placeholder:t.mask,readonly:"",modelValue:a.selected},{append:d(()=>[ve(s(ae,{onClick:n[2]||(n[2]=lt(()=>{},["stop"])),name:"event",class:"cursor-pointer"},{default:d(()=>[s(kn,{onBeforeHide:a.onManualEmit,cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[s(Qi,{"onUpdate:modelValue":[a.onChange,n[1]||(n[1]=i=>l.date=i)],"today-btn":"",range:l.range,modelValue:l.date,"first-day-of-week":"1",options:a.options},{default:d(()=>[q("div",Wi,[t.noRange?P("",!0):(u(),C("div",Ki,[s(xa,{size:"sm",modelValue:l.range,"onUpdate:modelValue":n[0]||(n[0]=i=>l.range=i),dense:"",label:e.$t("range")},null,8,["modelValue","label"])])),ve(s(N,{label:e.$t("clear"),color:"primary",onClick:lt(a.onClear,["stop"]),flat:""},null,8,["label","onClick"]),[[nt]]),ve(s(N,{onClick:lt(a.onManualEmit,["stop"]),label:e.$t("ok"),color:"primary",flat:""},null,8,["onClick","label"]),[[nt]])])]),_:1},8,["onUpdate:modelValue","range","modelValue","options"])]),_:1},8,["onBeforeHide"])]),_:1},512),[[it,!t.readonly]])]),_:1},8,["placeholder","modelValue"])}var Gi=W(Yi,[["render",Xi]]),Ji=Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"}));const Zi={props:{title:{type:String,default:"Base dialog title"},contentStyle:{type:[String,Object],default:"width: 800px; max-width: 95vw"},bodyStyle:{type:[String,Object],default:"max-height: 60vh"},bodyClass:{type:[String],default:""},contentClass:{type:[String],default:""},doneLabel:String,hideFooter:Boolean,hideHeader:Boolean,useSeparator:Boolean,disable:Boolean,loading:Boolean},emits:["ok","hide"],methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onDone(){this.$emit("ok")}}},er=q("div",{class:"q-py-xl"},"Base dialog body content.",-1),tr={class:"q-gutter-sm"};function nr(e,n,t,o,l,a){return u(),S(qa,{"transition-show":"jump-up","transition-hide":"jump-down",class:"base-dialog",ref:"dialog",onHide:a.onDialogHide},{default:d(()=>[s(xn,{style:yt(t.contentStyle),class:re(t.contentClass)},{default:d(()=>[I(e.$slots,"default",{},()=>[t.hideHeader?P("",!0):I(e.$slots,"header",{key:0},()=>[s(eo,{style:{padding:"0 27px","min-height":"60px"},class:"bg-transparent"},{default:d(()=>[s(Zn,{class:"text-h6 text-weight-medium"},{default:d(()=>[qe(U(t.title),1)]),_:1}),ve(s(N,{flat:"",size:"11px",round:"",dense:"",icon:"fal fa-times"},null,512),[[nt]])]),_:1}),ve(s(nn,null,null,512),[[it,t.useSeparator]])]),s(ct,{style:yt(t.bodyStyle),class:re("q-pa-md "+t.bodyClass)},{default:d(()=>[I(e.$slots,"body",{},()=>[er])]),_:3},8,["style","class"]),t.hideFooter?P("",!0):(u(),C(oe,{key:1},[ve(s(nn,null,null,512),[[it,t.useSeparator]]),I(e.$slots,"footer",{},()=>[s(ct,{class:"text-right"},{default:d(()=>{var i;return[q("div",tr,[ve(s(N,{"no-caps":"",label:e.$t("cancel"),color:"grey",outline:""},null,8,["label"]),[[nt]]),s(N,{disable:t.disable,loading:t.loading,"no-caps":"",label:(i=t.doneLabel)!=null?i:e.$t("done"),color:"primary",onClick:a.onDone},null,8,["disable","loading","label","onClick"])])]}),_:1})])],64)),I(e.$slots,"loading")])]),_:3},8,["style","class"])]),_:3},8,["onHide"])}var or=W(Zi,[["render",nr]]),ar=Object.freeze(Object.defineProperty({__proto__:null,default:or},Symbol.toStringTag,{value:"Module"}));const lr={props:{type:{required:!0,type:String,validator:function(e){return["photo","video"].indexOf(e)!==-1}}},data(){return{url:null}},emits:["ok","hide"],methods:{show(){console.func("components/file-from-url:methods.show()",arguments),this.$refs.dialog.show()},hide(){console.func("components/file-from-url:methods.close()",arguments),this.$refs.dialog.hide()},onDialogHide(){console.func("components/file-from-url:methods.onDialogHide()",arguments),this.$emit("hide")},async onDone(){try{let e=null,n=null,t=null;const o=new URL(this.url),l=new FormData;this.type==="photo"?l.append("source",this.url):(o.host.includes("vimeo")?(n=o.pathname.replace("/",""),e=`https://player.vimeo.com/video/${n}`,await Jo.get(`https://vimeo.com/api/v2/video/${n}.json`,{withCredentials:!1}).then(({data:a})=>{t=a[0].thumbnail_large}).catch(a=>{this.$core.error(a)})):o.host.includes("youtube")&&(n=o.searchParams.get("v"),e=`https://www.youtube.com/embed/${n}`,t=`https://img.youtube.com/vi/${n}/hqdefault.jpg`),l.append("source",t),l.append("is_embed",1),l.append("embed_type",o.host),l.append("embed_id",n),l.append("embed_url",e)),await Jo.post("files/upload-from-source",l).then(({data:a})=>{console.log("response",a),this.$emit("ok",a)}),this.hide()}catch(e){this.$core.error(e)}}},computed:{disable(){return!this.url},title(){return this.type==="photo"?this.$t("addPhotoFromUrl"):this.$t("embedVideo")},label(){return this.type==="photo"?this.$t("pasteImageUrl"):this.$t("youTubeOrVimeoUrl")}}},ir={class:"q-gutter-sm"};function rr(e,n,t,o,l,a){const i=X("base-label"),c=X("base-input"),h=X("base-dialog");return u(),S(h,{title:a.title,ref:"dialog","body-class":"scroll",persistent:"","use-separator":"",onHide:a.onDialogHide},{body:d(()=>[s(i,null,{default:d(()=>[qe(U(a.label),1)]),_:1}),s(c,{modelValue:l.url,"onUpdate:modelValue":n[0]||(n[0]=g=>l.url=g),type:"url",placeholder:"https://"},null,8,["modelValue"])]),footer:d(()=>[s(ct,{class:"text-right"},{default:d(()=>[q("div",ir,[ve(s(N,{"no-caps":"",outline:"",label:e.$t("cancel"),color:"grey"},null,8,["label"]),[[nt]]),s(N,{disable:a.disable,"no-caps":"",label:e.$t("done"),color:"primary",onClick:a.onDone},null,8,["disable","label","onClick"])])]),_:1})]),_:1},8,["title","onHide"])}var sr=W(lr,[["render",rr]]);/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function na(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,o)}return t}function vt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?na(Object(t),!0).forEach(function(o){ur(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):na(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function jn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jn=function(n){return typeof n}:jn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jn(e)}function ur(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function kt(){return kt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kt.apply(this,arguments)}function dr(e,n){if(e==null)return{};var t={},o=Object.keys(e),l,a;for(a=0;a<o.length;a++)l=o[a],!(n.indexOf(l)>=0)&&(t[l]=e[l]);return t}function cr(e,n){if(e==null)return{};var t=dr(e,n),o,l;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)o=a[l],!(n.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(t[o]=e[o]))}return t}var fr="1.14.0";function bt(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var St=bt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qn=bt(/Edge/i),oa=bt(/firefox/i),vn=bt(/safari/i)&&!bt(/chrome/i)&&!bt(/android/i),Fa=bt(/iP(ad|od|hone)/i),hr=bt(/chrome/i)&&bt(/android/i),ja={capture:!1,passive:!1};function ie(e,n,t){e.addEventListener(n,t,!St&&ja)}function te(e,n,t){e.removeEventListener(n,t,!St&&ja)}function Yn(e,n){if(!!n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function mr(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function mt(e,n,t,o){if(e){t=t||document;do{if(n!=null&&(n[0]===">"?e.parentNode===t&&Yn(e,n):Yn(e,n))||o&&e===t)return e;if(e===t)break}while(e=mr(e))}return null}var aa=/\s+/g;function Je(e,n,t){if(e&&n)if(e.classList)e.classList[t?"add":"remove"](n);else{var o=(" "+e.className+" ").replace(aa," ").replace(" "+n+" "," ");e.className=(o+(t?" "+n:"")).replace(aa," ")}}function L(e,n,t){var o=e&&e.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),n===void 0?t:t[n];!(n in o)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),o[n]=t+(typeof t=="string"?"":"px")}}function en(e,n){var t="";if(typeof e=="string")t=e;else do{var o=L(e,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!n&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(t)}function Na(e,n,t){if(e){var o=e.getElementsByTagName(n),l=0,a=o.length;if(t)for(;l<a;l++)t(o[l],l);return o}return[]}function gt(){var e=document.scrollingElement;return e||document.documentElement}function Ae(e,n,t,o,l){if(!(!e.getBoundingClientRect&&e!==window)){var a,i,c,h,g,_,m;if(e!==window&&e.parentNode&&e!==gt()?(a=e.getBoundingClientRect(),i=a.top,c=a.left,h=a.bottom,g=a.right,_=a.height,m=a.width):(i=0,c=0,h=window.innerHeight,g=window.innerWidth,_=window.innerHeight,m=window.innerWidth),(n||t)&&e!==window&&(l=l||e.parentNode,!St))do if(l&&l.getBoundingClientRect&&(L(l,"transform")!=="none"||t&&L(l,"position")!=="static")){var b=l.getBoundingClientRect();i-=b.top+parseInt(L(l,"border-top-width")),c-=b.left+parseInt(L(l,"border-left-width")),h=i+a.height,g=c+a.width;break}while(l=l.parentNode);if(o&&e!==window){var M=en(l||e),z=M&&M.a,$=M&&M.d;M&&(i/=$,c/=z,m/=z,_/=$,h=i+_,g=c+m)}return{top:i,left:c,bottom:h,right:g,width:m,height:_}}}function la(e,n,t){for(var o=Tt(e,!0),l=Ae(e)[n];o;){var a=Ae(o)[t],i=void 0;if(t==="top"||t==="left"?i=l>=a:i=l<=a,!i)return o;if(o===gt())break;o=Tt(o,!1)}return!1}function on(e,n,t,o){for(var l=0,a=0,i=e.children;a<i.length;){if(i[a].style.display!=="none"&&i[a]!==H.ghost&&(o||i[a]!==H.dragged)&&mt(i[a],t.draggable,e,!1)){if(l===n)return i[a];l++}a++}return null}function Fo(e,n){for(var t=e.lastElementChild;t&&(t===H.ghost||L(t,"display")==="none"||n&&!Yn(t,n));)t=t.previousElementSibling;return t||null}function at(e,n){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==H.clone&&(!n||Yn(e,n))&&t++;return t}function ia(e){var n=0,t=0,o=gt();if(e)do{var l=en(e),a=l.a,i=l.d;n+=e.scrollLeft*a,t+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[n,t]}function gr(e,n){for(var t in e)if(!!e.hasOwnProperty(t)){for(var o in n)if(n.hasOwnProperty(o)&&n[o]===e[t][o])return Number(t)}return-1}function Tt(e,n){if(!e||!e.getBoundingClientRect)return gt();var t=e,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var l=L(t);if(t.clientWidth<t.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return gt();if(o||n)return t;o=!0}}while(t=t.parentNode);return gt()}function vr(e,n){if(e&&n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function ho(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var pn;function La(e,n){return function(){if(!pn){var t=arguments,o=this;t.length===1?e.call(o,t[0]):e.apply(o,t),pn=setTimeout(function(){pn=void 0},n)}}}function pr(){clearTimeout(pn),pn=void 0}function Ha(e,n,t){e.scrollLeft+=n,e.scrollTop+=t}function Ua(e){var n=window.Polymer,t=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}var tt="Sortable"+new Date().getTime();function _r(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(l){if(!(L(l,"display")==="none"||l===H.ghost)){e.push({target:l,rect:Ae(l)});var a=vt({},e[e.length-1].rect);if(l.thisAnimationDuration){var i=en(l,!0);i&&(a.top-=i.f,a.left-=i.e)}l.fromRect=a}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(gr(e,{target:o}),1)},animateAll:function(o){var l=this;if(!this.options.animation){clearTimeout(n),typeof o=="function"&&o();return}var a=!1,i=0;e.forEach(function(c){var h=0,g=c.target,_=g.fromRect,m=Ae(g),b=g.prevFromRect,M=g.prevToRect,z=c.rect,$=en(g,!0);$&&(m.top-=$.f,m.left-=$.e),g.toRect=m,g.thisAnimationDuration&&ho(b,m)&&!ho(_,m)&&(z.top-m.top)/(z.left-m.left)===(_.top-m.top)/(_.left-m.left)&&(h=yr(z,b,M,l.options)),ho(m,_)||(g.prevFromRect=_,g.prevToRect=m,h||(h=l.options.animation),l.animate(g,z,m,h)),h&&(a=!0,i=Math.max(i,h),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},h),g.thisAnimationDuration=h)}),clearTimeout(n),a?n=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),e=[]},animate:function(o,l,a,i){if(i){L(o,"transition",""),L(o,"transform","");var c=en(this.el),h=c&&c.a,g=c&&c.d,_=(l.left-a.left)/(h||1),m=(l.top-a.top)/(g||1);o.animatingX=!!_,o.animatingY=!!m,L(o,"transform","translate3d("+_+"px,"+m+"px,0)"),this.forRepaintDummy=br(o),L(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),L(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){L(o,"transition",""),L(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function br(e){return e.offsetWidth}function yr(e,n,t,o){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-t.top,2)+Math.pow(n.left-t.left,2))*o.animation}var Yt=[],mo={initializeByDefault:!0},Dn={mount:function(n){for(var t in mo)mo.hasOwnProperty(t)&&!(t in n)&&(n[t]=mo[t]);Yt.forEach(function(o){if(o.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),Yt.push(n)},pluginEvent:function(n,t,o){var l=this;this.eventCanceled=!1,o.cancel=function(){l.eventCanceled=!0};var a=n+"Global";Yt.forEach(function(i){!t[i.pluginName]||(t[i.pluginName][a]&&t[i.pluginName][a](vt({sortable:t},o)),t.options[i.pluginName]&&t[i.pluginName][n]&&t[i.pluginName][n](vt({sortable:t},o)))})},initializePlugins:function(n,t,o,l){Yt.forEach(function(c){var h=c.pluginName;if(!(!n.options[h]&&!c.initializeByDefault)){var g=new c(n,t,n.options);g.sortable=n,g.options=n.options,n[h]=g,kt(o,g.defaults)}});for(var a in n.options)if(!!n.options.hasOwnProperty(a)){var i=this.modifyOption(n,a,n.options[a]);typeof i!="undefined"&&(n.options[a]=i)}},getEventProperties:function(n,t){var o={};return Yt.forEach(function(l){typeof l.eventProperties=="function"&&kt(o,l.eventProperties.call(t[l.pluginName],n))}),o},modifyOption:function(n,t,o){var l;return Yt.forEach(function(a){!n[a.pluginName]||a.optionListeners&&typeof a.optionListeners[t]=="function"&&(l=a.optionListeners[t].call(n[a.pluginName],o))}),l}};function wr(e){var n=e.sortable,t=e.rootEl,o=e.name,l=e.targetEl,a=e.cloneEl,i=e.toEl,c=e.fromEl,h=e.oldIndex,g=e.newIndex,_=e.oldDraggableIndex,m=e.newDraggableIndex,b=e.originalEvent,M=e.putSortable,z=e.extraEventProperties;if(n=n||t&&t[tt],!!n){var $,R=n.options,pe="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!St&&!qn?$=new CustomEvent(o,{bubbles:!0,cancelable:!0}):($=document.createEvent("Event"),$.initEvent(o,!0,!0)),$.to=i||t,$.from=c||t,$.item=l||t,$.clone=a,$.oldIndex=h,$.newIndex=g,$.oldDraggableIndex=_,$.newDraggableIndex=m,$.originalEvent=b,$.pullMode=M?M.lastPutMode:void 0;var ne=vt(vt({},z),Dn.getEventProperties(o,n));for(var A in ne)$[A]=ne[A];t&&t.dispatchEvent($),R[pe]&&R[pe].call(n,$)}}var kr=["evt"],Ye=function(n,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=o.evt,a=cr(o,kr);Dn.pluginEvent.bind(H)(n,t,vt({dragEl:T,parentEl:Ce,ghostEl:Y,rootEl:ye,nextEl:zt,lastDownEl:Nn,cloneEl:xe,cloneHidden:Dt,dragStarted:fn,putSortable:ze,activeSortable:H.active,originalEvent:l,oldIndex:Jt,oldDraggableIndex:_n,newIndex:Ze,newDraggableIndex:qt,hideGhostForTarget:Wa,unhideGhostForTarget:Ka,cloneNowHidden:function(){Dt=!0},cloneNowShown:function(){Dt=!1},dispatchSortableEvent:function(c){Ue({sortable:t,name:c,originalEvent:l})}},a))};function Ue(e){wr(vt({putSortable:ze,cloneEl:xe,targetEl:T,rootEl:ye,oldIndex:Jt,oldDraggableIndex:_n,newIndex:Ze,newDraggableIndex:qt},e))}var T,Ce,Y,ye,zt,Nn,xe,Dt,Jt,Ze,_n,qt,An,ze,Gt=!1,Wn=!1,Kn=[],Vt,st,go,vo,ra,sa,fn,Wt,bn,yn=!1,In=!1,Ln,je,po=[],Po=!1,Xn=[],no=typeof document!="undefined",Vn=Fa,ua=qn||St?"cssFloat":"float",Sr=no&&!hr&&!Fa&&"draggable"in document.createElement("div"),Ra=function(){if(!!no){if(St)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Qa=function(n,t){var o=L(n),l=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),a=on(n,0,t),i=on(n,1,t),c=a&&L(a),h=i&&L(i),g=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+Ae(a).width,_=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Ae(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&c.float&&c.float!=="none"){var m=c.float==="left"?"left":"right";return i&&(h.clear==="both"||h.clear===m)?"vertical":"horizontal"}return a&&(c.display==="block"||c.display==="flex"||c.display==="table"||c.display==="grid"||g>=l&&o[ua]==="none"||i&&o[ua]==="none"&&g+_>l)?"vertical":"horizontal"},Cr=function(n,t,o){var l=o?n.left:n.top,a=o?n.right:n.bottom,i=o?n.width:n.height,c=o?t.left:t.top,h=o?t.right:t.bottom,g=o?t.width:t.height;return l===c||a===h||l+i/2===c+g/2},xr=function(n,t){var o;return Kn.some(function(l){var a=l[tt].options.emptyInsertThreshold;if(!(!a||Fo(l))){var i=Ae(l),c=n>=i.left-a&&n<=i.right+a,h=t>=i.top-a&&t<=i.bottom+a;if(c&&h)return o=l}}),o},Ya=function(n){function t(a,i){return function(c,h,g,_){var m=c.options.group.name&&h.options.group.name&&c.options.group.name===h.options.group.name;if(a==null&&(i||m))return!0;if(a==null||a===!1)return!1;if(i&&a==="clone")return a;if(typeof a=="function")return t(a(c,h,g,_),i)(c,h,g,_);var b=(i?c:h).options.group.name;return a===!0||typeof a=="string"&&a===b||a.join&&a.indexOf(b)>-1}}var o={},l=n.group;(!l||jn(l)!="object")&&(l={name:l}),o.name=l.name,o.checkPull=t(l.pull,!0),o.checkPut=t(l.put),o.revertClone=l.revertClone,n.group=o},Wa=function(){!Ra&&Y&&L(Y,"display","none")},Ka=function(){!Ra&&Y&&L(Y,"display","")};no&&document.addEventListener("click",function(e){if(Wn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Wn=!1,!1},!0);var $t=function(n){if(T){n=n.touches?n.touches[0]:n;var t=xr(n.clientX,n.clientY);if(t){var o={};for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[tt]._onDragOver(o)}}},qr=function(n){T&&T.parentNode[tt]._isOutsideThisEl(n.target)};function H(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=kt({},n),e[tt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Qa(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,c){i.setData("Text",c.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:H.supportPointer!==!1&&"PointerEvent"in window&&!vn,emptyInsertThreshold:5};Dn.initializePlugins(this,e,t);for(var o in t)!(o in n)&&(n[o]=t[o]);Ya(n);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=n.forceFallback?!1:Sr,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?ie(e,"pointerdown",this._onTapStart):(ie(e,"mousedown",this._onTapStart),ie(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ie(e,"dragover",this),ie(e,"dragenter",this)),Kn.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),kt(this,_r())}H.prototype={constructor:H,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(Wt=null)},_getDirection:function(n,t){return typeof this.options.direction=="function"?this.options.direction.call(this,n,t,T):this.options.direction},_onTapStart:function(n){if(!!n.cancelable){var t=this,o=this.el,l=this.options,a=l.preventOnFilter,i=n.type,c=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,h=(c||n).target,g=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||h,_=l.filter;if(Ar(o),!T&&!(/mousedown|pointerdown/.test(i)&&n.button!==0||l.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&vn&&h&&h.tagName.toUpperCase()==="SELECT")&&(h=mt(h,l.draggable,o,!1),!(h&&h.animated)&&Nn!==h)){if(Jt=at(h),_n=at(h,l.draggable),typeof _=="function"){if(_.call(this,n,h,this)){Ue({sortable:t,rootEl:g,name:"filter",targetEl:h,toEl:o,fromEl:o}),Ye("filter",t,{evt:n}),a&&n.cancelable&&n.preventDefault();return}}else if(_&&(_=_.split(",").some(function(m){if(m=mt(g,m.trim(),o,!1),m)return Ue({sortable:t,rootEl:m,name:"filter",targetEl:h,fromEl:o,toEl:o}),Ye("filter",t,{evt:n}),!0}),_)){a&&n.cancelable&&n.preventDefault();return}l.handle&&!mt(g,l.handle,o,!1)||this._prepareDragStart(n,c,h)}}},_prepareDragStart:function(n,t,o){var l=this,a=l.el,i=l.options,c=a.ownerDocument,h;if(o&&!T&&o.parentNode===a){var g=Ae(o);if(ye=a,T=o,Ce=T.parentNode,zt=T.nextSibling,Nn=o,An=i.group,H.dragged=T,Vt={target:T,clientX:(t||n).clientX,clientY:(t||n).clientY},ra=Vt.clientX-g.left,sa=Vt.clientY-g.top,this._lastX=(t||n).clientX,this._lastY=(t||n).clientY,T.style["will-change"]="all",h=function(){if(Ye("delayEnded",l,{evt:n}),H.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!oa&&l.nativeDraggable&&(T.draggable=!0),l._triggerDragStart(n,t),Ue({sortable:l,name:"choose",originalEvent:n}),Je(T,i.chosenClass,!0)},i.ignore.split(",").forEach(function(_){Na(T,_.trim(),_o)}),ie(c,"dragover",$t),ie(c,"mousemove",$t),ie(c,"touchmove",$t),ie(c,"mouseup",l._onDrop),ie(c,"touchend",l._onDrop),ie(c,"touchcancel",l._onDrop),oa&&this.nativeDraggable&&(this.options.touchStartThreshold=4,T.draggable=!0),Ye("delayStart",this,{evt:n}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(qn||St))){if(H.eventCanceled){this._onDrop();return}ie(c,"mouseup",l._disableDelayedDrag),ie(c,"touchend",l._disableDelayedDrag),ie(c,"touchcancel",l._disableDelayedDrag),ie(c,"mousemove",l._delayedDragTouchMoveHandler),ie(c,"touchmove",l._delayedDragTouchMoveHandler),i.supportPointer&&ie(c,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(h,i.delay)}else h()}},_delayedDragTouchMoveHandler:function(n){var t=n.touches?n.touches[0]:n;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){T&&_o(T),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;te(n,"mouseup",this._disableDelayedDrag),te(n,"touchend",this._disableDelayedDrag),te(n,"touchcancel",this._disableDelayedDrag),te(n,"mousemove",this._delayedDragTouchMoveHandler),te(n,"touchmove",this._delayedDragTouchMoveHandler),te(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,t){t=t||n.pointerType=="touch"&&n,!this.nativeDraggable||t?this.options.supportPointer?ie(document,"pointermove",this._onTouchMove):t?ie(document,"touchmove",this._onTouchMove):ie(document,"mousemove",this._onTouchMove):(ie(T,"dragend",this),ie(ye,"dragstart",this._onDragStart));try{document.selection?Hn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,t){if(Gt=!1,ye&&T){Ye("dragStarted",this,{evt:t}),this.nativeDraggable&&ie(document,"dragover",qr);var o=this.options;!n&&Je(T,o.dragClass,!1),Je(T,o.ghostClass,!0),H.active=this,n&&this._appendGhost(),Ue({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(st){this._lastX=st.clientX,this._lastY=st.clientY,Wa();for(var n=document.elementFromPoint(st.clientX,st.clientY),t=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(st.clientX,st.clientY),n!==t);)t=n;if(T.parentNode[tt]._isOutsideThisEl(n),t)do{if(t[tt]){var o=void 0;if(o=t[tt]._onDragOver({clientX:st.clientX,clientY:st.clientY,target:n,rootEl:t}),o&&!this.options.dragoverBubble)break}n=t}while(t=t.parentNode);Ka()}},_onTouchMove:function(n){if(Vt){var t=this.options,o=t.fallbackTolerance,l=t.fallbackOffset,a=n.touches?n.touches[0]:n,i=Y&&en(Y,!0),c=Y&&i&&i.a,h=Y&&i&&i.d,g=Vn&&je&&ia(je),_=(a.clientX-Vt.clientX+l.x)/(c||1)+(g?g[0]-po[0]:0)/(c||1),m=(a.clientY-Vt.clientY+l.y)/(h||1)+(g?g[1]-po[1]:0)/(h||1);if(!H.active&&!Gt){if(o&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<o)return;this._onDragStart(n,!0)}if(Y){i?(i.e+=_-(go||0),i.f+=m-(vo||0)):i={a:1,b:0,c:0,d:1,e:_,f:m};var b="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");L(Y,"webkitTransform",b),L(Y,"mozTransform",b),L(Y,"msTransform",b),L(Y,"transform",b),go=_,vo=m,st=a}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!Y){var n=this.options.fallbackOnBody?document.body:ye,t=Ae(T,!0,Vn,!0,n),o=this.options;if(Vn){for(je=n;L(je,"position")==="static"&&L(je,"transform")==="none"&&je!==document;)je=je.parentNode;je!==document.body&&je!==document.documentElement?(je===document&&(je=gt()),t.top+=je.scrollTop,t.left+=je.scrollLeft):je=gt(),po=ia(je)}Y=T.cloneNode(!0),Je(Y,o.ghostClass,!1),Je(Y,o.fallbackClass,!0),Je(Y,o.dragClass,!0),L(Y,"transition",""),L(Y,"transform",""),L(Y,"box-sizing","border-box"),L(Y,"margin",0),L(Y,"top",t.top),L(Y,"left",t.left),L(Y,"width",t.width),L(Y,"height",t.height),L(Y,"opacity","0.8"),L(Y,"position",Vn?"absolute":"fixed"),L(Y,"zIndex","100000"),L(Y,"pointerEvents","none"),H.ghost=Y,n.appendChild(Y),L(Y,"transform-origin",ra/parseInt(Y.style.width)*100+"% "+sa/parseInt(Y.style.height)*100+"%")}},_onDragStart:function(n,t){var o=this,l=n.dataTransfer,a=o.options;if(Ye("dragStart",this,{evt:n}),H.eventCanceled){this._onDrop();return}Ye("setupClone",this),H.eventCanceled||(xe=Ua(T),xe.draggable=!1,xe.style["will-change"]="",this._hideClone(),Je(xe,this.options.chosenClass,!1),H.clone=xe),o.cloneId=Hn(function(){Ye("clone",o),!H.eventCanceled&&(o.options.removeCloneOnHide||ye.insertBefore(xe,T),o._hideClone(),Ue({sortable:o,name:"clone"}))}),!t&&Je(T,a.dragClass,!0),t?(Wn=!0,o._loopId=setInterval(o._emulateDragOver,50)):(te(document,"mouseup",o._onDrop),te(document,"touchend",o._onDrop),te(document,"touchcancel",o._onDrop),l&&(l.effectAllowed="move",a.setData&&a.setData.call(o,l,T)),ie(document,"drop",o),L(T,"transform","translateZ(0)")),Gt=!0,o._dragStartId=Hn(o._dragStarted.bind(o,t,n)),ie(document,"selectstart",o),fn=!0,vn&&L(document.body,"user-select","none")},_onDragOver:function(n){var t=this.el,o=n.target,l,a,i,c=this.options,h=c.group,g=H.active,_=An===h,m=c.sort,b=ze||g,M,z=this,$=!1;if(Po)return;function R(De,ot){Ye(De,z,vt({evt:n,isOwner:_,axis:M?"vertical":"horizontal",revert:i,dragRect:l,targetRect:a,canSort:m,fromSortable:b,target:o,completed:ne,onMove:function(Fe,Re){return $n(ye,t,T,l,Fe,Ae(Fe),n,Re)},changed:A},ot))}function pe(){R("dragOverAnimationCapture"),z.captureAnimationState(),z!==b&&b.captureAnimationState()}function ne(De){return R("dragOverCompleted",{insertion:De}),De&&(_?g._hideClone():g._showClone(z),z!==b&&(Je(T,ze?ze.options.ghostClass:g.options.ghostClass,!1),Je(T,c.ghostClass,!0)),ze!==z&&z!==H.active?ze=z:z===H.active&&ze&&(ze=null),b===z&&(z._ignoreWhileAnimating=o),z.animateAll(function(){R("dragOverAnimationComplete"),z._ignoreWhileAnimating=null}),z!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(o===T&&!T.animated||o===t&&!o.animated)&&(Wt=null),!c.dragoverBubble&&!n.rootEl&&o!==document&&(T.parentNode[tt]._isOutsideThisEl(n.target),!De&&$t(n)),!c.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),$=!0}function A(){Ze=at(T),qt=at(T,c.draggable),Ue({sortable:z,name:"change",toEl:t,newIndex:Ze,newDraggableIndex:qt,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),o=mt(o,c.draggable,t,!0),R("dragOver"),H.eventCanceled)return $;if(T.contains(n.target)||o.animated&&o.animatingX&&o.animatingY||z._ignoreWhileAnimating===o)return ne(!1);if(Wn=!1,g&&!c.disabled&&(_?m||(i=Ce!==ye):ze===this||(this.lastPutMode=An.checkPull(this,g,T,n))&&h.checkPut(this,g,T,n))){if(M=this._getDirection(n,o)==="vertical",l=Ae(T),R("dragOverValid"),H.eventCanceled)return $;if(i)return Ce=ye,pe(),this._hideClone(),R("revert"),H.eventCanceled||(zt?ye.insertBefore(T,zt):ye.appendChild(T)),ne(!0);var v=Fo(t,c.draggable);if(!v||Or(n,M,this)&&!v.animated){if(v===T)return ne(!1);if(v&&t===n.target&&(o=v),o&&(a=Ae(o)),$n(ye,t,T,l,o,a,n,!!o)!==!1)return pe(),t.appendChild(T),Ce=t,A(),ne(!0)}else if(v&&Br(n,M,this)){var F=on(t,0,c,!0);if(F===T)return ne(!1);if(o=F,a=Ae(o),$n(ye,t,T,l,o,a,n,!1)!==!1)return pe(),t.insertBefore(T,F),Ce=t,A(),ne(!0)}else if(o.parentNode===t){a=Ae(o);var Ee=0,J,ce=T.parentNode!==t,_e=!Cr(T.animated&&T.toRect||l,o.animated&&o.toRect||a,M),Ie=M?"top":"left",ue=la(o,"top","top")||la(T,"top","top"),$e=ue?ue.scrollTop:void 0;Wt!==o&&(J=a[Ie],yn=!1,In=!_e&&c.invertSwap||ce),Ee=Pr(n,o,a,M,_e?1:c.swapThreshold,c.invertedSwapThreshold==null?c.swapThreshold:c.invertedSwapThreshold,In,Wt===o);var fe;if(Ee!==0){var we=at(T);do we-=Ee,fe=Ce.children[we];while(fe&&(L(fe,"display")==="none"||fe===Y))}if(Ee===0||fe===o)return ne(!1);Wt=o,bn=Ee;var he=o.nextElementSibling,me=!1;me=Ee===1;var ge=$n(ye,t,T,l,o,a,n,me);if(ge!==!1)return(ge===1||ge===-1)&&(me=ge===1),Po=!0,setTimeout(Tr,30),pe(),me&&!he?t.appendChild(T):o.parentNode.insertBefore(T,me?he:o),ue&&Ha(ue,0,$e-ue.scrollTop),Ce=T.parentNode,J!==void 0&&!In&&(Ln=Math.abs(J-Ae(o)[Ie])),A(),ne(!0)}if(t.contains(T))return ne(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){te(document,"mousemove",this._onTouchMove),te(document,"touchmove",this._onTouchMove),te(document,"pointermove",this._onTouchMove),te(document,"dragover",$t),te(document,"mousemove",$t),te(document,"touchmove",$t)},_offUpEvents:function(){var n=this.el.ownerDocument;te(n,"mouseup",this._onDrop),te(n,"touchend",this._onDrop),te(n,"pointerup",this._onDrop),te(n,"touchcancel",this._onDrop),te(document,"selectstart",this)},_onDrop:function(n){var t=this.el,o=this.options;if(Ze=at(T),qt=at(T,o.draggable),Ye("drop",this,{evt:n}),Ce=T&&T.parentNode,Ze=at(T),qt=at(T,o.draggable),H.eventCanceled){this._nulling();return}Gt=!1,In=!1,yn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Eo(this.cloneId),Eo(this._dragStartId),this.nativeDraggable&&(te(document,"drop",this),te(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),vn&&L(document.body,"user-select",""),L(T,"transform",""),n&&(fn&&(n.cancelable&&n.preventDefault(),!o.dropBubble&&n.stopPropagation()),Y&&Y.parentNode&&Y.parentNode.removeChild(Y),(ye===Ce||ze&&ze.lastPutMode!=="clone")&&xe&&xe.parentNode&&xe.parentNode.removeChild(xe),T&&(this.nativeDraggable&&te(T,"dragend",this),_o(T),T.style["will-change"]="",fn&&!Gt&&Je(T,ze?ze.options.ghostClass:this.options.ghostClass,!1),Je(T,this.options.chosenClass,!1),Ue({sortable:this,name:"unchoose",toEl:Ce,newIndex:null,newDraggableIndex:null,originalEvent:n}),ye!==Ce?(Ze>=0&&(Ue({rootEl:Ce,name:"add",toEl:Ce,fromEl:ye,originalEvent:n}),Ue({sortable:this,name:"remove",toEl:Ce,originalEvent:n}),Ue({rootEl:Ce,name:"sort",toEl:Ce,fromEl:ye,originalEvent:n}),Ue({sortable:this,name:"sort",toEl:Ce,originalEvent:n})),ze&&ze.save()):Ze!==Jt&&Ze>=0&&(Ue({sortable:this,name:"update",toEl:Ce,originalEvent:n}),Ue({sortable:this,name:"sort",toEl:Ce,originalEvent:n})),H.active&&((Ze==null||Ze===-1)&&(Ze=Jt,qt=_n),Ue({sortable:this,name:"end",toEl:Ce,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Ye("nulling",this),ye=T=Ce=Y=zt=xe=Nn=Dt=Vt=st=fn=Ze=qt=Jt=_n=Wt=bn=ze=An=H.dragged=H.ghost=H.clone=H.active=null,Xn.forEach(function(n){n.checked=!0}),Xn.length=go=vo=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":T&&(this._onDragOver(n),Dr(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],t,o=this.el.children,l=0,a=o.length,i=this.options;l<a;l++)t=o[l],mt(t,i.draggable,this.el,!1)&&n.push(t.getAttribute(i.dataIdAttr)||Mr(t));return n},sort:function(n,t){var o={},l=this.el;this.toArray().forEach(function(a,i){var c=l.children[i];mt(c,this.options.draggable,l,!1)&&(o[a]=c)},this),t&&this.captureAnimationState(),n.forEach(function(a){o[a]&&(l.removeChild(o[a]),l.appendChild(o[a]))}),t&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,t){return mt(n,t||this.options.draggable,this.el,!1)},option:function(n,t){var o=this.options;if(t===void 0)return o[n];var l=Dn.modifyOption(this,n,t);typeof l!="undefined"?o[n]=l:o[n]=t,n==="group"&&Ya(o)},destroy:function(){Ye("destroy",this);var n=this.el;n[tt]=null,te(n,"mousedown",this._onTapStart),te(n,"touchstart",this._onTapStart),te(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(te(n,"dragover",this),te(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Kn.splice(Kn.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!Dt){if(Ye("hideClone",this),H.eventCanceled)return;L(xe,"display","none"),this.options.removeCloneOnHide&&xe.parentNode&&xe.parentNode.removeChild(xe),Dt=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(Dt){if(Ye("showClone",this),H.eventCanceled)return;T.parentNode==ye&&!this.options.group.revertClone?ye.insertBefore(xe,T):zt?ye.insertBefore(xe,zt):ye.appendChild(xe),this.options.group.revertClone&&this.animate(T,xe),L(xe,"display",""),Dt=!1}}};function Dr(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function $n(e,n,t,o,l,a,i,c){var h,g=e[tt],_=g.options.onMove,m;return window.CustomEvent&&!St&&!qn?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=n,h.from=e,h.dragged=t,h.draggedRect=o,h.related=l||n,h.relatedRect=a||Ae(n),h.willInsertAfter=c,h.originalEvent=i,e.dispatchEvent(h),_&&(m=_.call(g,h,i)),m}function _o(e){e.draggable=!1}function Tr(){Po=!1}function Br(e,n,t){var o=Ae(on(t.el,0,t.options,!0)),l=10;return n?e.clientX<o.left-l||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-l||e.clientY<o.bottom&&e.clientX<o.left}function Or(e,n,t){var o=Ae(Fo(t.el,t.options.draggable)),l=10;return n?e.clientX>o.right+l||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+l}function Pr(e,n,t,o,l,a,i,c){var h=o?e.clientY:e.clientX,g=o?t.height:t.width,_=o?t.top:t.left,m=o?t.bottom:t.right,b=!1;if(!i){if(c&&Ln<g*l){if(!yn&&(bn===1?h>_+g*a/2:h<m-g*a/2)&&(yn=!0),yn)b=!0;else if(bn===1?h<_+Ln:h>m-Ln)return-bn}else if(h>_+g*(1-l)/2&&h<m-g*(1-l)/2)return Er(n)}return b=b||i,b&&(h<_+g*a/2||h>m-g*a/2)?h>_+g/2?1:-1:0}function Er(e){return at(T)<at(e)?1:-1}function Mr(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,t=n.length,o=0;t--;)o+=n.charCodeAt(t);return o.toString(36)}function Ar(e){Xn.length=0;for(var n=e.getElementsByTagName("input"),t=n.length;t--;){var o=n[t];o.checked&&Xn.push(o)}}function Hn(e){return setTimeout(e,0)}function Eo(e){return clearTimeout(e)}no&&ie(document,"touchmove",function(e){(H.active||Gt)&&e.cancelable&&e.preventDefault()});H.utils={on:ie,off:te,css:L,find:Na,is:function(n,t){return!!mt(n,t,n,!1)},extend:vr,throttle:La,closest:mt,toggleClass:Je,clone:Ua,index:at,nextTick:Hn,cancelNextTick:Eo,detectDirection:Qa,getChild:on};H.get=function(e){return e[tt]};H.mount=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];n[0].constructor===Array&&(n=n[0]),n.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(H.utils=vt(vt({},H.utils),o.utils)),Dn.mount(o)})};H.create=function(e,n){return new H(e,n)};H.version=fr;var Me=[],hn,Mo,Ao=!1,bo,yo,Gn,mn;function Ir(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?ie(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ie(document,"pointermove",this._handleFallbackAutoScroll):o.touches?ie(document,"touchmove",this._handleFallbackAutoScroll):ie(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?te(document,"dragover",this._handleAutoScroll):(te(document,"pointermove",this._handleFallbackAutoScroll),te(document,"touchmove",this._handleFallbackAutoScroll),te(document,"mousemove",this._handleFallbackAutoScroll)),da(),Un(),pr()},nulling:function(){Gn=Mo=hn=Ao=mn=bo=yo=null,Me.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var l=this,a=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,c=document.elementFromPoint(a,i);if(Gn=t,o||this.options.forceAutoScrollFallback||qn||St||vn){wo(t,this.options,c,o);var h=Tt(c,!0);Ao&&(!mn||a!==bo||i!==yo)&&(mn&&da(),mn=setInterval(function(){var g=Tt(document.elementFromPoint(a,i),!0);g!==h&&(h=g,Un()),wo(t,l.options,g,o)},10),bo=a,yo=i)}else{if(!this.options.bubbleScroll||Tt(c,!0)===gt()){Un();return}wo(t,this.options,Tt(c,!1),!1)}}},kt(e,{pluginName:"scroll",initializeByDefault:!0})}function Un(){Me.forEach(function(e){clearInterval(e.pid)}),Me=[]}function da(){clearInterval(mn)}var wo=La(function(e,n,t,o){if(!!n.scroll){var l=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=n.scrollSensitivity,c=n.scrollSpeed,h=gt(),g=!1,_;Mo!==t&&(Mo=t,Un(),hn=n.scroll,_=n.scrollFn,hn===!0&&(hn=Tt(t,!0)));var m=0,b=hn;do{var M=b,z=Ae(M),$=z.top,R=z.bottom,pe=z.left,ne=z.right,A=z.width,v=z.height,F=void 0,Ee=void 0,J=M.scrollWidth,ce=M.scrollHeight,_e=L(M),Ie=M.scrollLeft,ue=M.scrollTop;M===h?(F=A<J&&(_e.overflowX==="auto"||_e.overflowX==="scroll"||_e.overflowX==="visible"),Ee=v<ce&&(_e.overflowY==="auto"||_e.overflowY==="scroll"||_e.overflowY==="visible")):(F=A<J&&(_e.overflowX==="auto"||_e.overflowX==="scroll"),Ee=v<ce&&(_e.overflowY==="auto"||_e.overflowY==="scroll"));var $e=F&&(Math.abs(ne-l)<=i&&Ie+A<J)-(Math.abs(pe-l)<=i&&!!Ie),fe=Ee&&(Math.abs(R-a)<=i&&ue+v<ce)-(Math.abs($-a)<=i&&!!ue);if(!Me[m])for(var we=0;we<=m;we++)Me[we]||(Me[we]={});(Me[m].vx!=$e||Me[m].vy!=fe||Me[m].el!==M)&&(Me[m].el=M,Me[m].vx=$e,Me[m].vy=fe,clearInterval(Me[m].pid),($e!=0||fe!=0)&&(g=!0,Me[m].pid=setInterval(function(){o&&this.layer===0&&H.active._onTouchMove(Gn);var he=Me[this.layer].vy?Me[this.layer].vy*c:0,me=Me[this.layer].vx?Me[this.layer].vx*c:0;typeof _=="function"&&_.call(H.dragged.parentNode[tt],me,he,e,Gn,Me[this.layer].el)!=="continue"||Ha(Me[this.layer].el,me,he)}.bind({layer:m}),24))),m++}while(n.bubbleScroll&&b!==h&&(b=Tt(b,!1)));Ao=g}},30),Xa=function(n){var t=n.originalEvent,o=n.putSortable,l=n.dragEl,a=n.activeSortable,i=n.dispatchSortableEvent,c=n.hideGhostForTarget,h=n.unhideGhostForTarget;if(!!t){var g=o||a;c();var _=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,m=document.elementFromPoint(_.clientX,_.clientY);h(),g&&!g.el.contains(m)&&(i("spill"),this.onSpill({dragEl:l,putSortable:o}))}};function jo(){}jo.prototype={startIndex:null,dragStart:function(n){var t=n.oldDraggableIndex;this.startIndex=t},onSpill:function(n){var t=n.dragEl,o=n.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var l=on(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(t,l):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:Xa};kt(jo,{pluginName:"revertOnSpill"});function No(){}No.prototype={onSpill:function(n){var t=n.dragEl,o=n.putSortable,l=o||this.sortable;l.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),l.animateAll()},drop:Xa};kt(No,{pluginName:"removeOnSpill"});H.mount(new Ir);H.mount(No,jo);function Vr(){return typeof window!="undefined"?window.console:global.console}const $r=Vr();function zr(e){const n=Object.create(null);return function(o){return n[o]||(n[o]=e(o))}}const Fr=/-(\w)/g,ca=zr(e=>e.replace(Fr,(n,t)=>t?t.toUpperCase():""));function ko(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function fa(e,n,t){const o=t===0?e.children[0]:e.children[t-1].nextSibling;e.insertBefore(n,o)}function jr(e,n){return Object.values(e).indexOf(n)}function Nr(e,n,t,o){if(!e)return[];const l=Object.values(e),a=n.length-o;return[...n].map((c,h)=>h>=a?l.length:l.indexOf(c))}function Ga(e,n){this.$nextTick(()=>this.$emit(e.toLowerCase(),n))}function Lr(e){return n=>{this.realList!==null&&this["onDrag"+e](n),Ga.call(this,e,n)}}function Hr(e){return["transition-group","TransitionGroup"].includes(e)}function Ur(e){if(!e||e.length!==1)return!1;const[{type:n}]=e;return n?Hr(n.name):!1}function Rr(e,n){return n?{...n.props,...n.attrs}:e}const Io=["Start","Add","Remove","Update","End"],Vo=["Choose","Unchoose","Sort","Filter","Clone"],Qr=["Move",...Io,...Vo].map(e=>"on"+e);let So=null;const Yr={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Wr=ml({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Io.map(e=>e.toLowerCase()),...Vo.map(e=>e.toLowerCase())],props:Yr,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,n=Rr(this.$attrs,this.componentData);return e?(this.transitionMode=Ur(e),k(this.getTag(),n,e)):k(this.getTag(),n,[])},created(){this.list!==null&&this.modelValue!==null&&$r.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Io.forEach(l=>{e["on"+l]=Lr.call(this,l)}),Vo.forEach(l=>{e["on"+l]=Ga.bind(this,l)});const n=Object.keys(this.$attrs).reduce((l,a)=>(l[ca(a)]=this.$attrs[a],l),{}),t=Object.assign({},n,e,{onMove:(l,a)=>this.onDragMove(l,a)});!("draggable"in t)&&(t.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new H(o,t),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?X(this.component):this.tag},updateOptions(e){for(var n in e){const t=ca(n);Qr.indexOf(t)===-1&&this._sortable.option(t,e[n])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Nr(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const n=jr(this.getChildrenNodes()||[],e);if(n===-1)return null;const t=this.realList[n];return{index:n,element:t}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const n=[...this.modelValue];e(n),this.$emit("update:modelValue",n)},spliceList(){const e=n=>n.splice(...arguments);this.alterList(e)},updatePosition(e,n){const t=o=>o.splice(n,0,o.splice(e,1)[0]);this.alterList(t)},getVmIndex(e){const n=this.visibleIndexes,t=n.length;return e>t-1?t:n[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var n=this.getChildrenNodes();n[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),So=e.item)},onDragAdd(e){const n=e.item._underlying_vm_;if(n===void 0)return;ko(e.item);const t=this.getVmIndex(e.newIndex);this.spliceList(t,0,n),this.computeIndexes();const o={element:n,newIndex:t};this.emitChanges({added:o})},onDragRemove(e){if(fa(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){ko(e.clone);return}if(!this.context)return;const n=this.context.index;this.spliceList(n,1);const t={element:this.context.element,oldIndex:n};this.resetTransitionData(n),this.emitChanges({removed:t})},onDragUpdate(e){ko(e.item),fa(e.from,e.item,e.oldIndex);const n=this.context.index,t=this.getVmIndex(e.newIndex);this.updatePosition(n,t);const o={element:this.context.element,oldIndex:n,newIndex:t};this.emitChanges({moved:o})},updateProperty(e,n){e.hasOwnProperty(n)&&(e[n]+=this.headerOffset)},onDragMove(e,n){const t=this.move;if(!t||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),l=this.context,a=this.computeFutureIndex(o,e);Object.assign(l,{futureIndex:a});const i=Object.assign({},e,{relatedContext:o,draggedContext:l});return t(i,n)},onDragEnd(){this.computeIndexes(),So=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:n}){const t=this.getTrargetedComponent(e);if(!t)return{component:t};const o=t.realList,l={list:o,component:t};if(e!==n&&o&&t.getUnderlyingVm){const a=t.getUnderlyingVm(n);if(a)return Object.assign(a,l)}return l},computeFutureIndex(e,n){const t=[...n.to.children].filter(i=>i.style.display!=="none");if(t.length===0)return 0;const o=t.indexOf(n.related),l=e.component.getVmIndex(o);return t.indexOf(So)!==-1||!n.willInsertAfter?l:l+1}}});const Kr={components:{BaseBtnDropdown:Ia,VueDraggableNext:Wr,FileCard:Fl},data(){return{selection:!1,selected:[],files:this.modelValue}},props:{modelValue:{required:!0,type:Array},label:String,hint:String,header:Boolean,useCheckbox:Boolean,multiple:{type:Boolean,default:!0},editor:Boolean,maxFiles:{type:[Number,String],default:9999}},emits:["update:model-value","rejected","removed","uploaded"],methods:{onRejected(e){console.func("components/base/BaseDropzone:methods.onRejected()",arguments),this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`}),this.$emit("rejected",e)},onUploaded({files:e,xhr:n}){console.func("components/base/BaseDropzone:methods.onUploaded()",arguments),this.$refs.uploader.removeFile(e[0]),this.files.push(JSON.parse(n.response)),this.$emit("uploaded",JSON.parse(n.response)),this.$emit("update:model-value",this.files)},onDetails(e){if(console.func("components/base/BaseDropzone:methods.onDetails()",arguments),!this.editor)return!1;this.$q.dialog({component:Ba,componentProps:{file:e,editable:this.editor}}).onOk(n=>{console.func("components/base/BaseDropzone:methods.onDetails.onOk()",arguments),e.updating=!0,Object.assign(e,n)})},onSelect(){this.selected.length&&this.selected.length<this.files.length?this.files.filter(e=>!this.selected.includes(e.id)).forEach(e=>{this.selected.push(e.id)}):this.selected.length===this.files.length?this.selected=[]:this.selected=this.files.map(e=>e.id)},onRemove(){console.func("components/base/BaseDropzone:method.onRemove()",arguments),this.$core.confirm("Are you sure you want to remove?").then(()=>{this.files.filter(e=>this.selected.find(n=>n===e.id)).forEach(e=>{this.$emit("removed",e)}),this.files=this.files.filter(e=>!this.selected.find(n=>n===e.id)),this.$emit("update:model-value",this.files),this.selected=[]})},onRemoveSingle(e){console.func("components/base/BaseDropzone:method.onRemoveSingle()",arguments),this.$core.confirm("Are you sure you want to remove?").then(()=>{this.$emit("removed",e),this.files=this.files.filter(n=>e.id!=n.id),this.$emit("update:model-value",this.files)})},onAddMediaFromUrl(e){console.func("components/base/BaseDropzone:method.onAddMediaFromUrl()",arguments),this.$q.dialog({component:sr,componentProps:{type:e}}).onOk(n=>{console.func("components/base/BaseDropzone:method.onAddMediaFromUrl.onOk()",n),this.files.push(n)})}},computed:{headers(){return[{name:"Authorization",value:`Bearer ${this.$app.token}`}]},url(){return"https://api.nitrofit28.coderstm.com/files/store"}},watch:{modelValue:{deep:!0,handler(e){this.files=e}},selected(e){e.length&&e.length<this.files.length?this.selection=null:e.length===this.files.length?this.selection=!0:this.selection=!1}}},Xr={dense:"",class:"row no-wrap items-center"},Gr={key:1,class:"text-h6"},Jr={key:0,class:"q-mb-md"},Zr={class:"absolute-full controller q-pa-sm"},es=["onClick"],ts={key:0,class:"q-pa-md text-black flex flex-center"},ns={key:0,class:"thumbnail"},os={key:1,class:"q-pa-md text-black flex flex-center file"},as={class:"info overflow-hidden text-center"},ls={key:2,class:"absolute-full q-pa-md text-black flex flex-center failed"},is={class:"info overflow-hidden text-center"},rs={key:0,class:"relative-position file-box file-select-btn"},ss={class:"text-black flex flex-center"},us={class:"text-center"},ds={key:1,class:"flex flex-center dropzone"},cs={class:"text-center"},fs={class:"text-grey"},hs={class:"text-grey"};function ms(e,n,t,o,l,a){const i=X("base-btn"),c=X("base-btn-dropdown"),h=X("file-card"),g=X("vue-draggable-next");return u(),S(Oa,{ref:"uploader",class:"full-width dropzone-uploader",flat:"",multiple:t.multiple,"max-files":t.maxFiles,"field-name":"media","auto-upload":"","with-credentials":!0,headers:a.headers,url:a.url,onUploaded:a.onUploaded,onRejected:a.onRejected},{header:d(()=>[I(e.$slots,"header",{onAddMediaFromUrl:a.onAddMediaFromUrl},()=>{var _;return[t.header?(u(),C(oe,{key:0},[q("div",Xr,[l.selected.length?(u(),S(_t,{key:0,size:"sm",class:"text-subtitle2",dense:"","onUpdate:modelValue":[a.onSelect,n[0]||(n[0]=m=>l.selection=m)],modelValue:l.selection,label:e.$t("media-selected",{count:l.selected.length})},null,8,["onUpdate:modelValue","modelValue","label"])):(u(),C("div",Gr,U((_=t.label)!=null?_:e.$t("media")),1)),s(sn),l.selected.length?(u(),S(i,{key:2,link:"",color:"negative",label:e.$t("removeMedia"),onClick:a.onRemove},null,8,["label","onClick"])):(u(),S(c,{key:3,link:"",color:"primary",label:e.$t("addMediaFromUrl")},{default:d(()=>[s(tn,{dense:"",class:"q-pa-sm"},{default:d(()=>[ve((u(),S(Le,{class:"rounded-borders",onClick:n[1]||(n[1]=m=>a.onAddMediaFromUrl("photo")),clickable:""},{default:d(()=>[s(se,null,{default:d(()=>[s(ft,null,{default:d(()=>[qe(U(e.$t("fileUploader.addPhoto")),1)]),_:1})]),_:1})]),_:1})),[[nt]]),ve((u(),S(Le,{class:"rounded-borders",onClick:n[2]||(n[2]=m=>a.onAddMediaFromUrl("video")),clickable:""},{default:d(()=>[s(se,null,{default:d(()=>[s(ft,null,{default:d(()=>[qe(U(e.$t("fileUploader.embedVideo")),1)]),_:1})]),_:1})]),_:1})),[[nt]])]),_:1})]),_:1},8,["label"]))]),t.hint?(u(),C("div",Jr,U(t.hint),1)):P("",!0)],64)):P("",!0)]})]),list:d(_=>[_.files&&_.files.length||l.files.length?(u(),S(g,{key:0,handle:".handle","ghost-class":"ghost-file",class:"file-grid",modelValue:l.files,"onUpdate:modelValue":n[4]||(n[4]=m=>l.files=m),"item-key":"id"},{default:d(()=>[(u(!0),C(oe,null,Pe(l.files,m=>(u(),C("div",{class:"relative-position file-box",key:m.id},[s(h,ut(dt(m)),{default:d(()=>[q("div",Zr,[q("div",{onClick:b=>a.onDetails(m),class:"handler absolute-full flex flex-center"},[s(ae,{class:"handle",color:"white",size:"xs",name:"far fa-expand-alt"})],8,es),s(N,{ripple:!1,class:"remove absolute-top-right q-mt-sm q-mr-sm",dense:"",size:"7px",color:"red-5",icon:"close",onClick:b=>a.onRemoveSingle(m)},null,8,["onClick"]),ve(s(_t,{size:"sm",dark:"",dense:"",class:"selected",modelValue:l.selected,"onUpdate:modelValue":n[3]||(n[3]=b=>l.selected=b),val:m.id},null,8,["modelValue","val"]),[[it,t.useCheckbox]])])]),_:2},1040)]))),128)),(u(!0),C(oe,null,Pe(_.files,(m,b)=>(u(),C("div",{class:"relative-position file-box",key:b},[s(gn,{class:"box rounded-borders cursor-pointer bg-grey-4",ratio:1},{default:d(()=>[m.__status==="uploading"?(u(),C("div",ts,[s(Zt,{color:"primary",size:"3rem",thickness:5})])):(u(),C(oe,{key:1},[m.__img?(u(),C("div",ns,[s(Qn,{src:m.__img.src,contain:""},{loading:d(()=>[s(Zt,{color:"white"})]),_:2},1032,["src"])])):(u(),C("div",os,[q("div",as,[s(ae,{name:`fas fa-file-${m.icon}`,size:"50px"},null,8,["name"])])])),m.__status==="failed"?(u(),C("div",ls,[q("div",is,[s(N,{flat:"",round:"",color:"white",icon:"fas fa-cloud-upload-alt",onClick:_.upload},null,8,["onClick"])])])):P("",!0)],64))]),_:2},1024)]))),128)),l.files.length<t.maxFiles?(u(),C("div",rs,[s(gn,{class:"cursor-pointer dropzone min",ratio:1},{default:d(()=>[s(To),q("div",ss,[q("div",us,[s(ae,{name:"fas fa-plus"})])])]),_:1})])):P("",!0)]),_:2},1032,["modelValue"])):(u(),C("div",ds,[q("div",cs,[s(ae,{color:"grey",size:"50px",name:"far fa-cloud-upload"}),q("div",fs,U(e.$t("fileUploader.info")),1),q("div",hs,U(e.$t("fileUploader.or")),1),s(i,{link:"",color:"primary",outline:"","no-caps":"",label:e.$t("browseFiles")},{default:d(()=>[s(To)]),_:1},8,["label"])])]))]),_:3},8,["multiple","max-files","headers","url","onUploaded","onRejected"])}var gs=W(Kr,[["render",ms]]),vs=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"}));function Ja(e,n){if(n&&e===n)return null;const t=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(t)===!0)return e;const o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=o.display;return l==="block"||l==="table"?e:Ja(e.parentNode)}function Co(e,n,t){return!e||e===document.body?!1:t===!0&&e===n||(n===document?document.body:n).contains(e.parentNode)}function Za(e,n,t){if(t||(t=document.createRange(),t.selectNode(e),t.setStart(e,0)),n.count===0)t.setEnd(e,n.count);else if(n.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<n.count?n.count-=e.textContent.length:(t.setEnd(e,n.count),n.count=0);else for(let o=0;n.count!==0&&o<e.childNodes.length;o++)t=Za(e.childNodes[o],n,t);return t}const ps=/^https?:\/\//;class _s{constructor(n,t){this.el=n,this.eVm=t,this._range=null}get selection(){if(this.el){const n=document.getSelection();if(Co(n.anchorNode,this.el,!0)&&Co(n.focusNode,this.el,!0))return n}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const n=this.selection;return n!==null&&n.rangeCount?n.getRangeAt(0):this._range}get parent(){const n=this.range;if(n!==null){const t=n.startContainer;return t.nodeType===document.ELEMENT_NODE?t:t.parentNode}return null}get blockParent(){const n=this.parent;return n!==null?Ja(n,this.el):null}save(n=this.range){n!==null&&(this._range=n)}restore(n=this._range){const t=document.createRange(),o=document.getSelection();n!==null?(t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),o.removeAllRanges(),o.addRange(t)):(o.selectAllChildren(this.el),o.collapseToEnd())}savePosition(){let n=-1,t;const o=document.getSelection(),l=this.el.parentNode;if(o.focusNode&&Co(o.focusNode,l))for(t=o.focusNode,n=o.focusOffset;t&&t!==l;)t!==this.el&&t.previousSibling?(t=t.previousSibling,n+=t.textContent.length):t=t.parentNode;this.savedPos=n}restorePosition(n=0){if(this.savedPos>0&&this.savedPos<n){const t=window.getSelection(),o=Za(this.el,{count:this.savedPos});o&&(o.collapse(!1),t.removeAllRanges(),t.addRange(o))}}hasParent(n,t){const o=t?this.parent:this.blockParent;return o!==null?o.nodeName.toLowerCase()===n.toLowerCase():!1}hasParents(n,t,o=this.parent){return o===null?!1:n.includes(o.nodeName.toLowerCase())===!0?!0:t===!0?this.hasParents(n,t,o.parentNode):!1}is(n,t){if(this.selection===null)return!1;switch(n){case"formatBlock":return t==="DIV"&&this.parent===this.el||this.hasParent(t,t==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(n)===t;case"fontName":const o=document.queryCommandValue(n);return o===`"${t}"`||o===t;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(n);return t!==void 0?l===t:l}}getParentAttribute(n){return this.parent!==null?this.parent.getAttribute(n):null}can(n){if(n==="outdent")return this.hasParents(["blockquote","li"],!0);if(n==="indent")return this.hasParents(["li"],!0);if(n==="link")return this.selection!==null||this.is("link")}apply(n,t,o=gl){if(n==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(t)&&this.is(n,t)&&(n="outdent",t=null),t==="PRE"&&this.is(n,"PRE")&&(t="P");else if(n==="print"){o();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(n==="link"){const l=this.getParentAttribute("href");if(l===null){const a=this.selectWord(this.selection),i=a?a.toString():"";if(!i.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=ps.test(i)?i:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(a.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(n==="fullscreen"){this.eVm.toggleFullscreen(),o();return}else if(n==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),o();return}document.execCommand(n,!1,t),o()}selectWord(n){if(n===null||n.isCollapsed!==!0||n.modify===void 0)return n;const t=document.createRange();t.setStart(n.anchorNode,n.anchorOffset),t.setEnd(n.focusNode,n.focusOffset);const o=t.collapsed?["backward","forward"]:["forward","backward"];t.detach();const l=n.focusNode,a=n.focusOffset;return n.collapse(n.anchorNode,n.anchorOffset),n.modify("move",o[0],"character"),n.modify("move",o[1],"word"),n.extend(l,a),n.modify("extend",o[1],"character"),n.modify("extend",o[0],"word"),n}}var el=an({name:"QTooltip",inheritAttrs:!1,props:{...Nl,...vl,..._a,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ko},self:{type:String,default:"top middle",validator:Ko},offset:{type:Array,default:()=>[14,14],validator:Ll},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...pl],setup(e,{slots:n,emit:t,attrs:o}){let l,a;const i=Sn(),{proxy:{$q:c}}=i,h=Oe(null),g=Oe(!1),_=B(()=>Go(e.anchor,c.lang.rtl)),m=B(()=>Go(e.self,c.lang.rtl)),b=B(()=>e.persistent!==!0),{registerTick:M,removeTick:z}=_l(),{registerTimeout:$}=bl(),{transitionProps:R,transitionStyle:pe}=yl(e),{localScrollTarget:ne,changeScrollEvent:A,unconfigureScrollTarget:v}=Hl(e,rt),{anchorEl:F,canShow:Ee,anchorEvents:J}=Ul({showing:g,configureAnchorEl:ot}),{show:ce,hide:_e}=wl({showing:g,canShow:Ee,handleShow:fe,handleHide:we,hideOnRouteChange:b,processOnMount:!0});Object.assign(J,{delayShow:ge,delayHide:De});const{showPortal:Ie,hidePortal:ue,renderPortal:$e}=kl(i,h,Re,"tooltip");if(c.platform.is.mobile===!0){const ke={anchorEl:F,innerRef:h,onClickOutside(Te){return _e(Te),Te.target.classList.contains("q-dialog__backdrop")&&Da(Te),!0}},Ke=B(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);We(Ke,Te=>{(Te===!0?Ql:Xo)(ke)}),xo(()=>{Xo(ke)})}function fe(ke){Ie(),M(()=>{a=new MutationObserver(()=>me()),a.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),me(),rt()}),l===void 0&&(l=We(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,me)),$(()=>{Ie(!0),t("show",ke)},e.transitionDuration)}function we(ke){z(),ue(),he(),$(()=>{ue(!0),t("hide",ke)},e.transitionDuration)}function he(){a!==void 0&&(a.disconnect(),a=void 0),l!==void 0&&(l(),l=void 0),v(),Ro(J,"tooltipTemp")}function me(){Rl({targetEl:h.value,offset:e.offset,anchorEl:F.value,anchorOrigin:_.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ge(ke){if(c.platform.is.mobile===!0){Zo(),document.body.classList.add("non-selectable");const Ke=F.value,Te=["touchmove","touchcancel","touchend","click"].map(Xe=>[Ke,Xe,"delayHide","passiveCapture"]);Qo(J,"tooltipTemp",Te)}$(()=>{ce(ke)},e.delay)}function De(ke){c.platform.is.mobile===!0&&(Ro(J,"tooltipTemp"),Zo(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),$(()=>{_e(ke)},e.hideDelay)}function ot(){if(e.noParentEvent===!0||F.value===null)return;const ke=c.platform.is.mobile===!0?[[F.value,"touchstart","delayShow","passive"]]:[[F.value,"mouseenter","delayShow","passive"],[F.value,"mouseleave","delayHide","passive"]];Qo(J,"anchor",ke)}function rt(){if(F.value!==null||e.scrollTarget!==void 0){ne.value=Sl(F.value,e.scrollTarget);const ke=e.noParentEvent===!0?me:_e;A(ne.value,ke)}}function Fe(){return g.value===!0?k("div",{...o,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,pe.value],role:"tooltip"},Cn(n.default)):null}function Re(){return k(Ft,R.value,Fe)}return xo(he),Object.assign(i.proxy,{updatePosition:me}),$e}});function tl(e,n,t){n.handler?n.handler(e,t,t.caret):t.runCmd(n.cmd,n.param)}function Lo(e){return k("div",{class:"q-editor__toolbar-group"},e)}function nl(e,n,t,o=!1){const l=o||(n.type==="toggle"?n.toggled?n.toggled(e):n.cmd&&e.caret.is(n.cmd,n.param):!1),a=[];if(n.tip&&e.$q.platform.is.desktop){const i=n.key?k("div",[k("small",`(CTRL + ${String.fromCharCode(n.key)})`)]):null;a.push(k(el,{delay:1e3},()=>[k("div",{innerHTML:n.tip}),i]))}return k(N,{...e.buttonProps.value,icon:n.icon!==null?n.icon:void 0,color:l?n.toggleColor||e.props.toolbarToggleColor:n.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:n.textColor||e.props.toolbarTextColor,label:n.label,disable:n.disable?typeof n.disable=="function"?n.disable(e):!0:!1,size:"sm",onClick(i){t&&t(),tl(i,n,e)}},()=>a)}function bs(e,n){const t=n.list==="only-icons";let o=n.label,l=n.icon!==null?n.icon:void 0,a,i;function c(){g.component.proxy.hide()}if(t)i=n.options.map(_=>{const m=_.type===void 0?e.caret.is(_.cmd,_.param):!1;return m&&(o=_.tip,l=_.icon!==null?_.icon:void 0),nl(e,_,c,m)}),a=e.toolbarBackgroundClass.value,i=[Lo(i)];else{const _=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,m=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,b=n.list==="no-icons";i=n.options.map(M=>{const z=M.disable?M.disable(e):!1,$=M.type===void 0?e.caret.is(M.cmd,M.param):!1;$&&(o=M.tip,l=M.icon!==null?M.icon:void 0);const R=M.htmlTip;return k(Le,{active:$,activeClass:_,clickable:!0,disable:z,dense:!0,onClick(pe){c(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),tl(pe,M,e)}},()=>[b===!0?null:k(se,{class:$?_:m,side:!0},()=>k(ae,{name:M.icon!==null?M.icon:void 0})),k(se,R?()=>k("div",{class:"text-no-wrap",innerHTML:M.htmlTip}):M.tip?()=>k("div",{class:"text-no-wrap"},M.tip):void 0)])}),a=[e.toolbarBackgroundClass.value,m]}const h=n.highlight&&o!==n.label,g=k(to,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:h?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:h&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:n.fixedLabel?n.label:o,icon:n.fixedIcon?n.icon!==null?n.icon:void 0:l,contentClass:a,onShow:_=>e.emit("dropdownShow",_),onHide:_=>e.emit("dropdownHide",_),onBeforeShow:_=>e.emit("dropdownBeforeShow",_),onBeforeHide:_=>e.emit("dropdownBeforeHide",_)},()=>i);return g}function ys(e){if(e.caret)return e.buttons.value.filter(n=>!e.isViewingSource.value||n.find(t=>t.cmd==="viewsource")).map(n=>Lo(n.map(t=>e.isViewingSource.value&&t.cmd!=="viewsource"?!1:t.type==="slot"?Cn(e.slots[t.slot]):t.type==="dropdown"?bs(e,t):nl(e,t))))}function ws(e,n,t,o={}){const l=Object.keys(o);if(l.length===0)return{};const a={default_font:{cmd:"fontName",param:e,icon:t,tip:n}};return l.forEach(i=>{const c=o[i];a[i]={cmd:"fontName",param:c,icon:t,tip:c,htmlTip:`<font face="${c}">${c}</font>`}}),a}function ks(e){if(e.caret){const n=e.props.toolbarColor||e.props.toolbarTextColor;let t=e.editLinkUrl.value;const o=()=>{e.caret.restore(),t!==e.editLinkUrl.value&&document.execCommand("createLink",!1,t===""?" ":t),e.editLinkUrl.value=null};return[k("div",{class:`q-mx-xs text-${n}`},`${e.$q.lang.editor.url}: `),k("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:t,onInput:l=>{ya(l),t=l.target.value},onKeydown:l=>{if(Ta(l)!==!0)switch(l.keyCode){case 13:return Yo(l),o();case 27:Yo(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),Lo([k(N,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),k(N,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:o})])]}}var Ss=an({name:"QEditor",props:{...$o,...Zl,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(n=>n.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...ei,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:n,emit:t,attrs:o}){const{proxy:l,vnode:a}=Sn(),{$q:i}=l,c=zo(e,i),{inFullscreen:h,toggleFullscreen:g}=ti(),_=Cl(o,a),m=Oe(null),b=Oe(null),M=Oe(null),z=Oe(!1),$=B(()=>!e.readonly&&!e.disable);let R,pe,ne=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),R=window.getComputedStyle(document.body).fontFamily;const A=B(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),v=B(()=>{const w=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:w,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!$.value,size:"sm"}}),F=B(()=>{const w=i.lang.editor,x=i.iconSet.editor;return{bold:{cmd:"bold",icon:x.bold,tip:w.bold,key:66},italic:{cmd:"italic",icon:x.italic,tip:w.italic,key:73},strike:{cmd:"strikeThrough",icon:x.strikethrough,tip:w.strikethrough,key:83},underline:{cmd:"underline",icon:x.underline,tip:w.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:x.unorderedList,tip:w.unorderedList},ordered:{cmd:"insertOrderedList",icon:x.orderedList,tip:w.orderedList},subscript:{cmd:"subscript",icon:x.subscript,tip:w.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:x.superscript,tip:w.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:Z=>Z.caret&&!Z.caret.can("link"),icon:x.hyperlink,tip:w.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:x.toggleFullscreen,tip:w.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:x.viewSource,tip:w.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:x.quote,tip:w.quote,key:81},left:{cmd:"justifyLeft",icon:x.left,tip:w.left},center:{cmd:"justifyCenter",icon:x.center,tip:w.center},right:{cmd:"justifyRight",icon:x.right,tip:w.right},justify:{cmd:"justifyFull",icon:x.justify,tip:w.justify},print:{type:"no-state",cmd:"print",icon:x.print,tip:w.print,key:80},outdent:{type:"no-state",disable:Z=>Z.caret&&!Z.caret.can("outdent"),cmd:"outdent",icon:x.outdent,tip:w.outdent},indent:{type:"no-state",disable:Z=>Z.caret&&!Z.caret.can("indent"),cmd:"indent",icon:x.indent,tip:w.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:x.removeFormat,tip:w.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:x.hr,tip:w.hr},undo:{type:"no-state",cmd:"undo",icon:x.undo,tip:w.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:x.redo,tip:w.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:x.heading1||x.heading,tip:w.heading1,htmlTip:`<h1 class="q-ma-none">${w.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:x.heading2||x.heading,tip:w.heading2,htmlTip:`<h2 class="q-ma-none">${w.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:x.heading3||x.heading,tip:w.heading3,htmlTip:`<h3 class="q-ma-none">${w.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:x.heading4||x.heading,tip:w.heading4,htmlTip:`<h4 class="q-ma-none">${w.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:x.heading5||x.heading,tip:w.heading5,htmlTip:`<h5 class="q-ma-none">${w.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:x.heading6||x.heading,tip:w.heading6,htmlTip:`<h6 class="q-ma-none">${w.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:x.heading,tip:w.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:x.code,htmlTip:`<code>${w.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:x.size1||x.size,tip:w.size1,htmlTip:`<font size="1">${w.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:x.size2||x.size,tip:w.size2,htmlTip:`<font size="2">${w.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:x.size3||x.size,tip:w.size3,htmlTip:`<font size="3">${w.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:x.size4||x.size,tip:w.size4,htmlTip:`<font size="4">${w.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:x.size5||x.size,tip:w.size5,htmlTip:`<font size="5">${w.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:x.size6||x.size,tip:w.size6,htmlTip:`<font size="6">${w.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:x.size7||x.size,tip:w.size7,htmlTip:`<font size="7">${w.size7}</font>`}}}),Ee=B(()=>{const w=e.definitions||{},x=e.definitions||e.fonts?xl(!0,{},F.value,w,ws(R,i.lang.editor.defaultFont,i.iconSet.editor.font,e.fonts)):F.value;return e.toolbar.map(Z=>Z.map(G=>{if(G.options)return{type:"dropdown",icon:G.icon,label:G.label,size:"sm",dense:!0,fixedLabel:G.fixedLabel,fixedIcon:G.fixedIcon,highlight:G.highlight,list:G.list,options:G.options.map(Ot=>x[Ot])};const de=x[G];return de?de.type==="no-state"||w[G]&&(de.cmd===void 0||F.value[de.cmd]&&F.value[de.cmd].type==="no-state")?de:Object.assign({type:"toggle"},de):{type:"slot",slot:G}}))}),J={$q:i,props:e,slots:n,emit:t,inFullscreen:h,toggleFullscreen:g,runCmd:Ke,isViewingSource:z,editLinkUrl:M,toolbarBackgroundClass:A,buttonProps:v,contentRef:b,buttons:Ee,setContent:ke};We(()=>e.modelValue,w=>{ne!==w&&(ne=w,ke(w,!0))}),We(M,w=>{t(`link${w?"Show":"Hide"}`)});const ce=B(()=>e.toolbar&&e.toolbar.length!==0),_e=B(()=>{const w={},x=Z=>{Z.key&&(w[Z.key]={cmd:Z.cmd,param:Z.param})};return Ee.value.forEach(Z=>{Z.forEach(G=>{G.options?G.options.forEach(x):x(G)})}),w}),Ie=B(()=>h.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),ue=B(()=>`q-editor q-editor--${z.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(h.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(c.value===!0?" q-editor--dark q-dark":"")),$e=B(()=>[e.contentClass,"q-editor__content",{col:h.value,"overflow-auto":h.value||e.maxHeight}]),fe=B(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function we(){if(b.value!==null){const w=`inner${z.value===!0?"Text":"HTML"}`,x=b.value[w];x!==e.modelValue&&(ne=x,t("update:modelValue",x))}}function he(w){if(t("keydown",w),w.ctrlKey!==!0||Ta(w)===!0){Te();return}const x=w.keyCode,Z=_e.value[x];if(Z!==void 0){const{cmd:G,param:de}=Z;Da(w),Ke(G,de,!1)}}function me(w){Te(),t("click",w)}function ge(w){if(b.value!==null){const{scrollTop:x,scrollHeight:Z}=b.value;pe=Z-x}J.caret.save(),t("blur",w)}function De(w){Rn(()=>{b.value!==null&&pe!==void 0&&(b.value.scrollTop=b.value.scrollHeight-pe)}),t("focus",w)}function ot(w){const x=m.value;if(x!==null&&x.contains(w.target)===!0&&(w.relatedTarget===null||x.contains(w.relatedTarget)!==!0)){const Z=`inner${z.value===!0?"Text":"HTML"}`;J.caret.restorePosition(b.value[Z].length),Te()}}function rt(w){const x=m.value;x!==null&&x.contains(w.target)===!0&&(w.relatedTarget===null||x.contains(w.relatedTarget)!==!0)&&(J.caret.savePosition(),Te())}function Fe(){pe=void 0}function Re(w){J.caret.save()}function ke(w,x){if(b.value!==null){x===!0&&J.caret.savePosition();const Z=`inner${z.value===!0?"Text":"HTML"}`;b.value[Z]=w,x===!0&&(J.caret.restorePosition(b.value[Z].length),Te())}}function Ke(w,x,Z=!0){Xe(),J.caret.restore(),J.caret.apply(w,x,()=>{Xe(),J.caret.save(),Z&&Te()})}function Te(){setTimeout(()=>{M.value=null,l.$forceUpdate()},1)}function Xe(){ql(()=>{b.value!==null&&b.value.focus({preventScroll:!0})})}function Ct(){return b.value}return ba(()=>{J.caret=l.caret=new _s(b.value,J),ke(e.modelValue),Te(),document.addEventListener("selectionchange",Re)}),xo(()=>{document.removeEventListener("selectionchange",Re)}),Object.assign(l,{runCmd:Ke,refreshToolbar:Te,focus:Xe,getContentEl:Ct}),()=>{let w;if(ce.value){const x=[k("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+A.value},ys(J))];M.value!==null&&x.push(k("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+A.value},ks(J))),w=k("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},x)}return k("div",{ref:m,class:ue.value,style:{height:h.value===!0?"100%":null},...fe.value,onFocusin:ot,onFocusout:rt},[w,k("div",{ref:b,style:Ie.value,class:$e.value,contenteditable:$.value,placeholder:e.placeholder,..._.listeners.value,onInput:we,onKeydown:he,onClick:me,onBlur:ge,onFocus:De,onMousedown:Fe,onTouchstartPassive:Fe})])}}});function Kt(){return Dl(Tl)}const Cs={props:{modelValue:String,toolbar:{type:Array,default:()=>[[{label:Kt().lang.editor.align,icon:Kt().iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]},"bold","italic","strike","underline","color","text-color","removeFormat","token","link","hiliteColor","print","unordered","ordered",{label:Kt().lang.editor.formatting,icon:Kt().iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:Kt().lang.editor.fontSize,icon:Kt().iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},"undo","redo"]]},shortCodes:{type:Array,default:()=>[{label:"First Name",value:"FIRST_NAME"},{label:"Last Name",value:"LAST_NAME"},{label:"Full Name",value:"FULL_NAME"}]}},methods:{onChange(e){console.func("components/base/BaseEditor:methods.onChange",arguments),this.$emit("update:model-value",e)},shortCode(e){console.func("components/base/BaseEditor:methods.shortCode",arguments);const n=this.$refs.baseEditor;this.$refs.shortCode.hide(),n.caret.restore(),n.runCmd("insertHTML",`{{${e}}}`),n.focus()},hiliteColor(e){console.func("components/base/BaseEditor:methods.hiliteColor",arguments);const n=this.$refs.baseEditor;this.$refs.hiliteColor.hide(),n.caret.restore(),n.runCmd("foreColor",e),n.focus()}}};function xs(e,n,t,o,l,a){return u(),S(Ss,{class:"base-editor",ref:"baseEditor",placeholder:"Your content goes here...","model-value":t.modelValue,"onUpdate:modelValue":a.onChange,"min-height":"10rem",dense:"",definitions:{"size-2":{label:"Small",icon:null,tip:null},"size-4":{label:"Medium",icon:null,tip:null},"size-5":{label:"Large",icon:null,tip:null},"size-6":{label:"Very Large",icon:null,tip:null}},debounce:"500",toolbar:t.toolbar,fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},{shortCode:d(()=>[s(to,{dense:"","no-caps":"",ref:"shortCode","no-wrap":"",unelevated:"",label:"Fields",size:"sm",onClick:n[0]||(n[0]=lt(()=>{},["stop"]))},{default:d(()=>[s(tn,{class:"bg-grey-9 text-white q-pa-sm",dense:""},{default:d(()=>[(u(!0),C(oe,null,Pe(t.shortCodes,(i,c)=>(u(),S(Le,{key:c,class:"rounded-borders",tag:"label",clickable:"",onClick:lt(h=>a.shortCode(i.value),["stop"])},{default:d(()=>[s(se,null,{default:d(()=>[qe(U(i.label),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1},512)]),hiliteColor:d(()=>[s(N,{dense:"","no-caps":"","no-wrap":"",unelevated:"",icon:"format_color_fill",size:"sm",onClick:n[1]||(n[1]=lt(()=>{},["stop"]))},{default:d(()=>[s(kn,{ref:"hiliteColor",cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[s(Oo,{"onUpdate:modelValue":a.hiliteColor,"no-header":"","no-footer":"","default-view":"palette"},null,8,["onUpdate:modelValue"])]),_:1},512)]),_:1})]),_:1},8,["model-value","onUpdate:modelValue","toolbar"])}var qs=W(Cs,[["render",xs]]),Ds=Object.freeze(Object.defineProperty({__proto__:null,default:qs},Symbol.toStringTag,{value:"Module"}));const Ts={data(){return{selected:this.modelValue,files:this.relatedFiles,current_page:1,last_page:1,loading:!1}},props:{modelValue:{required:!1},relatedFiles:{required:!1,type:[Array],default:()=>[]},hint:[String],title:{type:[String],default:"uploadMedia"},multiple:{type:[Boolean],default:!1},maxFileSize:{type:[Number,String],default:void 0},acceptType:{required:!1,type:[String],default:void 0},loadFromServer:{type:[Boolean],required:!1,default:!1},onUploading:{type:[Function],required:!1,default:void 0}},emits:["ok","hide"],methods:{...ln(jl,["get"]),onRejected(e){console.func("components/FileSelectorDialog:methods.onRejected()",arguments),this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})},onUploaded({files:e,xhr:n}){console.func("components/FileSelectorDialog:methods.onUploaded()",arguments),this.$refs.uploader.removeFile(e[0]);const t=JSON.parse(n.response);this.files.splice(0,0,t)},onLoadFile(e){console.func("components/FileSelectorDialog:methods.onLoadFile()",arguments),this.loading=!0,this.current_page=e.page,this.get(e).then(({data:n,meta:t})=>{this.files=n,this.current_page=t.current_page,this.last_page=t.last_page,this.loading=!1}).catch(()=>{this.loading=!1})},async show(){console.func("components/FileSelectorDialog:methods.show()",arguments),this.loadFromServer&&await this.onLoadFile({page:this.current_page}),this.$refs.dialog.show()},hide(){console.func("components/FileSelectorDialog:methods.close()",arguments),this.$refs.dialog.hide()},onDialogHide(){console.func("components/FileSelectorDialog:methods.onDialogHide()",arguments),this.$emit("hide")},onDone(){console.func("components/FileSelectorDialog:methods.onDone()",arguments),this.$emit("ok",this.selected),this.hide()},onSelect(e){console.func("components/file-selector-dialog.vue:methods.onSelect()",arguments),this.multiple?this.selected?this.selected.find(n=>n.id===e.id)?this.selected=this.selected.filter(n=>n.id!==e.id):this.selected.push(e):(this.selected=[],this.selected.push(e)):this.selected=this.selected&&this.selected.id===e.id?"":e},getSelected(e){return this.multiple?this.selected&&this.selected.filter(n=>n.id===e.id).length>0:this.selected&&this.selected.id===e.id}},computed:{headers(){return[{name:"Authorization",value:`Bearer ${this.$app.token}`}]},url(){return"https://api.nitrofit28.coderstm.com/files/store"},disable(){return this.selected===this.modelValue}}},Bs={class:"file-grid"},Os={class:"relative-position file-box file-select-btn"},Ps={class:"text-black flex flex-center"},Es={class:"text-center"},Ms={class:"text-subtitle2 text-primary"},As={key:0,class:"q-pa-md text-black flex flex-center"},Is={key:0,class:"thumbnail"},Vs={key:1,class:"q-pa-md text-black flex flex-center file"},$s={class:"info overflow-hidden text-center"},zs={key:2,class:"absolute-full q-pa-md text-black flex flex-center failed"},Fs={class:"info overflow-hidden text-center"},js=["onClick"],Ns={key:0,class:"thumbnail"},Ls={key:1,class:"q-pa-md text-black flex flex-center file"},Hs={class:"info overflow-hidden text-center"},Us={class:"absolute-full controller"},Rs={class:"q-pt-xs q-pr-sm absolute-top-right"},Qs={class:"q-gutter-sm"};function Ys(e,n,t,o,l,a){const i=X("base-info"),c=X("base-dialog");return u(),S(c,{title:e.$t(t.title),"body-style":"","body-class":"q-pa-none",ref:"dialog",persistent:"","use-separator":"",onHide:a.onDialogHide},{body:d(()=>[s(Oa,{ref:"uploader",class:"full-width file-selector-dialog-uploader overflow-hidden",flat:"",multiple:t.multiple,"max-file-size":t.maxFileSize,"field-name":"media","auto-upload":"",accept:t.acceptType,"with-credentials":!0,headers:a.headers,url:a.url,onUploaded:a.onUploaded,onRejected:a.onRejected},{header:d(()=>[]),list:d(h=>[l.loading?P("",!0):(u(),C(oe,{key:0},[t.hint?(u(),S(i,{key:0,class:"q-mb-md"},{default:d(()=>[qe(U(t.hint),1)]),_:1})):P("",!0),q("div",Bs,[q("div",Os,[s(gn,{class:"cursor-pointer file-selector-dialog min",ratio:1},{default:d(()=>[s(To),q("div",Ps,[q("div",Es,[q("div",Ms,U(e.$t("browseFiles")),1),q("div",null,U(e.$t("orDropFilesHereToUpload")),1)])])]),_:1})]),(u(!0),C(oe,null,Pe(h.files,(g,_)=>(u(),C("div",{class:"relative-position file-box",key:_},[s(gn,{class:"box rounded-borders cursor-pointer bg-grey-4",ratio:1},{default:d(()=>[g.__status==="uploading"?(u(),C("div",As,[s(Zt,{color:"primary",size:"3rem",thickness:5})])):(u(),C(oe,{key:1},[g.__img?(u(),C("div",Is,[s(Qn,{src:g.__img.src,contain:""},{loading:d(()=>[s(Zt,{color:"white"})]),_:2},1032,["src"])])):(u(),C("div",Vs,[q("div",$s,[s(ae,{name:`fas fa-file-${g.icon}`,size:"50px"},null,8,["name"])])])),g.__status==="failed"?(u(),C("div",zs,[q("div",Fs,[s(N,{flat:"",round:"",color:"white",icon:"fas fa-cloud-upload-alt",onClick:h.upload},null,8,["onClick"])])])):P("",!0)],64))]),_:2},1024)]))),128)),(u(!0),C(oe,null,Pe(l.files,g=>(u(),C("div",{onClick:_=>a.onSelect(g),class:re({"relative-position":!0,"file-box":!0,selected:a.getSelected(g)}),key:g.id},[s(gn,{class:"box rounded-borders cursor-pointer",ratio:1},{default:d(()=>[g.is_image?(u(),C("div",Ns,[s(Qn,{src:g.url,contain:""},{loading:d(()=>[s(Zt,{color:"white"})]),_:2},1032,["src"])])):(u(),C("div",Ls,[q("div",Hs,[s(ae,{name:`fas fa-file-${g.icon}`,size:"50px"},null,8,["name"])])])),q("div",Us,[q("div",Rs,[s(ae,{class:"checked-icon",size:"15px",color:"green",name:"fas fa-check-circle"})])])]),_:2},1024)],10,js))),128))])],64)),s(ai,{showing:l.loading},{default:d(()=>[s(Bl,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:1},8,["multiple","max-file-size","accept","headers","url","onUploaded","onRejected"])]),footer:d(()=>[s(ct,{class:"flex"},{default:d(()=>[t.loadFromServer?(u(),C(oe,{key:0},[s(N,{disable:l.current_page<=1||l.loading,onClick:n[0]||(n[0]=h=>a.onLoadFile({page:l.current_page-1>=1?l.current_page-1:1})),dense:"",round:"",flat:"",color:"primary",icon:"fal fa-angle-left"},null,8,["disable"]),s(N,{disable:l.current_page==l.last_page||l.loading,onClick:n[1]||(n[1]=h=>a.onLoadFile({page:l.current_page+1<=l.last_page?l.current_page+1:1})),dense:"",round:"",flat:"",color:"primary",icon:"fal fa-angle-right"},null,8,["disable"])],64)):P("",!0),s(sn),q("div",Qs,[ve(s(N,{"no-caps":"",outline:"",label:e.$t("cancel"),color:"grey"},null,8,["label"]),[[nt]]),s(N,{disable:a.disable,"no-caps":"",label:e.$t("done"),color:"primary",onClick:a.onDone},null,8,["disable","label","onClick"])])]),_:1})]),_:1},8,["title","onHide"])}var ol=W(Ts,[["render",Ys]]);const zn={status:null,message:null,media:[]},Ws={components:{EnquiryStatus:Pa},props:{id:[String,Number],avatar:{type:[Boolean,String],required:!1,default:!1},user:{type:[Boolean,Object],required:!1,default:!1},icon:{type:[Boolean,String],required:!1,default:!1},archived:Boolean,creating:Boolean,isAdmin:Boolean,message:String,created_at:String,media:Array,moduleId:[String,Number]},data(){return{loading:!1,note:Ve.exports.cloneDeep(zn),default:Ve.exports.cloneDeep(zn)}},emits:["create","update:archived"],methods:{...ln(li,["reply"]),onSubmit(){console.func("components/base/BaseNoteCard:methods.onSubmit()",arguments),this.loading=!0,this.reply({...this.$props,...this.note}).then(({data:e,message:n})=>{this.note=Ve.exports.cloneDeep(zn),this.default=Ve.exports.cloneDeep(zn),this.$q.notify(n),this.$emit("create",e),this.loading=!1}).catch(e=>{this.loading=!1,this.$core.error(e,{title:this.$t("dialog.title.error")})})},onChangeArchived(e){console.func("components/base/BaseNoteCard:methods.onChangeArchived()",arguments),this.$emit("update:archived",e)},onAttachFile(){console.func("components/base/BaseEnquiryReplyCard:methods.onAttachFile()",arguments),this.$q.dialog({component:ol,componentProps:{title:this.$t("attachFile"),multiple:!0}}).onOk(e=>{console.func("components/base/BaseEnquiryReplyCard:methods.onAttachFile.onOk()",e),this.note.media=e})}},computed:{...rn(Bt,{current:"user"}),currentUser(){return this.creating?this.current:this.user},color(){return this.$parent.color||"primary"},title(){return this.user?this.user.name:""},hasUser(){return Boolean(this.user)},has_icon(){return this.icon||this.avatar||this.user||this.creating},disable(){return JSON.stringify(this.note)===JSON.stringify(this.default)},getMessage(){return this.message?this.message.replace(/\r?\n/g,"<br/>"):this.message},getMedia(){return this.media||this.note.media}}},Ks={key:0,class:"q-timeline__subtitle"},Xs={key:0,class:"q-ml-sm text-grey-8 text-weight-medium"},Gs=["src"],Js={class:"q-timeline__content"},Zs=["innerHTML"],eu={key:0,class:"q-ml-sm text-grey-8"},tu={key:2,class:"q-pt-sm files"},nu={class:"row q-col-gutter-sm"},ou={key:3,class:"actions-buttons flex q-gutter-sm items-center"};function au(e,n,t,o,l,a){const i=X("base-avatar"),c=X("base-media-card"),h=X("enquiry-status"),g=X("base-btn");return u(),C("li",{class:re({"q-timeline__entry base-enquiry-reply-card":!0,"q-timeline__entry--right":!0,"q-timeline__entry--icon":a.has_icon})},[!t.creating&&a.hasUser?(u(),C("div",Ks,[q("span",null,U(a.title),1),t.created_at?(u(),C("span",Xs,U(t.created_at),1)):P("",!0)])):P("",!0),q("div",{class:re(`q-timeline__dot text-${a.color}`)},[t.avatar?(u(),C("img",{key:0,class:"q-timeline__dot-img",src:t.avatar},null,8,Gs)):t.icon?(u(),S(ae,{key:1,name:t.icon},null,8,["name"])):a.currentUser?(u(),S(i,{key:2,class:"q-timeline__dot-img",tooltip:!1,size:"30px",user:a.currentUser},null,8,["user"])):P("",!0)],2),q("div",Js,[t.creating?(u(),S(wt,{key:0,class:"note-editor q-mb-sm",placeholder:e.$t("placeholder.leaveReply"),outlined:"",modelValue:l.note.message,"onUpdate:modelValue":n[0]||(n[0]=_=>l.note.message=_),type:"textarea",autogrow:""},null,8,["placeholder","modelValue"])):(u(),S(Le,{key:1,style:{"min-height":"auto"},dense:"",class:"q-pa-none"},{default:d(()=>[s(se,null,{default:d(()=>[s(ft,null,{default:d(()=>[q("div",{innerHTML:a.getMessage},null,8,Zs)]),_:1})]),_:1}),a.hasUser?P("",!0):(u(),S(se,{key:0,side:""},{default:d(()=>[t.created_at?(u(),C("span",eu,U(t.created_at),1)):P("",!0)]),_:1}))]),_:1})),a.getMedia.length?(u(),C("div",tu,[q("div",nu,[(u(!0),C(oe,null,Pe(a.getMedia,(_,m)=>(u(),C("div",{key:_.id,class:"col-sm-2 col-xs-12"},[s(c,{creating:t.creating,media:_,onRemove:b=>l.note.media.splice(m,1)},null,8,["creating","media","onRemove"])]))),128))])])):P("",!0),t.creating?(u(),C("div",ou,[e.$q.screen.gt.xs?(u(),S(sn,{key:0})):P("",!0),s(_t,{"model-value":t.archived,"onUpdate:modelValue":a.onChangeArchived,label:e.$t("archived"),dense:""},null,8,["model-value","onUpdate:modelValue","label"]),t.isAdmin?(u(),S(h,{key:1,modelValue:l.note.status,"onUpdate:modelValue":n[1]||(n[1]=_=>l.note.status=_),prefix:e.$t("prefix.status")},null,8,["modelValue","prefix"])):P("",!0),s(g,{class:"main-btn",color:"grey-5",icon:"far fa-paperclip",label:e.$t("attachFile"),onClick:a.onAttachFile},null,8,["label","onClick"]),s(g,{loading:l.loading,class:"main-btn",color:"primary",label:e.$t("reply"),icon:"fas fa-paper-plane",onClick:a.onSubmit,disable:a.disable},null,8,["loading","label","onClick","disable"])])):P("",!0)])],2)}var lu=W(Ws,[["render",au],["__scopeId","data-v-c0590484"]]),iu=Object.freeze(Object.defineProperty({__proto__:null,default:lu},Symbol.toStringTag,{value:"Module"}));const ru={props:{submited:{required:!1,type:Boolean,default:()=>!1},resetable:{required:!1,type:Boolean,default:()=>!1},disable:{required:!1,type:Boolean,default:()=>!1},cancelable:{required:!1,type:Boolean,default:()=>!0},square:{required:!1,type:Boolean,default:()=>!1},bordered:{required:!1,type:Boolean,default:()=>!1},submit:{required:!1,type:Boolean,default:()=>!0},saveLabel:String,contentClass:{required:!1,type:String,default:()=>""},noAction:Boolean,noEvents:Boolean},emits:["cancel","reset"],methods:{...ln(Bt,["setIsDirt","setIsLoading"]),onCancel(){console.func("components/base/base-form:methods.onCancel()",arguments),this.$emit("cancel")},onReset(){console.func("components/base/base-form:methods.onReset()",arguments),this.$core.confirm(this.$t("dialog.info.discard"),{title:this.$t("dialog.title.discard"),ok:this.$t("dialog.ok.discard"),cancel:this.$t("dialog.cancel.discard"),okColor:"negative"}).then(()=>{this.setIsDirt(!1),this.$emit("reset")})},addHandler(){if(this.noEvents)return!1;window.addEventListener("form:discard",this.onDiscard),window.addEventListener("form:save",this.onSave)},removeHandler(){if(this.noEvents)return!1;window.removeEventListener("form:discard",this.onDiscard),window.removeEventListener("form:save",this.onSave)},onDiscard(){console.func("components/base/base-form:methods.onDiscard()",arguments),this.onReset()},onSave(){console.func("components/base/base-form:methods.onSave()",arguments),this.$refs.baseForm.submit(),this.setIsLoading(!0)}},watch:{resetable:{deep:!0,immediate:!0,handler(e){this.setIsDirt(e)}},submited:{deep:!0,immediate:!0,handler(e){this.setIsLoading(e)}}},computed:{...rn(Bt,["isDirt"])},created(){this.addHandler()},beforeUnmount(){this.removeHandler()}};function su(e,n,t,o,l,a){return u(),S(ii,{class:"base-form",ref:"baseForm"},{default:d(()=>[s(xn,{flat:"",square:t.square,bordered:t.bordered,class:re(`bg-transparent ${t.contentClass}`)},{default:d(()=>[s(ct,{class:"q-pa-none form-body"},{default:d(()=>[I(e.$slots,"default")]),_:3}),t.noAction?P("",!0):I(e.$slots,"actions",{key:0},()=>[s(ct,{class:"q-px-none text-right form-actions"},{default:d(()=>{var i;return[t.resetable&&!t.submited?(u(),S(N,{key:0,"no-caps":"",onClick:a.onReset,label:e.$t("reset"),color:"grey",class:"main-btn q-mr-sm"},null,8,["onClick","label"])):P("",!0),t.cancelable?(u(),S(N,{key:1,disable:t.submited,"no-caps":"",onClick:a.onCancel,label:e.$t("cancel"),color:"negative",class:"main-btn q-mr-sm"},null,8,["disable","onClick","label"])):P("",!0),ve(s(N,{disable:t.disable,loading:t.submited,"no-caps":"",label:(i=t.saveLabel)!=null?i:e.$t("save"),type:"submit",color:"primary",class:"main-btn"},null,8,["disable","loading","label"]),[[it,t.submit]]),I(e.$slots,"after-actions")]}),_:3})])]),_:3},8,["square","bordered","class"])]),_:3},512)}var uu=W(ru,[["render",su]]),du=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"}));const{getPaletteColor:cu,changeAlpha:fu}=Ea,hu={props:{color:{type:String,deafult:"warning"}},computed:{bgColor(){var e;return fu(cu((e=this.color)!=null?e:"warning"),.3)}}},mu={class:"flex row items-center"},gu={class:"col-auto q-mr-md avatar"},vu={class:"col message"};function pu(e,n,t,o,l,a){return u(),S(ri,{class:"base-info",style:yt({background:a.bgColor})},{default:d(()=>[q("div",mu,[q("div",gu,[I(e.$slots,"avatar",{},()=>{var i;return[s(ae,{size:"sm",name:"fas fa-info-circle",color:(i=t.color)!=null?i:"warning"},null,8,["color"])]})]),q("div",vu,[I(e.$slots,"default")])])]),_:3},8,["style"])}var _u=W(hu,[["render",pu]]),bu=Object.freeze(Object.defineProperty({__proto__:null,default:_u},Symbol.toStringTag,{value:"Module"}));const yu={props:{modelValue:{},type:String,label:String,bgColor:String,dense:{type:Boolean,default:!0},outlined:{type:Boolean,default:!0},borderless:Boolean,view:Boolean,readonly:Boolean,autogrow:Boolean},methods:{onChange(e){console.func("components/base/BaseInput:methods.onChange",arguments),this.$emit("update:model-value",e)}},computed:{scopedSlots(){return Object.keys(this.$slots)},isAutoGrow(){return this.type==="textarea"&&(this.view||this.readonly||this.autogrow)}}};function wu(e,n,t,o,l,a){return u(),S(wt,{dense:t.dense,readonly:t.view||t.readonly,"bg-color":t.bgColor,outlined:t.outlined&&!t.borderless,borderless:t.borderless,modelValue:t.modelValue,type:t.type,label:t.label,autogrow:a.isAutoGrow,debounce:"500","onUpdate:modelValue":a.onChange,class:re({"base-input":!0,"view-mode":t.view})},wn({_:2},[Pe(a.scopedSlots,i=>({name:i,fn:d(c=>[I(e.$slots,i,Ne(c,{props:c}))])}))]),1032,["dense","readonly","bg-color","outlined","borderless","modelValue","type","label","autogrow","onUpdate:modelValue","class"])}var ku=W(yu,[["render",wu]]),Su=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"}));const Cu={props:{label:[Number,String],icon:String,iconColor:String,notification:[String,Number],link:Boolean,squared:Boolean,noHover:Boolean,iconSpace:Boolean}};function xu(e,n,t,o,l,a){return ve((u(),S(Le,{clickable:"",class:re({"base-item":!0,link:t.link,"no-hover":t.noHover,"rounded-borders":!t.squared})},{default:d(()=>[I(e.$slots,"default",{},()=>[t.icon||t.iconSpace?(u(),S(se,{key:0,style:{"min-width":"auto"},avatar:""},{default:d(()=>[s(ae,{color:t.iconColor,size:"15px",name:t.icon},null,8,["color","name"])]),_:1})):P("",!0),s(se,null,{default:d(()=>[qe(U(t.label),1)]),_:1}),t.notification?(u(),S(se,{key:1,side:""},{default:d(()=>[s(Do,{rounded:"",color:"warning","text-color":"black",class:"text-bold",label:t.notification},null,8,["label"])]),_:1})):P("",!0)])]),_:3},8,["class"])),[[nt]])}var qu=W(Cu,[["render",xu]]),Du=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"}));const Tu={props:{title:String,required:Boolean}},Bu={class:"base-label flex items-center"},Ou={class:"text-label"},Pu={key:0,class:"q-ml-xs"};function Eu(e,n,t,o,l,a){return u(),C("div",Bu,[q("div",Ou,[I(e.$slots,"default",{},()=>[qe(U(t.title),1)]),t.required?(u(),C("span",Pu,"*")):P("",!0)])])}var Mu=W(Tu,[["render",Eu]]),Au=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"}));const Iu={props:{media:Object,creating:Boolean},emits:["remove","close"],methods:{onRemove(){console.log("components/base/BaseMediaCard:methods.onRemove()",arguments),this.$emit("remove",this.media)},onDetails(){console.func("components/base/BaseMediaCard:methods.onDetails()",arguments),this.$q.dialog({component:Ba,componentProps:{file:this.media}}).onCancel(()=>{this.$emit("close",this.media)})}}};function Vu(e,n,t,o,l,a){const i=X("base-thumbnail");return u(),S(Le,{onClick:a.onDetails,clickable:"",class:"q-pa-none rounded-borders border-all overflow-hidden"},{default:d(()=>[s(se,{avatar:""},{default:d(()=>[s(i,{class:"border-right",square:"",flat:"",media:t.media},null,8,["media"])]),_:1}),s(se,null,{default:d(()=>[s(ft,{caption:"",lines:"1"},{default:d(()=>[qe(U(t.media.name),1)]),_:1})]),_:1}),t.creating?(u(),S(se,{key:0,side:""},{default:d(()=>[s(N,{onClick:a.onRemove,flat:"",round:"",size:"xs",icon:"fal fa-times"},null,8,["onClick"])]),_:1})):P("",!0)]),_:1},8,["onClick"])}var $u=W(Iu,[["render",Vu]]),zu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"}));const Fu={props:{height:{type:String,default:"calc(100vh - 220px)"},containerStyle:{type:String,default:"width: 400px; max-width: calc(100vw - 50px)"},icon:{type:String,default:"fad fa-earth-americas"},iconColor:{type:String,default:"teal-2"},iconSize:{type:String,default:"100px"},title:String,message:String}},ju={class:"q-mt-md text-subtitle2"},Nu={class:"message"};function Lu(e,n,t,o,l,a){return u(),C("div",{class:"base-no-records flex flex-center",style:yt({height:t.height})},[q("div",{class:"container text-center",style:yt(t.containerStyle)},[s(ae,{color:t.iconColor,size:t.iconSize,name:t.icon},null,8,["color","size","name"]),q("div",ju,U(t.title),1),q("div",Nu,U(t.message),1)],4)],4)}var Hu=W(Fu,[["render",Lu]]),Uu=Object.freeze(Object.defineProperty({__proto__:null,default:Hu},Symbol.toStringTag,{value:"Module"}));const Ru=["red","green","amber","white"].map(e=>({label:e?`<div class="text-center"><i class="q-icon fas fa-circle rag-${e}" style="font-size: 13px;" aria-hidden="true" role="presentation" ></i></div>`:'<div class="text-center">All</div>',value:e})),ha={rag:null,message:null},Qu={components:{BaseBtn:Aa,BaseAvatar:Ma},props:{id:[String,Number],avatar:{type:[Boolean,String],required:!1,default:!1},user:{type:[Boolean,Object],required:!1,default:!1},icon:{type:[Boolean,String],required:!1,default:!1},creating:Boolean,message:String,type:String,options:[Array,String,Object],date_time:String,moduleAction:Function,noRag:Boolean,moduleId:{required:!0}},data(){return{loading:!1,note:Ve.exports.cloneDeep(ha),default:Ve.exports.cloneDeep(ha),rag_options:Ru}},emits:["create"],methods:{onSubmit(){console.func("components/base/BaseNoteCard:methods.onSubmit()",arguments),this.loading=!0,this.moduleAction({...this.$props,...this.note}).then(({data:e,message:n})=>{this.note={rag:null,message:null},this.default={rag:null,message:null},this.$q.notify(n),this.$emit("create",e),this.loading=!1}).catch(e=>{this.loading=!1,this.$core.error(e,{title:this.$t("dialog.title.error")})})}},computed:{...rn(Bt,{logedUser:"user"}),currentUser(){return this.creating?this.logedUser:this.user},color(){return this.$parent.color||"primary"},title(){return this.user?this.user.name:""},hasUser(){return Boolean(this.user)},has_icon(){return this.icon||this.avatar||this.user||this.creating},disable(){return JSON.stringify(this.note)===JSON.stringify(this.default)},getMessage(){let e=this.message||"",n=[];return this.type==="updated"&&this.options&&(Object.keys(this.options).forEach(t=>{let o=this.options[t],l=this.$core.capitalize(t.replace("_id","").replaceAll("_"," "));t==="password"?n.push(`${l} changed`):n.push(`${l} changed from ${o.previous} to ${o.current}`)}),e=e+"<br>"+n.join("<br>")),e.replace(/\r?\n/g,"<br/>")}}},Yu={key:0,class:"q-timeline__subtitle"},Wu={key:0,class:"q-ml-sm text-grey-8 text-weight-medium"},Ku=["src"],Xu={class:"q-timeline__content"},Gu={class:"flex items-center"},Ju=["innerHTML"],Zu={key:0,class:"q-ml-sm text-grey-8"};function ed(e,n,t,o,l,a){const i=X("base-avatar"),c=X("base-select"),h=X("base-btn");return u(),C("li",{class:re({"q-timeline__entry":!0,"q-timeline__entry--right":!0,"q-timeline__entry--icon":a.has_icon})},[!t.creating&&a.hasUser?(u(),C("div",Yu,[q("span",null,U(a.title),1),t.date_time?(u(),C("span",Wu,U(t.date_time),1)):P("",!0)])):P("",!0),q("div",{class:re(`q-timeline__dot text-${a.color}`)},[t.avatar?(u(),C("img",{key:0,class:"q-timeline__dot-img",src:t.avatar},null,8,Ku)):t.icon?(u(),S(ae,{key:1,name:t.icon},null,8,["name"])):a.currentUser?(u(),S(i,{key:2,class:"q-timeline__dot-img",tooltip:!1,size:"30px",user:a.currentUser},null,8,["user"])):P("",!0)],2),q("div",Xu,[t.creating?(u(),C(oe,{key:0},[s(wt,{class:"note-editor q-mb-sm",placeholder:e.$t("placeholder.leaveNote"),outlined:"",modelValue:l.note.message,"onUpdate:modelValue":n[0]||(n[0]=g=>l.note.message=g),type:"textarea",autogrow:""},null,8,["placeholder","modelValue"]),q("div",Gu,[s(sn),t.noRag?P("",!0):(u(),S(c,{key:0,options:l.rag_options,modelValue:l.note.rag,"onUpdate:modelValue":n[1]||(n[1]=g=>l.note.rag=g),outlined:"",dense:"",class:"q-mr-sm","options-html":"","map-options":"",prefix:e.$t("prefix.rag"),"emit-value":""},null,8,["options","modelValue","prefix"])),s(h,{loading:l.loading,class:"main-btn",color:"primary",label:e.$t("save"),onClick:a.onSubmit,disable:a.disable},null,8,["loading","label","onClick","disable"])])],64)):(u(),S(Le,{key:1,style:{"min-height":"auto"},dense:"",class:"q-pa-none"},{default:d(()=>[s(se,null,{default:d(()=>[s(ft,null,{default:d(()=>[q("div",{innerHTML:a.getMessage},null,8,Ju)]),_:1})]),_:1}),a.hasUser?P("",!0):(u(),S(se,{key:0,side:""},{default:d(()=>[t.date_time?(u(),C("span",Zu,U(t.date_time),1)):P("",!0)]),_:1}))]),_:1}))])],2)}var td=W(Qu,[["render",ed],["__scopeId","data-v-14fd184e"]]),nd=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"}));const od={props:{modelValue:{required:!0},placeholder:{required:!1,type:[String],default:"0.00"},precision:{required:!1,type:[Number],default:2},minimumFractionDigits:{required:!1,type:[Number],default:2},max:[Number,String,Boolean],min:[Number,String,Boolean]},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/input/base-number:methods.onChange()",arguments),this.$emit("update:model-value",e)}}};function ad(e,n,t,o,l,a){const i=X("vue-number");return u(),S(si,{class:"base-number-input",dense:"",outlined:"","model-value":t.modelValue,"onUpdate:modelValue":a.onChange},{prepend:d(()=>[I(e.$slots,"prepend")]),control:d(({id:c,modelValue:h,emitValue:g})=>[s(i,Ne({id:c,class:"q-field__input","model-value":h,"onUpdate:modelValue":g},{decimal:".",separator:",",prefix:"",suffix:"",precision:t.precision,minimumFractionDigits:t.minimumFractionDigits,masked:!1,nullValue:"",max:t.max,min:t.min},{placeholder:t.placeholder}),null,16,["id","model-value","onUpdate:modelValue","placeholder"])]),_:3},8,["model-value","onUpdate:modelValue"])}var ld=W(od,[["render",ad]]),id=Object.freeze(Object.defineProperty({__proto__:null,default:ld},Symbol.toStringTag,{value:"Module"})),rd=an({name:"QRouteTab",props:{...Ol,...Yl},emits:Wl,setup(e,{slots:n,emit:t}){const o=Pl({useDisableForRouterLinkProps:!1}),{renderTab:l,$tabs:a}=Kl(e,n,t,{exact:B(()=>e.exact),...o});return We(()=>`${e.name} | ${e.exact} | ${(o.resolvedLink.value||{}).href}`,()=>{a.verifyRouteModel()}),()=>l(o.linkTag.value,o.linkAttrs.value)}});const sd={emits:["update:model-value"],props:{modelValue:String,title:String,hint:String,useSeparator:{type:Boolean,default:!0},tabs:Array,noTabs:Boolean,useRoute:Boolean},computed:{cTabs(){var e;return(e=this.tabs)==null?void 0:e.map(n=>({label:n,value:n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}))},notab(){var e;return((e=this.tabs)==null?void 0:e.length)<1||this.noTabs}}},ud={class:"base-page-header"},dd={class:"text-h5"},cd=["innerHTML"];function fd(e,n,t,o,l,a){return u(),C("div",ud,[q("div",dd,U(t.title),1),I(e.$slots,"hint",{},()=>[q("div",{class:"text-grey-8",innerHTML:t.hint},null,8,cd)]),t.tabs&&!t.noTabs?(u(),S(Gl,{key:0,"model-value":t.modelValue,"onUpdate:modelValue":n[0]||(n[0]=i=>e.$emit("update:model-value",i)),"active-color":"primary",class:"base-tabs",align:"left",dense:""},{default:d(()=>[t.useRoute?(u(!0),C(oe,{key:0},Pe(a.cTabs,(i,c)=>(u(),S(rd,{key:c,to:"/settings/"+i.value,label:i.label,"no-caps":""},null,8,["to","label"]))),128)):(u(!0),C(oe,{key:1},Pe(a.cTabs,(i,c)=>(u(),S(Xl,{key:c,name:i.value,label:i.label,"no-caps":""},null,8,["name","label"]))),128))]),_:1},8,["model-value"])):P("",!0),ve(s(nn,{class:re({"q-mt-sm":a.notab})},null,8,["class"]),[[it,t.useSeparator]])])}var hd=W(sd,[["render",fd]]),md=Object.freeze(Object.defineProperty({__proto__:null,default:hd},Symbol.toStringTag,{value:"Module"}));const gd={props:{noAction:Boolean}};function vd(e,n,t,o,l,a){const i=X("base-btn-dropdown");return u(),S(eo,{class:"q-px-none page-toolbar"},{default:d(()=>[s(Zn,null,{default:d(()=>[I(e.$slots,"title")]),_:3}),t.noAction?P("",!0):(u(),S(i,{key:0,size:"13px",class:"q-ml-sm",label:"Actions"},{default:d(()=>[s(tn,{class:"q-pa-sm",dense:"",style:{"min-width":"150px"}},{default:d(()=>[I(e.$slots,"actions")]),_:3})]),_:3}))]),_:3})}var pd=W(gd,[["render",vd]]),_d=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"}));const bd={props:{modelValue:{required:!0},placeholder:{required:!1,type:[String],default:"0"}},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/input/base-percentage:methods.onChange()",arguments),this.$emit("update:model-value",e)}}};function yd(e,n,t,o,l,a){const i=X("q-number");return u(),S(i,{class:"base-percentage-input",dense:"",outlined:"","model-value":t.modelValue,"onUpdate:modelValue":a.onChange,options:{decimal:".",separator:",",prefix:"",suffix:"%",precision:0,minimumFractionDigits:0,masked:!1,nullValue:""},placeholder:t.placeholder},null,8,["model-value","onUpdate:modelValue","options","placeholder"])}var wd=W(bd,[["render",yd]]),kd=Object.freeze(Object.defineProperty({__proto__:null,default:wd},Symbol.toStringTag,{value:"Module"}));const Sd={props:{modelValue:{}},emits:["update:model-value"],methods:{...ln(ui,["get"]),onChange(e){this.$emit("update:model-value",e)}}};function Cd(e,n,t,o,l,a){const i=X("base-select");return u(),S(i,{class:"base-plan-select","bg-color":"white",placeholder:e.$t("placeholder.select"),dense:"",outlined:"","model-value":t.modelValue,"filter-method":e.get,"map-options":"","use-filter":"","options-html":"","option-label":c=>`${c.label} - ${e.$core.money(c.monthly_fee)} | ${e.$core.money(c.yearly_fee)}`,"option-value":"id","onUpdate:modelValue":a.onChange},null,8,["placeholder","model-value","filter-method","option-label","onUpdate:modelValue"])}var xd=W(Sd,[["render",Cd]]),qd=Object.freeze(Object.defineProperty({__proto__:null,default:xd},Symbol.toStringTag,{value:"Module"}));const Dd={props:{modelValue:[String,Number],placeholder:{required:!1,type:[String],default:"0.00"},max:Number,min:Number,borderless:Boolean,readonly:Boolean},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/input/base-price:methods.onChange()",arguments),this.$emit("update:model-value",e)}},computed:{...rn(Bt,["currency"]),scopedSlots(){return Object.keys(this.$slots)},options(){var e,n,t,o;return{prefix:(n=(e=this.currency)==null?void 0:e.symbol)!=null?n:"$",decimal:(o=(t=this.currency)==null?void 0:t.decimal)!=null?o:".",precision:2,minimumFractionDigits:2,max:this.max,min:this.min,suffix:""}}}};function Td(e,n,t,o,l,a){const i=X("q-number");return u(),S(i,{class:"base-price-input",dense:"",readonly:t.readonly,outlined:!t.borderless,borderless:t.borderless,"model-value":t.modelValue,"onUpdate:modelValue":a.onChange,options:a.options,placeholder:t.placeholder},null,8,["readonly","outlined","borderless","model-value","onUpdate:modelValue","options","placeholder"])}var Bd=W(Dd,[["render",Td]]),Od=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"}));const Pd={props:{label:{required:!1,type:[String]},hint:{required:!1,type:[String]},noHint:{required:!1,type:[Boolean],default:!1}}},Ed={class:"label"},Md={class:"hint"};function Ad(e,n,t,o,l,a){return u(),S(El,{dense:"",class:"base-checkbox"},{default:d(()=>[I(e.$slots,"label",{},()=>[q("div",Ed,U(t.label),1)]),t.noHint?P("",!0):I(e.$slots,"hint",{key:0},()=>[q("div",Md,U(t.hint),1)])]),_:3})}var Id=W(Pd,[["render",Ad]]),Vd=Object.freeze(Object.defineProperty({__proto__:null,default:Id},Symbol.toStringTag,{value:"Module"})),ga;const $d={props:{dark:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,bodyClass:String,headClass:String,title:String,description:String,gutter:{type:String,default:(ga=Ml)!=null&&ga.xs?"md":"lg"},noRow:Boolean,dense:Boolean},computed:{hasTop(){return this.title||this.description||!!this.$slots.action||!!this.$slots.title},getBodyClass(){const e=[this.bodyClass];return this.hasTop&&e.push("q-pt-none"),this.$slots.bottom?(e.push("q-py-"+this.gutter),e.push("q-pt-"+this.gutter)):e.push("q-pa-"+this.gutter),e.join(" ")},getSectionClass(){const e=["base-section","base-section-"+this.gutter];return this.$slots.bottom&&e.push("has-bottom"),e}}},zd={class:"flex"},Fd={key:0,class:"text-h6"};function jd(e,n,t,o,l,a){return u(),S(xn,{dark:t.dark,square:t.square,flat:t.flat||t.bordered,bordered:t.bordered,class:re(a.getSectionClass)},{default:d(()=>[e.$slots.skeleton?I(e.$slots,"skeleton",{key:0}):(u(),C(oe,{key:1},[a.hasTop?(u(),S(ct,{key:0,class:re([t.headClass,"section-header"])},{default:d(()=>[q("div",zd,[I(e.$slots,"title",{},()=>[t.title?(u(),C("div",Fd,U(t.title),1)):P("",!0)]),s(sn),I(e.$slots,"action")]),t.description?(u(),S(ft,{key:0},{default:d(()=>[qe(U(t.description),1)]),_:1})):P("",!0)]),_:3},8,["class"])):P("",!0),s(ct,{class:re([a.getBodyClass,"section-body"])},{default:d(()=>[t.noRow?I(e.$slots,"default",{key:1}):(u(),C("div",{key:0,class:re(`row q-col-gutter-${t.gutter}`)},[I(e.$slots,"default")],2))]),_:3},8,["class"]),e.$slots.bottom?(u(),C(oe,{key:1},[s(nn),s(ct,{class:"section-bottom"},{default:d(()=>[I(e.$slots,"bottom")]),_:3})],64)):P("",!0)],64))]),_:3},8,["dark","square","flat","bordered","class"])}var Nd=W($d,[["render",jd]]),Ld=Object.freeze(Object.defineProperty({__proto__:null,default:Nd},Symbol.toStringTag,{value:"Module"}));const ma=e=>["add","add-unique","toggle"].includes(e),Hd=["prepend","selected","before-options","after-options","no-option"],Ud={props:{modelValue:{required:!0},filterMethod:Function,placeholder:String,cacheKey:String,mapOptions:{required:!1,type:[Boolean],default:!0},optionsDense:{required:!1,type:[Boolean],default:!0},icon:{required:!1,type:[String,Boolean],default:!1},noOptionMessage:{required:!1,type:[String],default:"No option found."},useInput:Boolean,useChips:Boolean,hideNoOption:Boolean,noAdd:Boolean,newValueMode:{type:String,validator:ma},onNewValue:Function,autoComplete:Boolean,noAutoCompleteEmit:Boolean,preventDefault:Boolean,hideDropdownIcon:Boolean,useFilter:Boolean,options:Array,optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],query:{required:!1,type:[Function],default:()=>e=>({filter:e,rowsPerPage:10,active:!0,page:1})},multiple:Boolean,useCache:Boolean,bgColor:String,inputDebounce:{type:[Number,String],default:500},debounce:{type:[Number,String],default:500},requiredQueryKeys:{type:Array,default:()=>[]}},emits:["update:model-value","new-value","complete"],data(){var e;return{localOptions:(e=this.options)!=null?e:[],filter:"",loading:!1,currentPage:0,lastPage:1}},methods:{onFilter(e,n,t){if(console.func("components/base/BaseSelect:methods.onFilter()",arguments),!this.filterMethod)return n();if(this.requiredQueryKeys.length){const o=this.query(e),l=Object.keys(o).filter(a=>this.requiredQueryKeys.includes(a)&&!o[a]);if(console.log(l),l.length)return t()}if(this.filter=e,this.hasCacheValue)return n(()=>{const{data:o,page:l}=co.getItem(this.cacheKey);this.currentPage=l;const a=e.toLowerCase();this.localOptions=o.filter(i=>i[this.optionLabel].toLowerCase().indexOf(a)>-1)});this.filterMethod(this.query(e)).then(({data:o,meta:l})=>{n(()=>{this.currentPage=l==null?void 0:l.current_page,this.lastPage=l==null?void 0:l.last_page,this.localOptions=o})}).catch(()=>{t()})},onLoadFromServer(e){if(!this.filterMethod)return!1;console.func("components/base/BaseSelect:methods.onLoadFromServer()",arguments),this.$refs.baseSelect.filter(e)},onChange(e){console.func("components/base/BaseSelect:methods.onChange()",arguments),this.$emit("update:model-value",e);const n=this.localOptions.find(t=>this.optionValue&&t[this.optionValue]===e);n&&this.$emit("complete",n)},onCreate(){console.func("components/base/BaseSelect:methods.onCreate()",arguments),this.onNewValue!==void 0?this.$emit("new-value",this.filter,this.done):this.done(this.filter),this.$refs.baseSelect.updateInputValue("",this.multiple!==!0,!0),this.$refs.baseSelect.hidePopup()},onInputValue(e){this.autoComplete&&!this.noAutoCompleteEmit&&this.$emit("update:model-value",e)},onScroll({to:e,ref:n}){if(console.func("components/base/BaseSelect:methods.onScroll()",arguments),!this.filterMethod)return!1;const t=this.localOptions.length-1;this.loading!==!0&&this.currentPage<this.lastPage&&e===t&&(this.loading=!0,this.currentPage++,this.filterMethod({...this.query(this.filter),page:this.currentPage}).then(({data:o,meta:l})=>{o.forEach(a=>{this.localOptions.push(a)}),this.$nextTick(()=>{this.currentPage=l==null?void 0:l.current_page,this.lastPage=l==null?void 0:l.last_page,n.refresh(),this.loading=!1,this.cacheKey&&this.currentPage===this.lastPage&&(Wo.set(this.cacheKey,!0,{expires:"1d",path:"/"}),co.set(this.cacheKey,{page:this.currentPage,data:this.localOptions}))})}))},clear(){console.func("components/base/BaseSelect:methods.clear()",arguments),this.$emit("update:model-value",void 0)},done(e,n){if(n){if(ma(n)!==!0)return}else n=this.newValueMode;if(e==null)return;this.$refs.baseSelect.updateInputValue("",this.multiple!==!0,!0),(n==="toggle"?this.$refs.baseSelect.toggleOption:this.$refs.baseSelect.add)(e,n==="add-unique"),this.multiple!==!0&&(this.$refs.baseSelect.focus(),this.$refs.baseSelect.hidePopup())}},computed:{scopedSlots(){return Object.keys(this.$slots).filter(e=>Hd.includes(e))},showPlaceholder(){return!this.hasValue&&!this.useChips||!this.hasValue||this.multiple&&this.modelValue.length<1},hasValue(){return this.modelValue!==void 0},hasCacheValue(){return Wo.has(this.cacheKey)&&co.has(this.cacheKey)}}},Rd={class:"text-grey-8"};function Qd(e,n,t,o,l,a){return u(),S(di,{ref:"baseSelect",class:"base-select","hide-selected":t.autoComplete,"hide-dropdown-icon":t.hideDropdownIcon||t.autoComplete,"fill-input":t.autoComplete,"model-value":t.modelValue,placeholder:t.placeholder,options:l.localOptions,bgColor:t.bgColor,useChips:t.useChips,useInput:t.useInput||t.autoComplete,multiple:t.multiple,mapOptions:t.mapOptions,inputDebounce:t.inputDebounce,debounce:t.debounce,newValueMode:t.newValueMode,optionLabel:t.optionLabel,optionValue:t.optionValue,optionsDense:t.optionsDense,loading:l.loading,"popup-content-class":"q-pa-sm base-dropdown","onUpdate:modelValue":a.onChange,onNewValue:t.onNewValue,onInputValue:a.onInputValue,onClear:a.clear,onVirtualScroll:a.onScroll,onFilter:a.onFilter},wn({"after-options":d(()=>[I(e.$slots,"after-options"),I(e.$slots,"button",{onCreate:a.onCreate},()=>[t.newValueMode&&l.filter?(u(),S(Le,{key:0,dense:"",class:"q-pa-none"},{default:d(()=>[s(se,null,{default:d(()=>[s(N,{flat:"","no-caps":"",dense:"",class:"add-button",align:"left",icon:"fad fa-plus-circle",label:e.$t("addFilter",{filter:l.filter}),onClick:a.onCreate},null,8,["label","onClick"])]),_:1})]),_:1})):P("",!0)])]),"no-option":d(()=>[I(e.$slots,"no-option",{},()=>[t.useInput?P("",!0):(u(),S(wt,{key:0,class:"q-mb-sm base-dropdown-filter","onUpdate:modelValue":[a.onLoadFromServer,n[1]||(n[1]=i=>l.filter=i)],placeholder:e.$t("placeholder.search"),dense:"",outlined:"",modelValue:l.filter,type:"text","input-debounce":"500",debounce:"500"},{prepend:d(()=>[s(ae,{size:"xs",name:"fal fa-search"})]),_:1},8,["onUpdate:modelValue","placeholder","modelValue"])),!t.hideNoOption||t.noAdd?ve((u(),S(Le,{key:1,clickable:"",class:"no-options"},{default:d(()=>[s(se,{class:"text-grey"},{default:d(()=>[qe(U(t.noOptionMessage),1)]),_:1})]),_:1})),[[nt]]):P("",!0)]),I(e.$slots,"button",{onCreate:a.onCreate},()=>[t.newValueMode&&l.filter&&!t.noAdd?(u(),S(Le,{key:0,dense:"",class:"q-pa-none"},{default:d(()=>[s(se,null,{default:d(()=>[s(N,{flat:"","no-caps":"",class:"add-button",align:"left",icon:"fad fa-plus-circle",label:e.$t("addFilter",{filter:l.filter}),onClick:a.onCreate},null,8,["label","onClick"])]),_:1})]),_:1})):P("",!0)])]),_:2},[t.icon?{name:"prepend",fn:d(()=>[s(ae,{size:"xs",name:t.icon},null,8,["name"])]),key:"0"}:void 0,!t.useInput&&a.showPlaceholder?{name:"selected",fn:d(()=>[q("div",Rd,U(t.placeholder),1)]),key:"1"}:void 0,t.useFilter?{name:"before-options",fn:d(()=>[I(e.$slots,"before-options",{},()=>[s(wt,{class:"q-mb-sm base-dropdown-filter","onUpdate:modelValue":[a.onLoadFromServer,n[0]||(n[0]=i=>l.filter=i)],placeholder:e.$t("placeholder.search"),dense:"",outlined:"",modelValue:l.filter,type:"text","input-debounce":"500",debounce:"500",autofocus:""},wn({prepend:d(()=>[s(ae,{size:"xs",name:"fal fa-search"})]),_:2},[t.newValueMode&&l.filter?{name:"append",fn:d(()=>[s(N,{icon:"control_point",size:"sm",color:"positive",flat:"",round:"",dense:"",onClick:a.onCreate},null,8,["onClick"])]),key:"0"}:void 0]),1032,["onUpdate:modelValue","placeholder","modelValue"])])]),key:"2"}:void 0,Pe(a.scopedSlots,i=>({name:i,fn:d(c=>[I(e.$slots,i,Ne(c,{props:c}))])}))]),1032,["hide-selected","hide-dropdown-icon","fill-input","model-value","placeholder","options","bgColor","useChips","useInput","multiple","mapOptions","inputDebounce","debounce","newValueMode","optionLabel","optionValue","optionsDense","loading","onUpdate:modelValue","onNewValue","onInputValue","onClear","onVirtualScroll","onFilter"])}var Yd=W(Ud,[["render",Qd]]),Wd=Object.freeze(Object.defineProperty({__proto__:null,default:Yd},Symbol.toStringTag,{value:"Module"}));const Kd={props:{icon:String,label:String}};function Xd(e,n,t,o,l,a){return u(),S(N,{class:"base-icon-label",ripple:!1,dense:"",flat:"",color:"primary",icon:t.icon,label:t.label,"no-caps":""},null,8,["icon","label"])}var Gd=W(Kd,[["render",Xd]]),Jd=Object.freeze(Object.defineProperty({__proto__:null,default:Gd},Symbol.toStringTag,{value:"Module"}));const Zd={props:{value:[String,Number],label:String,color:String,left:Boolean}},ec={key:0,class:"q-ml-xs"};function tc(e,n,t,o,l,a){return u(),S(Le,null,{default:d(()=>[s(se,{style:{"min-width":"auto"},avatar:""},{default:d(()=>[s(ae,{color:t.color,size:"10px",name:"fas fa-square"},null,8,["color"])]),_:1}),s(se,null,{default:d(()=>[s(ft,{class:"text-left"},{default:d(()=>[qe(U(t.label)+" ",1),t.left?P("",!0):(u(),C("span",ec,"("+U(t.value)+")",1))]),_:1})]),_:1}),t.left?(u(),S(se,{key:0,side:""},{default:d(()=>[s(ft,null,{default:d(()=>[qe(U(t.value),1)]),_:1})]),_:1})):P("",!0)]),_:1})}var nc=W(Zd,[["render",tc]]),oc=Object.freeze(Object.defineProperty({__proto__:null,default:nc},Symbol.toStringTag,{value:"Module"}));const{getPaletteColor:Xt,changeAlpha:ac}=Ea,lc={props:{type:{required:!0,type:String},multiple:Boolean},data(){return{changeAlpha:ac}},computed:{color(){let e=Xt("grey");switch(this.status){case"Active":case"Enabled":case"Online":case"Returned":case"Completed":case"Resolved":case"Paid":e=Xt("positive");break;case"Ongoing":case"Partially received":case"Past due":e=Xt("teal-3");break;case"Draft":e=Xt("grey");break;case"Pending":case"In progress":case"Scheduled":case"Trialing":e=Xt("warning");break;case"Rejected":case"Cancelled":case"Incomplete":case"Failed":case"Disable":case"Disabled":case"Expired":case"Deactive":e=Xt("negative");break}return e},icon(){let e="fas fa-circle";switch(this.status){case"Active":case"Enabled":case"Online":case"Completed":e="fas fa-check-circle";break;case"Partially received":case"Past due":e="fas fa-sort-circle-down";break;case"Paid":e="fas fa-usd-circle";break;case"Draft":e="fas fa-draw-circle";break;case"Pending":case"Scheduled":case"Trialing":case"Open":e="fas fa-dot-circle";break;case"Rejected":case"Cancelled":case"Incomplete":case"Failed":case"Disable":case"Disabled":case"Expired":e="fas fa-exclamation-circle";break}return e},status(){var e;return this.$core.capitalize((e=this.type)==null?void 0:e.replaceAll("_"," "))}}};function ic(e,n,t,o,l,a){return u(),S(ci,{dense:"",class:re({"base-status status":!0,multiple:t.multiple}),style:yt({background:l.changeAlpha(a.color,.3)}),size:"12px",ripple:!1},{default:d(()=>[s(ae,{style:yt({color:l.changeAlpha(a.color,.99)}),name:a.icon},null,8,["style","name"]),qe(" "+U(a.status),1)]),_:1},8,["class","style"])}var rc=W(lc,[["render",ic]]),sc=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"}));const uc={props:{rowNumners:{type:Number,default:10,required:!1},hideTop:{type:Boolean,default:!1,required:!1}}},dc={key:0,class:"row q-col-gutter-md"},cc={class:"col-sm-8 col-xs-12"},fc={class:"gt-xs col-sm-4 col-xs-12"},hc={key:0},mc={class:"text-left",style:{width:"150px"}},gc={class:"text-right"},vc={class:"text-right"},pc={class:"text-right"},_c={class:"text-right"},bc=q("th",{class:"text-right"},null,-1),yc={class:"text-right"},wc={class:"text-left"},kc={class:"text-right"},Sc={class:"text-right"},Cc={class:"text-right"},xc={class:"text-right"},qc={class:"text-right"};function Dc(e,n,t,o,l,a){return u(),C("div",null,[t.hideTop?P("",!0):(u(),C("div",dc,[q("div",cc,[s(He,{height:"39px",type:"QBtn",width:e.$q.screen.gt.sm?"250px":"100%"},null,8,["width"])]),q("div",fc,[s(He,{height:"39px",width:"150px",class:"float-right",type:"QBtn"})])])),s(hi,{square:"",flat:"",class:re({"q-mt-lg":!t.hideTop})},{default:d(()=>[e.$q.screen.gt.sm?(u(),C("thead",hc,[q("tr",null,[q("th",mc,[s(He,{animation:"blink",type:"text"})]),q("th",gc,[s(He,{animation:"blink",type:"text"})]),q("th",vc,[s(He,{animation:"blink",type:"text"})]),q("th",pc,[s(He,{animation:"blink",type:"text"})]),q("th",_c,[s(He,{animation:"blink",type:"text"})]),bc])])):P("",!0),q("tbody",null,[(u(!0),C(oe,null,Pe(t.rowNumners,i=>(u(),C("tr",{key:i},[e.$q.screen.lt.md?(u(),C(oe,{key:0},[q("td",null,[s(He,{animation:"blink",type:"text",width:"80%"}),s(He,{animation:"blink",type:"text",width:"100%"}),s(He,{animation:"blink",type:"text",width:"60%"})]),q("td",yc,[s(ae,{name:"fal fa-ellipsis-h",color:"grey-4",class:"q-mr-sm",size:"sm"})])],64)):(u(),C(oe,{key:1},[q("td",wc,[s(He,{animation:"blink",type:"text",width:"85px"})]),q("td",kc,[s(He,{animation:"blink",type:"text",width:"50px"})]),q("td",Sc,[s(He,{animation:"blink",type:"text",width:"35px"})]),q("td",Cc,[s(He,{animation:"blink",type:"text",width:"65px"})]),q("td",xc,[s(He,{animation:"blink",type:"text",width:"25px"})]),q("td",qc,[s(ae,{name:"fal fa-ellipsis-h",color:"grey-4",class:"q-mr-sm",size:"sm"})])],64))]))),128))])]),_:1},8,["class"])])}var Tc=W(uc,[["render",Dc]]);const Bc={props:{onAction:Function,hasPermission:Function,canDelete:Boolean,canRestore:Boolean,responsive:Boolean,toolbarItems:Array,pagination:Object},methods:{getToolbarLabel(e){return this.responsive&&e.tooltip?e.tooltip:e.label}},computed:{hasToolbarItems(){return this.toolbarItems.length>0}}},Oc={key:0,class:"toolbar-item"},Pc={class:"dialog-items q-gutter-y-md"},Ec=["width"],Mc={key:0,class:"toolbar-item"},Ac={key:1,class:"toolbar-item"},Ic=["width"];function Vc(e,n,t,o,l,a){const i=X("base-btn"),c=X("base-tooltip");return u(),C("div",{class:re({"top-right-inner":!0,"q-gutter-sm":!t.responsive,"responsive q-gutter-x-sm":t.responsive})},[t.responsive?(u(),C(oe,{key:0},[a.hasToolbarItems?(u(),C("div",Oc,[s(i,{onClick:n[0]||(n[0]=h=>e.$refs.dialog.show()),color:"grey-4",class:"text-black",icon:"fad fa-filter-list"},{default:d(()=>[s(qa,{persistent:"",ref:"dialog",position:"bottom"},{default:d(()=>[s(xn,{class:"full-width",square:""},{default:d(()=>[s(eo,{class:"bg-grey-3"},{default:d(()=>[s(Zn,{class:"text-subtitle2"},{default:d(()=>[qe(" Filters ")]),_:1}),ve(s(N,{flat:"",round:"",dense:"",size:"sm",icon:"fal fa-times"},null,512),[[nt]])]),_:1}),s(ct,{style:{"max-height":"50vh"},class:"scroll"},{default:d(()=>[q("div",Pc,[(u(!0),C(oe,null,Pe(t.toolbarItems,(h,g)=>ve((u(),C("div",{key:g,class:"toolbar-item",width:h.width},[h.component?(u(),S(qo(h.component),Ne({key:0,"model-value":t.pagination[h.key],"onUpdate:modelValue":_=>t.onAction(h,_)},h,{label:a.getToolbarLabel(h)}),null,16,["model-value","onUpdate:modelValue","label"])):ve((u(),S(N,Ne({key:1,onClick:_=>t.onAction(h)},h,{label:a.getToolbarLabel(h),"no-caps":""}),null,16,["onClick","label"])),[[nt]])],8,Ec)),[[it,t.hasPermission(h)]])),128))])]),_:1})]),_:1})]),_:1},512)]),_:1})])):P("",!0)],64)):(u(),C(oe,{key:1},[t.canDelete?(u(),C("div",Mc,[s(N,{disable:!t.hasPermission({permission:"Delete"}),icon:"fas fa-trash-alt",color:"negative",flat:"",onClick:n[1]||(n[1]=h=>t.onAction({action:"delete"})),class:"toolbar",label:e.$t("delete"),"no-caps":""},null,8,["disable","label"])])):t.canRestore?(u(),C("div",Ac,[s(N,{disable:!t.hasPermission({permission:"Delete"}),icon:"fas fa-trash-undo",color:"primary",flat:"",onClick:n[2]||(n[2]=h=>t.onAction({action:"restore"})),class:"toolbar",label:e.$t("restore"),"no-caps":""},null,8,["disable","label"])])):P("",!0),(u(!0),C(oe,null,Pe(t.toolbarItems,(h,g)=>ve((u(),C("div",{key:g,class:"toolbar-item",width:h.width},[h.component?(u(),S(qo(h.component),Ne({key:0,"model-value":t.pagination[h.key],"onUpdate:modelValue":_=>t.onAction(h,_)},h,{label:a.getToolbarLabel(h)}),{default:d(()=>[h.tooltip&&!t.responsive?(u(),S(c,{key:0,position:"top"},{default:d(()=>[qe(U(h.tooltip),1)]),_:2},1024)):P("",!0)]),_:2},1040,["model-value","onUpdate:modelValue","label"])):(u(),S(N,Ne({key:1,onClick:_=>t.onAction(h)},h,{label:a.getToolbarLabel(h),"no-caps":""}),{default:d(()=>[h.tooltip&&!t.responsive?(u(),S(c,{key:0,position:"top"},{default:d(()=>[qe(U(h.tooltip),1)]),_:2},1024)):P("",!0)]),_:2},1040,["onClick","label"]))],8,Ic)),[[it,t.hasPermission(h)]])),128))],64)),I(e.$slots,"top-right-after")],2)}var $c=W(Bc,[["render",Vc]]);const zc=(e,n,t)=>typeof e[t]=="function"?e[t](n.row):e[t],Fc=(e,n)=>typeof e.method=="function"?e.method:n?n.get:!1,jc=["advanced-filter","pre-loader","header-selection","body-selection","body-cell-actions","body","bottom","bottom-row","item","item-selection","top","top-left","top-right","top-bottom"],Nc={components:{TableSkeleton:Tc,TableToolbar:$c},data(){return{syncPagination:Ve.exports.cloneDeep(this.pagination),getValue:zc,innerLoading:void 0}},props:{store:{required:!1},module:{required:!1,type:Object},columns:{required:!0,type:Array,default:()=>[]},rows:{required:!0,type:Array,default:()=>[]},onRequest:{type:Function,default:()=>{}},onRowClicked:Function,toolbar:{required:!1,type:Array,default:()=>[]},actions:{required:!1,type:Array,default:()=>[]},filters:{required:!1,type:Array,default:()=>[]},pagination:{required:!1,type:Object,default:()=>({loaded:!1})},grid:Boolean,hidePagination:Boolean,hideItemLabel:Boolean,noActions:Boolean,noTrash:Boolean,rowsPerPageOptions:{required:!1,type:Array,default:()=>[15,30,50]},filter:{required:!1,type:Boolean,default:()=>!0},bordered:Boolean,flat:{required:!1,type:Boolean,default:()=>!0},hideHeader:Boolean,hideTop:Boolean,noPermissions:Boolean,loading:Boolean,loaded:Boolean,preventDefault:Boolean,selection:{required:!1,description:"Available options: single, multiple and none",type:String,default:"none"},selected:{type:Array,default:()=>[]},quickSearchPlaceholder:{required:!1,type:String,default:"placeholder.quickSearch"},filterTitle:{required:!1,type:String,default:"Filters"},filterIcon:{required:!1,type:String,default:"fal fa-filter"},relatedDeleteMessage:{required:!1,type:[String,Boolean],default:"Please note that once you permanently delete :type :module, any related(s) where they have added to will lose them too."},noDataLabel:{type:String,default:void 0},cardClass:{type:String,default:void 0},topRightWidth:{required:!1,type:Number,default:9,description:"max value 12 and min value 1",validator(e){return e<=12||e>=1}},visibleColumns:Array,hasActions:Boolean,tableKey:String,noResponsive:Boolean},watch:{pagination:{deep:!0,handler(e){this.syncPagination=Ve.exports.cloneDeep(e),this.tableKey&&this.$core.setPagination(this.tableKey,Ve.exports.cloneDeep(e))}}},methods:{onUpdateSelected(e){console.func("components/base/BaseTable:methods.onUpdateSelected()",arguments),this.$emit("update:selected",e)},onUpdatePagination(e){console.func("components/base/BaseTable:methods.onUpdatePagination()",arguments),this.$emit("update:pagination",e)},async onActionClicked(e,n){if(console.func("components/base/BaseTable:methods.onActionClicked()",arguments),this.$emit("action-clicked",e.action,n.row),this.preventDefault)return!1;switch(this.innerLoading=n.key,e.action){case"delete":this.hasStore(),await this.$core.confirm(this.$t("dialog.info.delete",{module:this.$t(this.module.singular)})).then(()=>{this.store.delete(n.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})}).catch(()=>{});break;case"restore":this.hasStore(),await this.$core.confirm(this.$t("dialog.info.restore",{module:this.$t(this.module.singular)})).then(()=>{this.store.restore(n.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})}).catch(()=>{});break;case"force-delete":this.hasStore(),await this.$core.confirm(this.$t("dialog.info.forceDelete",{module:this.$t(this.module.singular)}),{subTitle:this.relatedDeleteMessage.replace(/:type/g,"this").replace(/:module/g,this.module.singular)}).then(()=>{this.store.forceDelete(n.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})}).catch(()=>{});break;case"route":await this.$router.push({name:e.route,params:e.params?e.params(n.row):{},query:e.query?e.query(n.row):{}});break;default:typeof e.action=="function"&&await e.action(n.row).catch(()=>{});break}this.innerLoading=void 0},async onToolbarClicked(e,n){if(console.func("components/base/BaseTable:methods.onToolbarClicked()",arguments),e.key&&(this.syncPagination[e.key]=n),this.$emit("toolbar-clicked",e,n),this.preventDefault)return!1;switch(e.action){case"delete":this.hasStore(),this.$core.confirm(this.$t("dialog.info.deleteSelected",{module:this.$t(this.module.plural)})).then(()=>{this.store.deleteSelected(Ve.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})});break;case"restore":this.hasStore(),this.$core.confirm(this.$t("dialog.info.restoreSelected",{module:this.$t(this.module.plural)})).then(()=>{this.store.restoreSelected(Ve.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})});break;case"force-delete":this.hasStore(),this.$core.confirm(this.$t("dialog.info.forceDeleteSelected",{module:this.$t(this.module.plural)}),{subTitle:this.relatedDeleteMessage.replace(/:type/g,"selected").replace(/:module/g,this.module.plural)}).then(()=>{this.store.forceDeleteSelected(Ve.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:this.$t("dialog.title.error")})})});break;case"export":this.setExporting(!0),await this.$core.exportTable({params:{...this.syncPagination,rowsPerPage:this.syncPagination.rowsPerPage*25,export:!0},data:this.rows,columns:this.columns.filter(t=>!["actions"].includes(t.name)),action:Fc(e,this.store),name:`table_${e.name||this.module.plural}`,type:e.type}),this.setExporting(!1);break;case"route":this.$router.push({name:e.route,params:e.params,query:e.query});break;case"filter":this.$refs.filter.show();break;case"request":this.sendServerRequest();break;default:typeof e.action=="function"&&e.action({...e,pagination:this.syncPagination,columns:this.columns,rows:this.rows});break}},sendServerRequest(){this.$emit("update:selected",[]),this.onRequest({pagination:this.syncPagination})},showFilter(){console.func("components/base/BaseTable:methods.showFilter()",arguments),this.$refs.filter.show()},hasPermission(e,n=!1){return this.noPermissions?!0:e.module?this.$app.hasModulePermission(e.module,e.permission):e.condition&&e.permission&&n?this.permissions.includes(e.permission)&&e.condition({...n.row,pagination:this.syncPagination},this.permissions):e.condition&&!e.permission&&n?e.condition({...n.row,pagination:this.syncPagination},this.permissions):this.permissions.includes(e.permission)||!e.permission},hasStore(){if(!this.store)return!1},canVisiable(e){return this.visibleColumns&&this.visibleColumns.length?this.visibleColumns.includes(e):this.columns.filter(n=>n.name===e).length>0},setExporting(e=!0){this.store&&this.store.setExporting(e)}},computed:{responsive(){return!this.noResponsive&&this.$q.screen.lt.md},hasFilter(){return this.filters.length},actionItems(){const e=this.syncPagination.deleted;return(this.actions||[]).filter(({deleted:n})=>n===e||n==="all")},hasActionItems(){return this.hasActions?!0:this.actionItems.filter(e=>this.hasPermission(e)).length>0},toolbarItems(){const e=this.syncPagination.deleted;return(this.toolbar||[]).filter(({deleted:n})=>n===e||n==="all")},permissions(){return this.module?this.$app.getPermissions(this.module.name):[]},tableSlots(){return Object.keys(this.$slots).concat(this.columns.map(e=>"body-cell-"+e.name)).filter(e=>!jc.includes(e))},tableHeaderSlots(){return this.tableSlots.filter(e=>e.startsWith("header-cell"))},tableBodySlots(){return this.tableSlots.filter(e=>e.startsWith("body-cell"))},tableOtherSlots(){return this.tableSlots.filter(e=>/^(?!header-cell)(?!body-cell).*/.test(e))},topLeftWidth(){return 12-this.topRightWidth||12},canDelete(){return!this.syncPagination.deleted&&this.selected.length>0},canRestore(){return this.syncPagination.deleted&&this.selected.length>0}},mounted(){this.tableKey&&this.$core.getPagination(this.tableKey)&&(this.syncPagination=this.$core.getPagination(this.tableKey,this.pagination)),this.sendServerRequest()}},Lc={class:"base-table"},Hc={class:"absolute-top bg-grey-3 filter-title"},Uc={class:"col"},Rc={class:"row q-col-gutter-md"},Qc=["innerHTML"],Yc=["innerHTML"],Wc={key:0,class:"q-table__grid-item-title"},Kc=["innerHTML"],Xc={class:"full-width row"},Gc={class:"col"};function Jc(e,n,t,o,l,a){const i=X("base-label"),c=X("table-toolbar"),h=X("base-item"),g=X("base-no-records"),_=X("table-skeleton");return u(),C("div",Lc,[a.hasFilter?(u(),S(fi,{key:0,side:"right",ref:"filter",bordered:"",width:280,breakpoint:500,class:"base-table-filter"},{default:d(()=>[q("div",Hc,[s(eo,{light:""},{default:d(()=>[s(Zn,{class:"q-ml-xs text-subtitle2"},{default:d(()=>[qe(U(t.filterTitle),1)]),_:1}),s(N,{icon:"close",size:"sm",flat:"",round:"",dense:"",onClick:n[0]||(n[0]=m=>e.$refs.filter.hide())})]),_:1}),s(nn)]),s(xn,{class:"bg-transparent",flat:"",square:""},{default:d(()=>[s(ct,{class:"row q-col-gutter-md"},{default:d(()=>[I(e.$slots,"advanced-filter",{syncPagination:l.syncPagination},()=>[(u(!0),C(oe,null,Pe(t.filters,(m,b)=>(u(),C("div",{key:b,class:"col-12 filter-item"},[m.title?(u(),S(i,{key:0},{default:d(()=>[qe(U(m.title),1)]),_:2},1024)):P("",!0),(u(),S(qo(m.component),Ne({modelValue:l.syncPagination[m.key],"onUpdate:modelValue":[M=>l.syncPagination[m.key]=M,a.sendServerRequest]},m),null,16,["modelValue","onUpdate:modelValue"]))]))),128))])]),_:3})]),_:3})]),_:3},512)):P("",!0),l.syncPagination.loaded||t.loaded?(u(),S(oi,{key:1,class:re({"main-table":!0,"last-column-sticky":a.hasActionItems}),square:"",rows:t.rows,columns:t.columns,bordered:t.bordered,grid:t.grid||a.responsive,"hide-header":t.hideHeader||a.responsive,flat:t.flat,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:l.syncPagination.filter,pagination:l.syncPagination,"onUpdate:pagination":n[5]||(n[5]=m=>l.syncPagination=m),loading:t.loading,selection:t.selection,selected:t.selected,"onUpdate:selected":a.onUpdateSelected,onRequest:t.onRequest,onRowClick:t.onRowClicked,"no-data-label":t.noDataLabel,"visible-columns":t.visibleColumns},wn({"header-selection":d(m=>[I(e.$slots,"header-selection",ut(dt(m)),()=>[s(_t,{dense:"",size:"sm",modelValue:m.selected,"onUpdate:modelValue":b=>m.selected=b},null,8,["modelValue","onUpdate:modelValue"])])]),"body-selection":d(m=>[I(e.$slots,"body-selection",ut(dt(m)),()=>[s(_t,{dense:"",size:"sm",modelValue:m.selected,"onUpdate:modelValue":b=>m.selected=b},null,8,["modelValue","onUpdate:modelValue"])])]),"body-cell-actions":d(m=>[s(ea,{props:m},{default:d(()=>[I(e.$slots,"actions",ut(dt(m)),()=>[ve(s(N,{round:"",flat:"",dense:"",icon:"fal fa-ellipsis-h",onClick:n[3]||(n[3]=lt(()=>{},["stop"])),loading:m.key===l.innerLoading},{default:d(()=>[s(Bo,{dense:"",anchor:"bottom end",self:"top end"},{default:d(()=>[s(tn,{class:"q-pa-sm actions",dense:"",style:{"min-width":"100px"}},{default:d(()=>[(u(!0),C(oe,null,Pe(a.actionItems,(b,M)=>ve((u(),S(h,{key:M,onClick:z=>a.onActionClicked(b,m),icon:l.getValue(b,m,"icon"),label:l.getValue(b,m,"label")},null,8,["onClick","icon","label"])),[[it,a.hasPermission(b,m)]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["loading"]),[[it,!m.row.disable&&a.hasActionItems]])])]),_:2},1032,["props"])]),item:d(m=>[I(e.$slots,"item",Ne(m,{permissions:a.permissions,actions:a.actionItems,onActionClicked:a.onActionClicked,hasPermission:a.hasPermission}),()=>[q("div",{class:re([t.cardClass,"col-xs-12 col-sm-12"])},[s(Le,{class:re({"body-item":!0,"bg-green-2":m.selected,"bg-white":!m.selected}),onClick:lt(b=>e.$emit("row-clicked",b,m.row),["stop"]),clickable:""},{default:d(()=>[["single","multiple"].includes(t.selection)?(u(),S(se,{key:0,avatar:"",class:"body-selection"},{default:d(()=>[I(e.$slots,"body-selection",ut(dt(m)),()=>[s(_t,{dense:"",size:"sm",modelValue:m.selected,"onUpdate:modelValue":b=>m.selected=b},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)):P("",!0),I(e.$slots,"item-section",{props:m,permissions:a.permissions,actions:a.actionItems,onActionClicked:a.onActionClicked,hasPermission:a.hasPermission},()=>[s(se,null,{default:d(()=>[I(e.$slots,"section-body",ut(dt(m)),()=>[(u(!0),C(oe,null,Pe(m.cols.filter(b=>!["actions"].includes(b.name)&&a.canVisiable(b.name)),(b,M)=>(u(),S(ft,{class:"q-mb-xs",tabindex:M,key:b.name},{default:d(()=>[t.hideItemLabel?P("",!0):(u(),C("div",Wc,U(b.label),1)),I(e.$slots,`body-cell-${b.name}`,Ne(m,{col:b,value:b.value}),()=>[q("span",{innerHTML:b.value},null,8,Kc)])]),_:2},1032,["tabindex"]))),128))])]),_:2},1024)]),a.canVisiable("actions")&&a.hasActionItems?(u(),S(se,{key:1,side:""},{default:d(()=>[I(e.$slots,"actions",ut(dt(m)),()=>[ve(s(N,{round:"",flat:"",dense:"",icon:"fal fa-ellipsis-h",onClick:n[4]||(n[4]=lt(()=>{},["stop"])),loading:m.key===l.innerLoading},{default:d(()=>[s(Bo,{dense:"",anchor:"bottom end",self:"top end"},{default:d(()=>[s(tn,{class:"q-pa-sm actions",dense:"",style:{"min-width":"100px"}},{default:d(()=>[(u(!0),C(oe,null,Pe(a.actionItems,(b,M)=>ve((u(),S(h,{key:M,onClick:z=>a.onActionClicked(b,m),icon:l.getValue(b,m,"icon"),label:l.getValue(b,m,"label")},null,8,["onClick","icon","label"])),[[it,a.hasPermission(b,m)]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1032,["loading"]),[[it,!m.row.disable]])])]),_:2},1024)):P("",!0)]),_:2},1032,["class","onClick"]),s(nn)],2)])]),"bottom-row":d(m=>[I(e.$slots,"bottom-row",ut(dt(m)))]),"no-data":d(m=>[q("div",Xc,[q("div",Gc,[I(e.$slots,"no-data",ut(dt(m)),()=>[s(g,{icon:"fad fa-triangle-exclamation",message:m.message,height:"300px","icon-size":"75px"},null,8,["message"])])])])]),_:2},[t.hideTop?void 0:{name:"top",fn:d(m=>[I(e.$slots,"top",Ne(m,{permissions:a.permissions,selected:t.selected,toolbar:a.toolbarItems,onToolbarClicked:a.onToolbarClicked}),()=>[q("div",Uc,[q("div",Rc,[q("div",{class:re(`top-left col-sm-${a.topLeftWidth} col-xs-9`)},[I(e.$slots,"top-left",Ne(m,{permissions:a.permissions,selected:t.selected,toolbar:a.toolbarItems}),()=>[s(wt,{modelValue:l.syncPagination.filter,"onUpdate:modelValue":n[1]||(n[1]=b=>l.syncPagination.filter=b),outlined:"",clearable:"",placeholder:e.$t(t.quickSearchPlaceholder),debounce:"1000",dense:""},{append:d(()=>[l.syncPagination.filter?P("",!0):(u(),S(ae,{key:0,name:"fas fa-search",size:"16px"}))]),_:1},8,["modelValue","placeholder"])])],2),q("div",{class:re(`top-right col-sm-${t.topRightWidth} col-xs-3 text-right`),onClick:n[2]||(n[2]=lt(()=>{},["stop"]))},[I(e.$slots,"top-right",Ne(m,{permissions:a.permissions,selected:t.selected,toolbar:a.toolbarItems}),()=>[s(c,{"can-delete":a.canDelete,"can-restore":a.canRestore,"toolbar-items":a.toolbarItems,pagination:l.syncPagination,responsive:a.responsive,"has-permission":a.hasPermission,onAction:a.onToolbarClicked},{"top-right-after":d(()=>[I(e.$slots,"top-right-after")]),_:3},8,["can-delete","can-restore","toolbar-items","pagination","responsive","has-permission","onAction"])])],2)]),I(e.$slots,"top-bottom")])])]),key:"0"},e.$slots.body?{name:"body",fn:d(m=>[I(e.$slots,"body",ut(dt(m)))]),key:"1"}:void 0,Pe(a.tableHeaderSlots,m=>({name:m,fn:d(b=>[s(ni,{props:b},{default:d(()=>[I(e.$slots,m,Ne(b,{permissions:a.permissions,actions:a.actionItems,onActionClicked:a.onActionClicked}),()=>[q("span",{innerHTML:b.value},null,8,Qc)])]),_:2},1032,["props"])])})),Pe(a.tableBodySlots,m=>({name:m,fn:d(b=>[s(ea,{props:b},{default:d(()=>[I(e.$slots,m,Ne(b,{permissions:a.permissions,actions:a.actionItems,onActionClicked:a.onActionClicked}),()=>[q("span",{innerHTML:b.value},null,8,Yc)])]),_:2},1032,["props"])])})),Pe(a.tableOtherSlots,m=>({name:m,fn:d(b=>[I(e.$slots,m,Ne(b,{permissions:a.permissions,actions:a.actionItems,onActionClicked:a.onActionClicked}))])})),e.$slots.bottom?{name:"bottom",fn:d(m=>[I(e.$slots,"bottom",ut(dt(m)))]),key:"2"}:void 0]),1032,["class","rows","columns","bordered","grid","hide-header","flat","hide-pagination","rows-per-page-options","filter","pagination","loading","selection","selected","onUpdate:selected","onRequest","onRowClick","no-data-label","visible-columns"])):I(e.$slots,"pre-loader",{key:2},()=>[s(_,{"hide-top":t.hideTop,"row-numners":8},null,8,["hide-top"])])])}var Zc=W(Nc,[["render",Jc]]),ef=Object.freeze(Object.defineProperty({__proto__:null,default:Zc},Symbol.toStringTag,{value:"Module"}));const Fn={status:null,message:null,media:[]},tf={components:{TaskStatus:Pa},props:{id:[String,Number],avatar:{type:[Boolean,String],required:!1,default:!1},user:{type:[Boolean,Object],required:!1,default:!1},icon:{type:[Boolean,String],required:!1,default:!1},archived:Boolean,creating:Boolean,isAdmin:Boolean,message:String,created_at:String,media:Array,moduleId:[String,Number]},data(){return{loading:!1,note:Ve.exports.cloneDeep(Fn),default:Ve.exports.cloneDeep(Fn)}},emits:["create","update:archived"],methods:{...ln(mi,["reply"]),onSubmit(){console.func("components/base/BaseNoteCard:methods.onSubmit()",arguments),this.loading=!0,this.reply({...this.$props,...this.note}).then(({data:e,message:n})=>{this.note=Ve.exports.cloneDeep(Fn),this.default=Ve.exports.cloneDeep(Fn),this.$q.notify(n),this.$emit("create",e),this.loading=!1}).catch(e=>{this.loading=!1,this.$core.error(e,{title:this.$t("dialog.title.error")})})},onChangeArchived(e){console.func("components/base/BaseNoteCard:methods.onChangeArchived()",arguments),this.$emit("update:archived",e)},onAttachFile(){console.func("components/base/BaseTaskReplyCard:methods.onAttachFile()",arguments),this.$q.dialog({component:ol,componentProps:{title:this.$t("attachFile"),multiple:!0}}).onOk(e=>{console.func("components/base/BaseTaskReplyCard:methods.onAttachFile.onOk()",e),this.note.media=e})}},computed:{...rn(Bt,{current:"user"}),currentUser(){return this.creating?this.current:this.user},color(){return this.$parent.color||"primary"},title(){return this.user?this.user.name:""},hasUser(){return Boolean(this.user)},has_icon(){return this.icon||this.avatar||this.user||this.creating},disable(){return JSON.stringify(this.note)===JSON.stringify(this.default)},getMessage(){return this.message?this.message.replace(/\r?\n/g,"<br/>"):this.message},getMedia(){return this.media||this.note.media}}},nf={key:0,class:"q-timeline__subtitle"},of={key:0,class:"q-ml-sm text-grey-8 text-weight-medium"},af=["src"],lf={class:"q-timeline__content"},rf=["innerHTML"],sf={key:0,class:"q-ml-sm text-grey-8"},uf={key:2,class:"q-pt-sm files"},df={class:"row q-col-gutter-sm"},cf={key:3,class:"actions-buttons flex q-gutter-sm items-center"};function ff(e,n,t,o,l,a){const i=X("base-avatar"),c=X("base-media-card"),h=X("task-status"),g=X("base-btn");return u(),C("li",{class:re({"q-timeline__entry base-task-reply-card":!0,"q-timeline__entry--right":!0,"q-timeline__entry--icon":a.has_icon})},[!t.creating&&a.hasUser?(u(),C("div",nf,[q("span",null,U(a.title),1),t.created_at?(u(),C("span",of,U(t.created_at),1)):P("",!0)])):P("",!0),q("div",{class:re(`q-timeline__dot text-${a.color}`)},[t.avatar?(u(),C("img",{key:0,class:"q-timeline__dot-img",src:t.avatar},null,8,af)):t.icon?(u(),S(ae,{key:1,name:t.icon},null,8,["name"])):a.currentUser?(u(),S(i,{key:2,class:"q-timeline__dot-img",tooltip:!1,size:"30px",user:a.currentUser},null,8,["user"])):P("",!0)],2),q("div",lf,[t.creating?(u(),S(wt,{key:0,class:"note-editor q-mb-sm",placeholder:e.$t("placeholder.leaveReply"),outlined:"",modelValue:l.note.message,"onUpdate:modelValue":n[0]||(n[0]=_=>l.note.message=_),type:"textarea",autogrow:""},null,8,["placeholder","modelValue"])):(u(),S(Le,{key:1,style:{"min-height":"auto"},dense:"",class:"q-pa-none"},{default:d(()=>[s(se,null,{default:d(()=>[s(ft,null,{default:d(()=>[q("div",{innerHTML:a.getMessage},null,8,rf)]),_:1})]),_:1}),a.hasUser?P("",!0):(u(),S(se,{key:0,side:""},{default:d(()=>[t.created_at?(u(),C("span",sf,U(t.created_at),1)):P("",!0)]),_:1}))]),_:1})),a.getMedia.length?(u(),C("div",uf,[q("div",df,[(u(!0),C(oe,null,Pe(a.getMedia,(_,m)=>(u(),C("div",{key:_.id,class:"col-sm-2 col-xs-12"},[s(c,{creating:t.creating,media:_,onRemove:b=>l.note.media.splice(m,1)},null,8,["creating","media","onRemove"])]))),128))])])):P("",!0),t.creating?(u(),C("div",cf,[e.$q.screen.gt.xs?(u(),S(sn,{key:0})):P("",!0),s(_t,{"model-value":t.archived,"onUpdate:modelValue":a.onChangeArchived,label:e.$t("archived"),dense:""},null,8,["model-value","onUpdate:modelValue","label"]),t.isAdmin?(u(),S(h,{key:1,modelValue:l.note.status,"onUpdate:modelValue":n[1]||(n[1]=_=>l.note.status=_),prefix:e.$t("prefix.status")},null,8,["modelValue","prefix"])):P("",!0),s(g,{class:"main-btn",color:"grey-5",icon:"far fa-paperclip",label:e.$t("attachFile"),onClick:a.onAttachFile},null,8,["label","onClick"]),s(g,{loading:l.loading,class:"main-btn",color:"primary",label:e.$t("reply"),icon:"fas fa-paper-plane",onClick:a.onSubmit,disable:a.disable},null,8,["loading","label","onClick","disable"])])):P("",!0)])],2)}var hf=W(tf,[["render",ff],["__scopeId","data-v-c19f14b8"]]),mf=Object.freeze(Object.defineProperty({__proto__:null,default:hf},Symbol.toStringTag,{value:"Module"}));const gf={props:{media:Object,size:{type:[Number,String],default:50},square:Boolean,rounded:{type:[Boolean],default:!0},flat:Boolean,fullWidth:Boolean,padding:{type:Number,default:0}},data(){return{maxWidth:this.size}},computed:{width(){return this.fullWidth?this.maxWidth-this.padding:this.size}},mounted(){window.addEventListener("resize",this.updateParentWidth),this.$nextTick(()=>{this.maxWidth=this.$el.parentElement.offsetWidth})},beforeUnmount(){window.removeEventListener("resize",this.updateParentWidth)},methods:{updateParentWidth(){this.maxWidth=this.$el.parentElement.offsetWidth}}};function vf(e,n,t,o,l,a){return u(),S(va,{rounded:!t.square,square:t.square,size:`${a.width}px`,"font-size":`${a.width/2}px`,class:re({"base-thumbnail":!0,flat:t.flat})},{default:d(()=>[t.media?(u(),C(oe,{key:0},[t.media.is_image?(u(),S(Qn,{key:0,loading:"lazy",src:t.media.url,contain:""},{loading:d(()=>[s(Zt,{color:"white"})]),_:1},8,["src"])):t.media.icon?(u(),S(ae,{key:1,name:`fad fa-file-${t.media.icon}`},null,8,["name"])):(u(),S(ae,{key:2,name:"fad fa-image"}))],64)):(u(),S(ae,{key:1,name:"fad fa-image"})),I(e.$slots,"default",{},void 0,!0)]),_:3},8,["rounded","square","size","font-size","class"])}var pf=W(gf,[["render",vf],["__scopeId","data-v-127f850e"]]),_f=Object.freeze(Object.defineProperty({__proto__:null,default:pf},Symbol.toStringTag,{value:"Module"}));function bf(e,n){if(e.hour!==null){if(e.minute===null)return"minute";if(n===!0&&e.second===null)return"second"}return"hour"}function yf(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var wf=an({name:"QTime",props:{...$o,...wa,...Va,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:$a,setup(e,{slots:n,emit:t}){const o=Sn(),{$q:l}=o.proxy,a=zo(e,l),{tabindex:i,headerClass:c,getLocale:h,getCurrentDate:g}=za(e,l),_=ka(e),m=Sa(_);let b,M;const z=Oe(null),$=B(()=>Te()),R=B(()=>h()),pe=B(()=>Xe()),ne=cn(e.modelValue,$.value,R.value,e.calendar,pe.value),A=Oe(bf(ne)),v=Oe(ne),F=Oe(ne.hour===null||ne.hour<12),Ee=B(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(a.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),J=B(()=>{const y=v.value;return{hour:y.hour===null?"--":ce.value===!0?et(y.hour):String(F.value===!0?y.hour===0?12:y.hour:y.hour>12?y.hour-12:y.hour),minute:y.minute===null?"--":et(y.minute),second:y.second===null?"--":et(y.second)}}),ce=B(()=>e.format24h!==null?e.format24h:l.lang.date.format24h),_e=B(()=>{const y=A.value==="hour",D=y===!0?12:60,j=v.value[A.value];let Se=`rotate(${Math.round(j*(360/D))-180}deg) translateX(-50%)`;return y===!0&&ce.value===!0&&v.value.hour>=12&&(Se+=" scale(.7)"),{transform:Se}}),Ie=B(()=>v.value.hour!==null),ue=B(()=>Ie.value===!0&&v.value.minute!==null),$e=B(()=>e.hourOptions!==void 0?y=>e.hourOptions.includes(y):e.options!==void 0?y=>e.options(y,null,null):null),fe=B(()=>e.minuteOptions!==void 0?y=>e.minuteOptions.includes(y):e.options!==void 0?y=>e.options(v.value.hour,y,null):null),we=B(()=>e.secondOptions!==void 0?y=>e.secondOptions.includes(y):e.options!==void 0?y=>e.options(v.value.hour,v.value.minute,y):null),he=B(()=>{if($e.value===null)return null;const y=Re(0,11,$e.value),D=Re(12,11,$e.value);return{am:y,pm:D,values:y.values.concat(D.values)}}),me=B(()=>fe.value!==null?Re(0,59,fe.value):null),ge=B(()=>we.value!==null?Re(0,59,we.value):null),De=B(()=>{switch(A.value){case"hour":return he.value;case"minute":return me.value;case"second":return ge.value}}),ot=B(()=>{let y,D,j=0,ee=1;const Se=De.value!==null?De.value.values:void 0;A.value==="hour"?ce.value===!0?(y=0,D=23):(y=0,D=11,F.value===!1&&(j=12)):(y=0,D=55,ee=5);const Ge=[];for(let Q=y,Be=y;Q<=D;Q+=ee,Be++){const ht=Q+j,Ut=Se!==void 0&&Se.includes(ht)===!1,Mn=A.value==="hour"&&Q===0?ce.value===!0?"00":"12":Q;Ge.push({val:ht,index:Be,disable:Ut,label:Mn})}return Ge}),rt=B(()=>[[gi,x,void 0,{stop:!0,prevent:!0,mouse:!0}]]);We(()=>e.modelValue,y=>{const D=cn(y,$.value,R.value,e.calendar,pe.value);(D.dateHash!==v.value.dateHash||D.timeHash!==v.value.timeHash)&&(v.value=D,D.hour===null?A.value="hour":F.value=D.hour<12)}),We([$,R],()=>{Rn(()=>{Ht()})});function Fe(){const y={...g(),...yf()};Ht(y),Object.assign(v.value,y),A.value="hour"}function Re(y,D,j){const ee=Array.apply(null,{length:D+1}).map((Se,Ge)=>{const Q=Ge+y;return{index:Q,val:j(Q)===!0}}).filter(Se=>Se.val===!0).map(Se=>Se.index);return{min:ee[0],max:ee[ee.length-1],values:ee,threshold:D+1}}function ke(y,D,j){const ee=Math.abs(y-D);return Math.min(ee,j-ee)}function Ke(y,{min:D,max:j,values:ee,threshold:Se}){if(y===D)return D;if(y<D||y>j)return ke(y,D,Se)<=ke(y,j,Se)?D:j;const Ge=ee.findIndex(ht=>y<=ht),Q=ee[Ge-1],Be=ee[Ge];return y-Q<=Be-y?Q:Be}function Te(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function Xe(){if(typeof e.defaultDate!="string"){const y=g(!0);return y.dateHash=pt(y),y}return cn(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function Ct(){return Il(o)===!0||De.value!==null&&(De.value.values.length===0||A.value==="hour"&&ce.value!==!0&&he.value[F.value===!0?"am":"pm"].values.length===0)}function w(){const y=z.value,{top:D,left:j,width:ee}=y.getBoundingClientRect(),Se=ee/2;return{top:D+Se,left:j+Se,dist:Se*.7}}function x(y){if(Ct()!==!0){if(y.isFirst===!0){b=w(),M=G(y.evt,b);return}M=G(y.evt,b,M),y.isFinal===!0&&(b=!1,M=null,Z())}}function Z(){A.value==="hour"?A.value="minute":e.withSeconds&&A.value==="minute"&&(A.value="second")}function G(y,D,j){const ee=Al(y),Se=Math.abs(ee.top-D.top),Ge=Math.sqrt(Math.pow(Math.abs(ee.top-D.top),2)+Math.pow(Math.abs(ee.left-D.left),2));let Q,Be=Math.asin(Se/Ge)*(180/Math.PI);if(ee.top<D.top?Be=D.left<ee.left?90-Be:270+Be:Be=D.left<ee.left?Be+90:270-Be,A.value==="hour"){if(Q=Be/30,he.value!==null){const ht=ce.value!==!0?F.value===!0:he.value.am.values.length!==0&&he.value.pm.values.length!==0?Ge>=D.dist:he.value.am.values.length!==0;Q=Ke(Q+(ht===!0?0:12),he.value[ht===!0?"am":"pm"])}else Q=Math.round(Q),ce.value===!0?Ge<D.dist?Q<12&&(Q+=12):Q===12&&(Q=0):F.value===!0&&Q===12?Q=0:F.value===!1&&Q!==12&&(Q+=12);ce.value===!0&&(F.value=Q<12)}else Q=Math.round(Be/6)%60,A.value==="minute"&&me.value!==null?Q=Ke(Q,me.value):A.value==="second"&&ge.value!==null&&(Q=Ke(Q,ge.value));return j!==Q&&Bn[A.value](Q),Q}const de={hour(){A.value="hour"},minute(){A.value="minute"},second(){A.value="second"}};function Ot(y){y.keyCode===13&&On()}function jt(y){y.keyCode===13&&Pn()}function Tn(y){Ct()!==!0&&(l.platform.is.desktop!==!0&&G(y,w()),Z())}function Pt(y){Ct()!==!0&&G(y,w())}function Qe(y){if(y.keyCode===13)A.value="hour";else if([37,39].includes(y.keyCode)){const D=y.keyCode===37?-1:1;if(he.value!==null){const j=ce.value===!0?he.value.values:he.value[F.value===!0?"am":"pm"].values;if(j.length===0)return;if(v.value.hour===null)Nt(j[0]);else{const ee=(j.length+j.indexOf(v.value.hour)+D)%j.length;Nt(j[ee])}}else{const j=ce.value===!0?24:12,ee=ce.value!==!0&&F.value===!1?12:0,Se=v.value.hour===null?-D:v.value.hour;Nt(ee+(24+Se+D)%j)}}}function ao(y){if(y.keyCode===13)A.value="minute";else if([37,39].includes(y.keyCode)){const D=y.keyCode===37?-1:1;if(me.value!==null){const j=me.value.values;if(j.length===0)return;if(v.value.minute===null)Et(j[0]);else{const ee=(j.length+j.indexOf(v.value.minute)+D)%j.length;Et(j[ee])}}else{const j=v.value.minute===null?-D:v.value.minute;Et((60+j+D)%60)}}}function lo(y){if(y.keyCode===13)A.value="second";else if([37,39].includes(y.keyCode)){const D=y.keyCode===37?-1:1;if(ge.value!==null){const j=ge.value.values;if(j.length===0)return;if(v.value.seconds===null)Lt(j[0]);else{const ee=(j.length+j.indexOf(v.value.second)+D)%j.length;Lt(j[ee])}}else{const j=v.value.second===null?-D:v.value.second;Lt((60+j+D)%60)}}}function Nt(y){v.value.hour!==y&&(v.value.hour=y,At())}function Et(y){v.value.minute!==y&&(v.value.minute=y,At())}function Lt(y){v.value.second!==y&&(v.value.second=y,At())}const Bn={hour:Nt,minute:Et,second:Lt};function On(){F.value===!1&&(F.value=!0,v.value.hour!==null&&(v.value.hour-=12,At()))}function Pn(){F.value===!0&&(F.value=!1,v.value.hour!==null&&(v.value.hour+=12,At()))}function Mt(y){const D=e.modelValue;A.value!==y&&D!==void 0&&D!==null&&D!==""&&typeof D!="string"&&(A.value=y)}function At(){if($e.value!==null&&$e.value(v.value.hour)!==!0){v.value=cn(),Mt("hour");return}if(fe.value!==null&&fe.value(v.value.minute)!==!0){v.value.minute=null,v.value.second=null,Mt("minute");return}if(e.withSeconds===!0&&we.value!==null&&we.value(v.value.second)!==!0){v.value.second=null,Mt("second");return}v.value.hour===null||v.value.minute===null||e.withSeconds===!0&&v.value.second===null||Ht()}function Ht(y){const D=Object.assign({...v.value},y),j=e.calendar==="persian"?et(D.hour)+":"+et(D.minute)+(e.withSeconds===!0?":"+et(D.second):""):Ca(new Date(D.year,D.month===null?null:D.month-1,D.day,D.hour,D.minute,D.second,D.millisecond),$.value,R.value,D.year,D.timezoneOffset);D.changed=j!==e.modelValue,t("update:modelValue",j,D)}function un(){const y=[k("div",{class:"q-time__link "+(A.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:i.value,onClick:de.hour,onKeyup:Qe},J.value.hour),k("div",":"),k("div",Ie.value===!0?{class:"q-time__link "+(A.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:i.value,onKeyup:ao,onClick:de.minute}:{class:"q-time__link"},J.value.minute)];e.withSeconds===!0&&y.push(k("div",":"),k("div",ue.value===!0?{class:"q-time__link "+(A.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:i.value,onKeyup:lo,onClick:de.second}:{class:"q-time__link"},J.value.second));const D=[k("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},y)];return ce.value===!1&&D.push(k("div",{class:"q-time__header-ampm column items-between no-wrap"},[k("div",{class:"q-time__link "+(F.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:i.value,onClick:On,onKeyup:Ot},"AM"),k("div",{class:"q-time__link "+(F.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:i.value,onClick:Pn,onKeyup:jt},"PM")])),k("div",{class:"q-time__header flex flex-center no-wrap "+c.value},D)}function En(){const y=v.value[A.value];return k("div",{class:"q-time__content col relative-position"},[k(Ft,{name:"q-transition--scale"},()=>k("div",{key:"clock"+A.value,class:"q-time__container-parent absolute-full"},[k("div",{ref:z,class:"q-time__container-child fit overflow-hidden"},[ve(k("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Tn,onMousedown:Pt},[k("div",{class:"q-time__clock-circle fit"},[k("div",{class:"q-time__clock-pointer"+(v.value[A.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:_e.value}),ot.value.map(D=>k("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${D.index}`+(D.val===y?" q-time__clock-position--active "+c.value:D.disable===!0?" q-time__clock-position--disable":"")},[k("span",D.label)]))])]),rt.value)])])),e.nowBtn===!0?k(N,{class:"q-time__now-button absolute",icon:l.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:i.value,onClick:Fe}):null])}return o.proxy.setNow=Fe,()=>{const y=[En()],D=Cn(n.default);return D!==void 0&&y.push(k("div",{class:"q-time__actions"},D)),e.name!==void 0&&e.disable!==!0&&m(y,"push"),k("div",{class:Ee.value,tabindex:-1},[un(),k("div",{class:"q-time__main col overflow-auto"},y)])}}});const kf={props:{modelValue:String},methods:{onChange(e){console.func("components/base/BaseTimeInput:methods.onChange",arguments),this.$emit("update:model-value",e)}}},Sf={class:"row items-center justify-end"};function Cf(e,n,t,o,l,a){return u(),S(wt,{class:"base-time-input",dense:"",borderless:"",modelValue:t.modelValue,"onUpdate:modeValue":a.onChange,onClick:n[1]||(n[1]=lt(()=>{},["stop"])),mask:"time",style:{width:"90px"}},{prepend:d(()=>[s(ae,{onClick:n[0]||(n[0]=lt(()=>{},["stop"])),name:"access_time",class:"cursor-pointer"},{default:d(()=>[s(kn,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[s(wf,{"onUpdate:modelValue":a.onChange,modelValue:t.modelValue},{default:d(()=>[q("div",Sf,[ve(s(N,{label:e.$t("close"),color:"primary",flat:""},null,8,["label"]),[[nt]])])]),_:1},8,["onUpdate:modelValue","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modeValue"])}var xf=W(kf,[["render",Cf]]),qf=Object.freeze(Object.defineProperty({__proto__:null,default:xf},Symbol.toStringTag,{value:"Module"}));const Df={props:{modelValue:{required:!0}},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/BaseToggle:methods.onChange()",arguments),this.$emit("update:model-value",e)}}};function Tf(e,n,t,o,l,a){return u(),S(xa,{class:"base-toggle","model-value":t.modelValue,"onUpdate:modelValue":a.onChange},null,8,["model-value","onUpdate:modelValue"])}var Bf=W(Df,[["render",Tf]]),Of=Object.freeze(Object.defineProperty({__proto__:null,default:Bf},Symbol.toStringTag,{value:"Module"}));const Pf={props:{position:{required:!1,type:String,default:"top"},color:{required:!1,type:String,default:""}},computed:{anchor(){var e="top middle";switch(this.position){case"left":e="center left";break;case"right":e="center right";break;case"bottom":e="bottom middle";break}return e},self(){var e="bottom middle";switch(this.position){case"left":e="center right";break;case"right":e="center left";break;case"bottom":e="top middle";break}return e},offset(){var e=[5,5];switch(this.position){case"left":case"right":e=[10,10];break}return e}}};function Ef(e,n,t,o,l,a){return u(),S(el,{class:"base-tooltip","content-class":"bg-"+t.color,anchor:a.anchor,self:a.self,offset:a.offset},{default:d(()=>[I(e.$slots,"default",{},()=>[qe("Tooltip instruction")])]),_:3},8,["content-class","anchor","self","offset"])}var Mf=W(Pf,[["render",Ef]]),Af=Object.freeze(Object.defineProperty({__proto__:null,default:Mf},Symbol.toStringTag,{value:"Module"}));const If={props:{user:Object}},Vf={class:"base-current-user base-user"};function $f(e,n,t,o,l,a){const i=X("base-avatar");return u(),C("div",Vf,[s(Le,{class:"user-info"},{default:d(()=>[s(se,{class:"q-pa-none q-mr-sm",avatar:"",style:{"min-width":"auto"}},{default:d(()=>[s(i,{size:"28px",user:t.user},null,8,["user"])]),_:1}),s(se,{class:"gt-sm q-pa-none"},{default:d(()=>[s(ft,{class:"text-subtitle2"},{default:d(()=>[qe(U(t.user.name),1)]),_:1})]),_:1})]),_:1})])}var zf=W(If,[["render",$f]]),Ff=Object.freeze(Object.defineProperty({__proto__:null,default:zf},Symbol.toStringTag,{value:"Module"})),Jn={"./BaseAlert.vue":$l,"./BaseAvatar.vue":bi,"./BaseBtn.vue":ki,"./BaseBtnDropdown.vue":Di,"./BaseCheckbox.vue":Pi,"./BaseColorInput.vue":Ii,"./BaseCurrentUser.vue":Hi,"./BaseDateInput.vue":Ji,"./BaseDialog.vue":ar,"./BaseDropzone.vue":vs,"./BaseEditor.vue":Ds,"./BaseEnquiryReplyCard.vue":iu,"./BaseForm.vue":du,"./BaseInfo.vue":bu,"./BaseInput.vue":Su,"./BaseItem.vue":Du,"./BaseLabel.vue":Au,"./BaseMediaCard.vue":zu,"./BaseNoRecords.vue":Uu,"./BaseNoteCard.vue":nd,"./BaseNumberInput.vue":id,"./BasePageHeader.vue":md,"./BasePageToolbar.vue":_d,"./BasePercentageInput.vue":kd,"./BasePlanSelect.vue":qd,"./BasePriceInput.vue":Od,"./BaseRadio.vue":Vd,"./BaseSection.vue":Ld,"./BaseSelect.vue":Wd,"./BaseStatic.vue":Jd,"./BaseStats.vue":oc,"./BaseStatus.vue":sc,"./BaseTable.vue":ef,"./BaseTaskReplyCard.vue":mf,"./BaseThumbnail.vue":_f,"./BaseTimeInput.vue":qf,"./BaseToggle.vue":Of,"./BaseTooltip.vue":Af,"./BaseUser.vue":Ff};function oo(e){return al(e),Jn[e]}function al(e){if(e in Jn)return Jn[e];var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}oo.keys=function(){return Object.keys(Jn)};oo.resolve=al;oo.id="__require_context_for_vite_function_0";var bh=Vl(async({app:e})=>{console.core("Auto loading base components");const n=oo;n.keys().forEach(t=>{const o=n(t),l=Ve.exports.upperFirst(Ve.exports.camelCase(t.split("/").pop().replace(/\.\w+$/,"")));e.component(l,o.default||o)})});export{bh as default};
