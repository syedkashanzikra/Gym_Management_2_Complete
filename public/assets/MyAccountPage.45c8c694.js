import{Q as $}from"./QForm.fcd62a44.js";import{Q as y}from"./QPage.701dd41d.js";import{_ as w,M,u as g,N as P,r as n,o as h,a as S,w as t,e as l,f as r,h as d,t as m,d as U,g as q}from"./index.46fdd451.js";import{P as F}from"./ParqForm.480a0115.js";import{F as A}from"./FileSelector.fa33ffa8.js";import{A as N}from"./AddressFields.58941de5.js";import"./QBanner.bf86e8e3.js";import"./QToolbarTitle.cb225f03.js";import"./QToolbar.72090c76.js";import"./member.7e2676dd.js";import"./FileCard.22a9b7b0.js";import"./QImg.7965eef6.js";import"./QInnerLoading.1459e1ed.js";import"./StateSelect.8267e923.js";import"./index.becf6c0c.js";import"./CitySelect.9ee53a09.js";const E={components:{ParqForm:F,FileSelector:A,AddressFields:N},data(){return{loading:!1,errors:{}}},methods:{...M(g,["update","currentUser","setIsDirt","setIsLoading"]),onSaveProfile(){console.func("pages/SignUpPage:methods.onSaveProfile()",arguments),this.loading=!0,this.errors={},this.update({...this.user,guard:this.$route.meta.guard}).then(()=>{this.loading=!1}).catch(({errors:e,message:s})=>{this.loading=!1,e?this.errors=e:this.$core.error(s)})}},computed:{...P(g,["user"]),avatar(){return this.$route.query.avatar}},mounted(){this.avatar&&this.$refs.avatar.onFileBrowse()},watch:{loading:{deep:!0,immediate:!0,handler(e){this.setIsDirt(e),this.setIsLoading(e)}}}},k={class:"row q-col-gutter-lg"},B={class:"col-xs-12 col-sm-9"},D={class:"row q-col-gutter-md"},I={class:"col-xs-12 col-sm-2"},Q={class:"col-sm-3 col-xs-12"},C={class:"col-sm-3 col-xs-12"},L={class:"col-sm-4 col-xs-12"},z={class:"col-sm-4 col-xs-12"},T={class:"col-sm-4 col-xs-12"},j={key:0,class:"col-xs-12"},G={class:"col-sm col-xs-12 text-right self-end"},H={class:"col-xs-12 col-sm-3"},J={class:"col-xs-12"},K={class:"col-xs-12 col-sm-9"};function O(e,s,R,W,a,f){const i=n("base-label"),b=n("base-select"),u=n("base-input"),c=n("base-btn"),v=n("address-fields"),p=n("base-section"),_=n("file-selector"),V=n("parq-form");return h(),S(y,{padding:""},{default:t(()=>[l("div",k,[l("div",B,[r(p,{flat:"",bordered:"","no-row":"",title:e.$t("profileInformation")},{default:t(()=>[r($,{onSubmit:f.onSaveProfile},{default:t(()=>[l("div",D,[l("div",I,[r(i,null,{default:t(()=>[d(m(e.$t("title")),1)]),_:1}),r(b,{modelValue:e.user.title,"onUpdate:modelValue":s[0]||(s[0]=o=>e.user.title=o),"error-message":e.$core.errorMessage("title",a.errors),error:e.$core.hasError("title",a.errors),dense:"",outlined:"",options:["Mr","Mrs","Ms","Miss","Mx","Dr","Fr","Prof"],name:"title"},null,8,["modelValue","error-message","error"])]),l("div",Q,[r(i,null,{default:t(()=>[d(m(e.$t("firstName")),1)]),_:1}),r(u,{"error-message":e.$core.errorMessage("first_name",a.errors),error:e.$core.hasError("first_name",a.errors),modelValue:e.user.first_name,"onUpdate:modelValue":s[1]||(s[1]=o=>e.user.first_name=o)},null,8,["error-message","error","modelValue"])]),l("div",C,[r(i,null,{default:t(()=>[d(m(e.$t("surname")),1)]),_:1}),r(u,{"error-message":e.$core.errorMessage("last_name",a.errors),error:e.$core.hasError("last_name",a.errors),modelValue:e.user.last_name,"onUpdate:modelValue":s[2]||(s[2]=o=>e.user.last_name=o)},null,8,["error-message","error","modelValue"])]),l("div",L,[r(i,null,{default:t(()=>[d(m(e.$t("email")),1)]),_:1}),r(u,{"error-message":e.$core.errorMessage("email",a.errors),error:e.$core.hasError("email",a.errors),modelValue:e.user.email,"onUpdate:modelValue":s[3]||(s[3]=o=>e.user.email=o)},null,8,["error-message","error","modelValue"])]),l("div",z,[r(i,null,{default:t(()=>[d(m(e.$t("phoneNumber")),1)]),_:1}),r(u,{"error-message":e.$core.errorMessage("phone_number",a.errors),error:e.$core.hasError("phone_number",a.errors),modelValue:e.user.phone_number,"onUpdate:modelValue":s[4]||(s[4]=o=>e.user.phone_number=o)},null,8,["error-message","error","modelValue"])]),l("div",T,[r(i,null,{default:t(()=>[d(m(e.$t("password")),1)]),_:1}),r(u,{type:"password",readonly:"","bottom-slots":"",modelValue:"**********"},{hint:t(()=>[r(c,{size:"11px",color:"grey",to:{name:"Forget Password"},link:"",type:"a",label:e.$t("forgottenPassword")},null,8,["label"])]),_:1})]),e.user.address?(h(),U("div",j,[r(v,{prefix:"address.",errors:a.errors,modelValue:e.user.address,"onUpdate:modelValue":s[5]||(s[5]=o=>e.user.address=o)},null,8,["errors","modelValue"])])):q("",!0),l("div",G,[r(c,{class:"main-btn",loading:a.loading,style:{width:"100px"},label:e.$t("save"),type:"submit"},null,8,["loading","label"])])])]),_:1},8,["onSubmit"])]),_:1},8,["title"])]),l("div",H,[r(p,{flat:"",bordered:"",title:e.$t("avatar")},{default:t(()=>[l("div",J,[r(_,{ref:"avatar",accept:"image/*","dialog-label":"uploadAvatar",hint:e.$t("hint.images",{type:"avatar"}),readonly:e.user.avatar&&!e.user.request_avatar,modelValue:e.user.avatar,"onUpdate:modelValue":[s[6]||(s[6]=o=>e.user.avatar=o),f.onSaveProfile]},null,8,["hint","readonly","modelValue","onUpdate:modelValue"])])]),_:1},8,["title"])]),l("div",K,[r(p,{flat:"",bordered:"",title:e.$t("parQ"),description:e.$t("myAccount.parqDesc"),"no-row":""},{default:t(()=>[r(V,{"request-parq":"",member:e.user,"onUpdate:member":s[7]||(s[7]=o=>e.user=o)},null,8,["member"])]),_:1},8,["title","description"])])])]),_:1})}var pe=w(E,[["render",O]]);export{pe as default};
