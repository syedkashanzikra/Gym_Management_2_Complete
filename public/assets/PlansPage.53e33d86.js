import{_ as P,M as C,N as v,r as d,o as c,a as w,w as a,f as o,a5 as h,h as r,t as i,d as Q,O as S,K as u,I as m,ab as y,a6 as q}from"./index.46fdd451.js";import{Q as R}from"./QMenu.84416a21.js";import{Q as B}from"./QPage.701dd41d.js";import{u as g}from"./plan.58f50406.js";import"./selection.e9a8e664.js";const $={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"label",descending:!1,page:1,filter:"",active:!0,advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1},usePlanStore:g()}},methods:{...C(g,["get","changeActive"]),onRequest(e){console.func("admins/plans/PlansPage:methods.onRequest()",arguments);const{page:n,rowsPerPage:f,sortBy:p,descending:s}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,direction:s?"desc":"asc"}).then(({meta:l})=>{this.pagination.rowsNumber=l.total,this.pagination.page=n,this.pagination.rowsPerPage=f,this.pagination.sortBy=p,this.pagination.descending=s,this.pagination.loaded=!0,this.pagination.from=l.from,this.pagination.to=l.to,this.loading=!1}).catch(l=>{this.$core.error(l,{title:this.$t("dialog.title.error")})})},async actionClicked(e,n){console.func("admins/plans/PlansPage:methods.actionClicked()",arguments)},async toolbarClicked(e,n){console.func("admins/plans/PlansPage:methods.toolbarClicked()",arguments)},async rowClicked(e,n){console.func("admins/plans/PlansPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Plan",params:{id:n.id},query:{action:"edit"}})}},computed:{...v(g,["actions","rows","columns","module","toolbar","filters"])}},A={key:0,class:"text-grey-7"};function N(e,n,f,p,s,l){const b=d("base-btn"),k=d("base-table"),_=d("base-section");return c(),w(B,{padding:""},{default:a(()=>[o(_,{flat:"",bordered:"","no-row":""},{default:a(()=>[o(k,{store:s.usePlanStore,module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:s.loading,pagination:s.pagination,onRequest:l.onRequest,onActionClicked:l.actionClicked,onToolbarClicked:l.toolbarClicked,onRowClicked:l.rowClicked,"no-data-label":e.$t("plans.noData"),"table-key":"plans"},{"body-cell-label":a(t=>[o(b,{onClick:n[0]||(n[0]=h(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Plan",params:{id:t.row.id},query:{action:"edit"}}},{default:a(()=>[r(i(t.value),1)]),_:2},1032,["to"])]),"body-cell-prices":a(t=>[t.row.is_custom?(c(),Q("span",A,i(e.$core.money(t.row.custom_fee))+" every "+i(t.row.interval_count)+" "+i(t.row.interval)+"s ",1)):(c(),w(b,{key:1,class:"text-grey-7",onClick:n[1]||(n[1]=h(()=>{},["stop"])),label:e.$t("prices",{count:2}),link:""},{default:a(()=>[o(R,null,{default:a(()=>[o(S,{dense:"",style:{"min-width":"100px"}},{default:a(()=>[o(u,{class:"text-bold bg-grey"},{default:a(()=>[o(m,null,{default:a(()=>[r("Prices")]),_:1})]),_:1}),o(y),o(u,null,{default:a(()=>[o(m,null,{default:a(()=>[r(i(e.$core.money(t.row.monthly_fee))+"/month ",1)]),_:2},1024)]),_:2},1024),o(y),o(u,null,{default:a(()=>[o(m,null,{default:a(()=>[r(i(e.$core.money(t.row.yearly_fee))+"/year ",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["label"]))]),"body-cell-is_active":a(t=>[o(q,{"onUpdate:modelValue":T=>e.changeActive(t.row),size:"sm",dense:"","model-value":t.row.is_active,color:"green"},null,8,["onUpdate:modelValue","model-value"])]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked","no-data-label"])]),_:1})]),_:1})}var U=P($,[["render",N]]);export{U as default};
