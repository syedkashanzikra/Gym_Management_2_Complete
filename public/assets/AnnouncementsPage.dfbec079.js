import{Q as p}from"./QPage.701dd41d.js";import{_ as f,M as b,N as h,r as s,o as w,a as k,w as a,f as i,a5 as C,h as A,t as _}from"./index.46fdd451.js";import{u as r}from"./announcement.ebcc2121.js";const P={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"date",descending:!0,page:1,filter:"",advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1},useAnnouncementStore:r()}},methods:{...b(r,["get"]),onRequest(e){console.func("admins/announcements/AnnouncementsPage:methods.onRequest()",arguments);const{page:o,rowsPerPage:c,sortBy:l,descending:t}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,direction:t?"desc":"asc"}).then(({meta:n})=>{this.pagination.rowsNumber=n.total,this.pagination.page=o,this.pagination.rowsPerPage=c,this.pagination.sortBy=l,this.pagination.descending=t,this.pagination.loaded=!0,this.pagination.from=n.from,this.pagination.to=n.to,this.loading=!1}).catch(n=>{this.$core.error(n,{title:this.$t("dialog.title.error")})})},async actionClicked(e,o){console.func("admins/announcements/AnnouncementsPage:methods.actionClicked()",arguments)},async toolbarClicked(e,o){console.func("admins/announcements/AnnouncementsPage:methods.toolbarClicked()",arguments)},async rowClicked(e,o){console.func("admins/announcements/AnnouncementsPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Announcement",params:{id:o.id},query:{action:"edit"}})}},computed:{...h(r,["actions","rows","columns","module","toolbar","filters"]),permissions(){return[]}}};function y(e,o,c,l,t,n){const u=s("base-btn"),m=s("base-table"),g=s("base-section");return w(),k(p,{padding:""},{default:a(()=>[i(g,{flat:"",bordered:"","no-row":""},{default:a(()=>[i(m,{store:t.useAnnouncementStore,module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:t.loading,pagination:t.pagination,onRequest:n.onRequest,onActionClicked:n.actionClicked,onToolbarClicked:n.toolbarClicked,onRowClicked:n.rowClicked,"no-data-label":e.$t("announcements.noData"),"table-key":"announcements"},{"body-cell-date":a(d=>[i(u,{onClick:o[0]||(o[0]=C(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Announcement",params:{id:d.row.id},query:{action:"edit"}}},{default:a(()=>[A(_(d.value),1)]),_:2},1032,["to"])]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked","no-data-label"])]),_:1})]),_:1})}var v=f(P,[["render",y]]);export{v as default};
