import{Q as w}from"./QPage.701dd41d.js";import{_ as k,M as C,N as _,r as i,o as l,a as m,w as r,f as d,a5 as y,h as P,t as q,d as v,ag as O,F as R}from"./index.46fdd451.js";import{u as p}from"./order.95044cc9.js";const B={data(){return{loading:!1,loaded:!1,selected:[],pagination:{sortBy:"CREATED_AT_DESC",descending:!1,page:1,filter:"",advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1}}},methods:{...C(p,["get"]),onRequest(e){var t;console.func("pages/admins/orders/OrdersPage:methods.onRequest()",arguments);const{page:o,rowsPerPage:c,sortBy:g,descending:a}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,customer:(t=this.$route.query)==null?void 0:t.customer,descending:a?"desc":"asc"}).then(({meta:s})=>{this.pagination.rowsNumber=s.total,this.pagination.page=o,this.pagination.rowsPerPage=c,this.pagination.sortBy=g,this.pagination.descending=a,this.pagination.loaded=!0,this.pagination.from=s.from,this.pagination.to=s.to,this.loading=!1}).catch(s=>{this.$emit("error",s)})},async actionClicked(e,o){console.func("pages/admins/orders/OrdersPage:methods.actionClicked()",arguments)},async toolbarClicked(e,o){console.func("pages/admins/orders/OrdersPage:methods.toolbarClicked()",arguments)},async rowClicked(e,o){console.func("pages/admins/orders/OrdersPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Order",params:{id:o.id},query:{action:"view"}})}},computed:{..._(p,["actions","rows","columns","module","toolbar","filters"])}};function S(e,o,c,g,a,t){const s=i("base-btn"),f=i("base-status"),b=i("base-table"),h=i("base-section");return l(),m(w,{padding:""},{default:r(()=>[d(h,{flat:"",bordered:"","no-row":""},{default:r(()=>[d(b,{ref:"order",store:"order",module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:a.loading,pagination:a.pagination,selected:a.selected,"onUpdate:selected":o[1]||(o[1]=n=>a.selected=n),onRequest:t.onRequest,selection:"multiple",onActionClicked:t.actionClicked,onToolbarClicked:t.toolbarClicked,onRowClicked:t.rowClicked},{"body-cell-name":r(n=>[d(s,{onClick:o[0]||(o[0]=y(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Order",params:{id:n.row.id},query:{action:"view"}}},{default:r(()=>[P(q(n.value),1)]),_:2},1032,["to"])]),"body-cell-status":r(n=>[(l(!0),v(R,null,O(n.value,u=>(l(),m(f,{key:u,type:u},null,8,["type"]))),128))]),_:1},8,["module","columns","rows","actions","toolbar","filters","loading","pagination","selected","onRequest","onActionClicked","onToolbarClicked","onRowClicked"])]),_:1})]),_:1})}var E=k(B,[["render",S]]);export{E as default};
