import{cX as d,c as o,A as s}from"./index.46fdd451.js";const l=t=>[{label:"Open",value:"OPEN"},{label:"Paid",value:"PAID"},{label:"Completed",value:"COMPLETED"},{label:"Cancelled",value:"CANCELLED"}],i=t=>[{label:"Date created (newest first)",value:"CREATED_AT_DESC"},{label:"Date created (oldest first)",value:"CREATED_AT_ASC"},{label:"Customer name (A-Z)",value:"CUSTOMER_NAME_ASC"},{label:"Customer name (Z-A)",value:"CUSTOMER_NAME_DESC"}],u=d("order",{getters:{module:t=>({name:"Orders",label:t.$t("modules.orders"),singular:t.$t("modules.singular.order"),plural:t.$t("modules.plural.orders")}),columns:t=>[{name:"id",align:"left",label:"Order",field:"formated_id",sortable:!1},{name:"created_at",align:"left",label:"Date",field:"created_at",sortable:!1},{name:"customer_id",align:"left",label:"Customer",field:"customer",format:r=>r==null?void 0:r.name,sortable:!1},{name:"grand_total",align:"left",label:"Total",field:"grand_total",format:r=>o.money(r),sortable:!1},{name:"total_line_items",align:"left",label:"Products",field:"total_line_items",sortable:!1},{name:"status",align:"left",label:"Status",field:"status",format:r=>r==null?void 0:r.map(a=>a.label),sortable:!1},{name:"actions",align:"right",sortable:!1}],actions:t=>[{label:t.$t("label.edit"),module:"Orders",action:"route",route:"Single Order",params:r=>({id:r.id}),query:r=>({action:"edit"}),icon:"fas fa-edit",deleted:!1},{label:t.$t("label.delete"),module:"Orders",action:"delete",icon:"fas fa-trash-alt",deleted:!1},{label:t.$t("label.restore"),module:"Orders",action:"restore",icon:"fas fa-trash-undo",deleted:!0}],toolbar:t=>[{title:"Status",action:"request",component:"base-select",dense:!0,outlined:!0,key:"status",placeholder:"Status",optionsDense:!0,clearable:!0,style:"width: 150px",mapOptions:!0,emitValue:!0,options:l(),deleted:"all"},{title:"Sort by",action:"request",component:"base-select",dense:!0,outlined:!0,key:"sortBy",optionsDense:!0,hideDropdownIcon:!0,mapOptions:!0,emitValue:!0,icon:"fas fa-sort",displayValue:"Sort",style:"width: 80px",options:i(),deleted:"all"},{icon:"fad fa-plus-circle",label:"Add order",permission:"New",action:"route",params:{id:"add"},route:"Single Order",color:"primary",deleted:"all"}],filters:t=>[],statusOptions:l,getStatus:t=>r=>{var e;const a=t.statusOptions.find(n=>n.value===r);return(e=a==null?void 0:a.label)!=null?e:r}},actions:{get(t){return new Promise((r,a)=>{s.get("orders",t).then(e=>{this.setRows(e.data),r(e)}).catch(e=>{a(e)})})},store(t){return new Promise((r,a)=>{s.post("orders/store",t).then(e=>{r(e)}).catch(e=>{a(e)})})},show(t){return new Promise((r,a)=>{s.get(`orders/${t}`).then(e=>{r(e)}).catch(e=>{a(e)})})},update(t){return new Promise((r,a)=>{s.put(`orders/${t.id}`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},delete(t){return new Promise((r,a)=>{s.delete(`orders/${t}/destroy`).then(e=>{r(e)}).catch(e=>{a(e)})})},deleteSelected(t){return new Promise((r,a)=>{s.delete("orders/destroy",{items:t}).then(e=>{r(e)}).catch(e=>{a(e)})})},restore(t){return new Promise((r,a)=>{s.post(`orders/${t}/restore`).then(e=>{r(e)}).catch(e=>{a(e)})})},restoreSelected(t){return new Promise((r,a)=>{s.post("orders/restore",{items:t}).then(e=>{r(e)}).catch(e=>{a(e)})})},calculator(t){return new Promise((r,a)=>{s.post("orders/calculator",t).then(e=>{r(e)}).catch(e=>{a(e)})})},comment(t){return new Promise((r,a)=>{s.post(`orders/${t.moduleId}/logs`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},markAsPaid(t){return new Promise((r,a)=>{s.post(`orders/${t.moduleId}/mark-as-paid`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},pay(t){return new Promise((r,a)=>{s.post(`orders/${t.order}/${t.payment_method}/pay`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},duplicate(t){return new Promise((r,a)=>{s.post(`orders/${t.moduleId}/duplicate`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},cancel(t){return new Promise((r,a)=>{s.post(`orders/${t.moduleId}/cancel`,t).then(e=>{r(e)}).catch(e=>{a(e)})})},receipt(t){return new Promise((r,a)=>{s.download(`orders/${t}/receipt`).then(async e=>{await o.viewPdf(e,`receipt_${t}`),r(e)}).catch(e=>{a(e)})})},pos(t){return new Promise((r,a)=>{s.download(`orders/${t}/pos`).then(async e=>{await o.viewPdf(e,`receipt_${t}`),r(e)}).catch(e=>{a(e)})})}}});export{u};
