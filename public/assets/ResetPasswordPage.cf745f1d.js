import{_ as u,M as c,u as f,r as w,o as h,d as b,e as t,t as a,f as o,w as n,Q as m,l as d}from"./index.46fdd451.js";import{Q as g}from"./QForm.fcd62a44.js";const P={data(){return{form:{password:"",password_confirmation:"",guard:this.$route.meta.guard},errors:{},visible:!1,isPwd1:!0,isPwd2:!0}},methods:{...c(f,["resetPassword"]),onSubmit(){console.func("pages/auth/ResetPasswordPage:methods.onSubmit()",arguments),this.onReset(),this.resetPassword(this.form).then(e=>{this.visible=!1,this.$router.push({name:"Login"}),this.$core.success(e.message)}).catch(e=>{this.visible=!1,e.errors?this.errors=e.errors:this.$core.error(e.message)})},onReset(){this.errors={},this.visible=!0}},created(){this.form.token=this.$route.query.token,this.form.email=this.$route.query.email}},v={class:"text-h6 text-center"},_={class:"text-center q-mb-lg"},y={class:"col"},V={class:"col q-mb-md"};function k(e,r,S,q,s,p){const l=w("base-input");return h(),b("div",null,[t("div",v,a(e.$t("resetPassword")),1),t("p",_,a(e.$t("resetPasswordDesc")),1),o(g,{ref:"restPasswordForm",onSubmit:p.onSubmit},{default:n(()=>[t("div",y,[o(l,{outlined:"",dense:"",placeholder:e.$t("placeholder.password"),modelValue:s.form.password,"onUpdate:modelValue":r[1]||(r[1]=i=>s.form.password=i),"error-message":"password"in s.errors?s.errors.password.join(", "):"",error:"password"in s.errors,type:s.isPwd1?"password":"text"},{append:n(()=>[o(m,{name:s.isPwd1?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[0]||(r[0]=i=>s.isPwd1=!s.isPwd1)},null,8,["name"])]),_:1},8,["placeholder","modelValue","error-message","error","type"])]),t("div",V,[o(l,{outlined:"",dense:"",placeholder:e.$t("placeholder.passwordConfirm"),modelValue:s.form.password_confirmation,"onUpdate:modelValue":r[3]||(r[3]=i=>s.form.password_confirmation=i),"error-message":"password_confirmation"in s.errors?s.errors.password_confirmation.join(", "):"",error:"password_confirmation"in s.errors,type:s.isPwd2?"password":"text"},{append:n(()=>[o(m,{name:s.isPwd2?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[2]||(r[2]=i=>s.isPwd2=!s.isPwd2)},null,8,["name"])]),_:1},8,["placeholder","modelValue","error-message","error","type"])]),o(d,{loading:s.visible,"no-caps":"",label:e.$t("submit"),class:"full-width",color:"primary",align:"center",type:"submit"},null,8,["loading","label"]),o(d,{"no-caps":"",label:e.$t("goBack"),class:"q-mt-sm full-width",color:"negative",align:"center",flat:"",to:{name:"Login"}},null,8,["label"])]),_:1},8,["onSubmit"])])}var Q=u(P,[["render",k]]);export{Q as default};
