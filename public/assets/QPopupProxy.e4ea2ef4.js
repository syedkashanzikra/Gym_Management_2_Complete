import{m as P,v as p,y as h,z as y,b2 as b,D as x,s as Q,ad as C}from"./index.46fdd451.js";import{u as j,c as k,Q as M}from"./QMenu.84416a21.js";var D=P({name:"QPopupProxy",props:{...j,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(a,{slots:v,emit:c,attrs:g}){const{proxy:u}=Q(),{$q:l}=u,n=p(!1),t=p(null),i=h(()=>parseInt(a.breakpoint,10)),{canShow:f}=k({showing:n});function s(){return l.screen.width<i.value||l.screen.height<i.value?"dialog":"menu"}const o=p(s()),m=h(()=>o.value==="menu"?{maxHeight:"99vh"}:{});y(()=>s(),e=>{n.value!==!0&&(o.value=e)});function d(e){n.value=!0,c("show",e)}function w(e){n.value=!1,o.value=s(),c("hide",e)}return Object.assign(u,{show(e){f(e)===!0&&t.value.show(e)},hide(e){t.value.hide(e)},toggle(e){t.value.toggle(e)}}),b(u,"currentComponent",()=>({type:o.value,ref:t.value})),()=>{const e={ref:t,...m.value,...g,onShow:d,onHide:w};let r;return o.value==="dialog"?r=C:(r=M,Object.assign(e,{target:a.target,contextMenu:a.contextMenu,noParentEvent:!0,separateClosePopup:!0})),x(r,e,v.default)}}});export{D as Q};
