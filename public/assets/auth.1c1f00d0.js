import{b as u,u as m}from"./index.46fdd451.js";var f=u(async({router:t,store:c})=>{const a=m();t.beforeEach((s,i,e)=>{s.meta.auth?a.isAuthenticated?e():e({name:"Login",query:{redirect:s.fullPath}}):e()}),t.beforeResolve((s,i,e)=>{const o=s.meta.module,r=s.meta.permission;o?a.hasModulePermission(o,r)?e():e({name:"Dashboard"}):e()}),a.isAuthenticated&&a.currentUser(a.guard).catch(()=>{t.push({name:"Login",query:{redirect:t.currentRoute.value.fullPath}})})});export{f as default};
