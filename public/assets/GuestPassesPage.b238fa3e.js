import{Q as p}from"./QPage.701dd41d.js";import{_ as f,M as h,N as b,r as i,o as P,a as w,w as o,f as r,a5 as C,h as k,t as _}from"./index.46fdd451.js";import{u as l}from"./guest-pass.449a46cc.js";const y={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"name",descending:!1,page:1,filter:"",advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,active:!0,loaded:!1},useGuestPassStore:l()}},methods:{...h(l,["get"]),onRequest(e){console.func("admins/guest-passes/GuestPassesPage:methods.onRequest()",arguments);const{page:t,rowsPerPage:d,sortBy:u,descending:a}=e.pagination;this.pagination=e.pagination,this.loading=!0,this.get({...e.pagination,direction:a?"desc":"asc"}).then(({meta:s})=>{this.pagination.rowsNumber=s.total,this.pagination.page=t,this.pagination.rowsPerPage=d,this.pagination.sortBy=u,this.pagination.descending=a,this.pagination.loaded=!0,this.pagination.from=s.from,this.pagination.to=s.to,this.loading=!1}).catch(s=>{this.$core.error(s,{title:this.$t("dialog.title.error")})})},async actionClicked(e,t){console.func("admins/guest-passes/GuestPassesPage:methods.actionClicked()",arguments)},async toolbarClicked(e,t){console.func("admins/guest-passes/GuestPassesPage:methods.toolbarClicked()",arguments)},async rowClicked(e,t){console.func("admins/guest-passes/GuestPassesPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Guest Pass",params:{id:t.id,title:t.name},query:{action:"edit"}})}},computed:{...b(l,["actions","rows","columns","module","toolbar","filters"]),permissions(){return[]},getColumns(){return this.columns.filter(e=>e.guard.includes(this.guard))},guard(){return this.$route.meta.guard},getToolbar(){return this.toolbar.filter(e=>e.guard.includes(this.guard))}}};function G(e,t,d,u,a,s){const c=i("base-btn"),g=i("base-table"),m=i("base-section");return P(),w(p,{padding:""},{default:o(()=>[r(m,{flat:"",bordered:"","no-row":""},{default:o(()=>[r(g,{store:a.useGuestPassStore,module:e.module,columns:s.getColumns,rows:e.rows,actions:e.actions,toolbar:s.getToolbar,filters:e.filters,loading:a.loading,pagination:a.pagination,onRequest:s.onRequest,onActionClicked:s.actionClicked,onToolbarClicked:s.toolbarClicked,onRowClicked:s.rowClicked,"no-data-label":e.$t("guestPasses.noData"),"no-permissions":""},{"body-cell-name":o(n=>[r(c,{onClick:t[0]||(t[0]=C(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Guest Pass",params:{id:n.row.id,title:n.row.name},query:{action:"edit"}}},{default:o(()=>[k(_(n.value),1)]),_:2},1032,["to"])]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked","no-data-label"])]),_:1})]),_:1})}var v=f(y,[["render",G]]);export{v as default};
