import{_ as f,M as h,u as _,r as a,o as b,d as c,e as i,t as n,f as r,w as l,h as m,Q as v,J as w,l as y,g as V}from"./index.46fdd451.js";import{Q as P}from"./QForm.fcd62a44.js";const S={data(){return{form:{remember:!1,guard:this.$route.meta.guard},isPwd:!0,errors:{},visible:!1}},methods:{...h(_,["login"]),onSubmit(){this.errors={},this.visible=!0,console.func("pages/login/LoginPage:methods.onSubmit()",arguments),this.login(this.form).then(s=>{this.hasRedirect?this.$router.replace(this.redirectPath):this.$router.push({name:"Dashboard"}),this.visible=!1}).catch(s=>{this.visible=!1,s.errors?this.errors=s.errors:this.$core.error(s.message)})}},mounted(){},computed:{hasRedirect(){return this.$route.query.redirect&&this.$route.query.redirect.length>0},redirectPath(){return this.$route.query.redirect}}},k={class:"text-h6 text-center q-mb-xl"},q={class:"col"},Q={class:"col"},C={class:"q-mt-lg q-mb-sm col"},A={key:0,class:"q-mt-md text-center"};function B(s,o,N,U,e,g){const u=a("base-label"),d=a("base-input"),p=a("base-btn");return b(),c("div",null,[i("div",k,n(s.$t(s.$route.meta.title)),1),r(P,{ref:"loginForm",onSubmit:g.onSubmit},{default:l(()=>[i("div",q,[r(u,null,{default:l(()=>[m(n(s.$t("email")),1)]),_:1}),r(d,{modelValue:e.form.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.email=t),outlined:"",dense:"",ref:"email","bottom-slots":"","error-message":"email"in e.errors?e.errors.email.join(", "):"",error:"email"in e.errors},null,8,["modelValue","error-message","error"])]),i("div",Q,[r(u,null,{default:l(()=>[m(n(s.$t("password")),1)]),_:1}),r(d,{"bottom-slots":"",outlined:"",dense:"","error-message":"password"in e.errors?e.errors.password.join(", "):"",error:"password"in e.errors,modelValue:e.form.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.password=t),type:e.isPwd?"password":"text",class:"password"},{append:l(()=>[r(v,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),counter:l(()=>[r(p,{size:"11px",color:"grey",to:{name:"Forget Password"},link:"",type:"a",label:s.$t("forgottenPassword")},null,8,["label"])]),_:1},8,["error-message","error","modelValue","type"])]),i("div",C,[r(w,{dense:"",modelValue:e.form.remember,"onUpdate:modelValue":o[3]||(o[3]=t=>e.form.remember=t),label:s.$t("rememberMe")},null,8,["modelValue","label"])]),r(y,{loading:e.visible,label:s.$t("login"),class:"full-width",color:"secondary",align:"center",type:"submit","no-caps":""},null,8,["loading","label"]),s.$route.meta.admin?V("",!0):(b(),c("div",A,[m(n(s.$t("donTHaveAnAccount"))+" ",1),r(p,{to:{name:"Sign up"},link:"",type:"a",label:s.$t("signUp")},null,8,["label"])]))]),_:1},8,["onSubmit"])])}var F=f(S,[["render",B]]);export{F as default};
